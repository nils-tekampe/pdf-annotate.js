{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/twitter-text/dist/lib/regexSupplant.js","webpack:///./node_modules/twitter-text/dist/htmlEscape.js","webpack:///./node_modules/twitter-text/dist/extractUrlsWithIndices.js","webpack:///./node_modules/twitter-text/dist/autoLinkEntities.js","webpack:///./node_modules/twitter-text/dist/regexp/atSigns.js","webpack:///./node_modules/twitter-text/dist/regexp/latinAccentChars.js","webpack:///./node_modules/twitter-text/dist/regexp/nonBmpCodePairs.js","webpack:///./node_modules/twitter-text/dist/lib/clone.js","webpack:///./node_modules/twitter-text/dist/extractCashtagsWithIndices.js","webpack:///./node_modules/twitter-text/dist/extractHashtagsWithIndices.js","webpack:///./node_modules/twitter-text/dist/regexp/hashSigns.js","webpack:///./node_modules/twitter-text/dist/regexp/invalidCharsGroup.js","webpack:///./node_modules/twitter-text/dist/extractMentionsOrListsWithIndices.js","webpack:///./node_modules/twitter-text/dist/linkToTextWithSymbol.js","webpack:///./node_modules/twitter-text/dist/configs.js","webpack:///./node_modules/twitter-text/dist/regexp/validateUrlPchar.js","webpack:///./node_modules/twitter-text/dist/regexp/punct.js","webpack:///./node_modules/twitter-text/dist/regexp/spaces.js","webpack:///./node_modules/twitter-text/dist/regexp/spacesGroup.js","webpack:///./node_modules/twitter-text/dist/regexp/validCCTLD.js","webpack:///./node_modules/twitter-text/dist/regexp/validDomainChars.js","webpack:///./node_modules/twitter-text/dist/lib/stringSupplant.js","webpack:///./node_modules/twitter-text/dist/regexp/validGTLD.js","webpack:///./node_modules/twitter-text/dist/regexp/validPunycode.js","webpack:///./node_modules/twitter-text/dist/regexp/validGeneralUrlPathChars.js","webpack:///./node_modules/twitter-text/dist/regexp/cyrillicLettersAndMarks.js","webpack:///./node_modules/twitter-text/dist/regexp/validUrlBalancedParens.js","webpack:///./node_modules/twitter-text/dist/regexp/validUrlQueryChars.js","webpack:///./node_modules/twitter-text/dist/regexp/validUrlQueryEndingChars.js","webpack:///./node_modules/twitter-text/dist/regexp/validAsciiDomain.js","webpack:///./node_modules/twitter-text/dist/removeOverlappingEntities.js","webpack:///./node_modules/twitter-text/dist/regexp/astralLetterAndMarks.js","webpack:///./node_modules/twitter-text/dist/regexp/bmpLetterAndMarks.js","webpack:///./node_modules/twitter-text/dist/regexp/hashtagAlphaNumeric.js","webpack:///./node_modules/twitter-text/dist/regexp/endMentionMatch.js","webpack:///./node_modules/twitter-text/dist/regexp/validMentionOrList.js","webpack:///./node_modules/twitter-text/dist/linkToText.js","webpack:///./node_modules/twitter-text/dist/modifyIndicesFromUTF16ToUnicode.js","webpack:///./node_modules/twitter-text/dist/hasInvalidCharacters.js","webpack:///./node_modules/twitter-text/dist/regexp/urlHasHttps.js","webpack:///./node_modules/twitter-text/dist/regexp/validateUrlUserinfo.js","webpack:///./node_modules/twitter-text/dist/regexp/validateUrlUnreserved.js","webpack:///./node_modules/twitter-text/dist/regexp/validateUrlPctEncoded.js","webpack:///./node_modules/twitter-text/dist/regexp/validateUrlSubDelims.js","webpack:///./node_modules/twitter-text/dist/regexp/validateUrlIp.js","webpack:///./node_modules/twitter-text/dist/regexp/validateUrlPort.js","webpack:///./node_modules/twitter-text/dist/index.js","webpack:///./node_modules/twitter-text/dist/extractEntitiesWithIndices.js","webpack:///./node_modules/twitter-text/dist/regexp/validCashtag.js","webpack:///./node_modules/twitter-text/dist/regexp/cashtag.js","webpack:///./node_modules/twitter-text/dist/regexp/endHashtagMatch.js","webpack:///./node_modules/twitter-text/dist/regexp/extractUrl.js","webpack:///./node_modules/twitter-text/dist/regexp/validDomain.js","webpack:///./node_modules/twitter-text/dist/regexp/validDomainName.js","webpack:///./node_modules/twitter-text/dist/regexp/invalidDomainChars.js","webpack:///./node_modules/twitter-text/dist/regexp/directionalMarkersGroup.js","webpack:///./node_modules/twitter-text/dist/regexp/validSubdomain.js","webpack:///./node_modules/twitter-text/dist/regexp/validPortNumber.js","webpack:///./node_modules/twitter-text/dist/regexp/validUrlPath.js","webpack:///./node_modules/twitter-text/dist/regexp/validUrlPathEndingChars.js","webpack:///./node_modules/twitter-text/dist/regexp/validUrlPrecedingChars.js","webpack:///./node_modules/twitter-text/dist/regexp/invalidUrlWithoutProtocolPrecedingChars.js","webpack:///./node_modules/twitter-text/dist/regexp/validTcoUrl.js","webpack:///./node_modules/twitter-text/dist/regexp/validHashtag.js","webpack:///./node_modules/twitter-text/dist/regexp/hashtagAlpha.js","webpack:///./node_modules/twitter-text/dist/regexp/astralNumerals.js","webpack:///./node_modules/twitter-text/dist/regexp/bmpNumerals.js","webpack:///./node_modules/twitter-text/dist/regexp/hashtagSpecialChars.js","webpack:///./node_modules/twitter-text/dist/regexp/hashtagBoundary.js","webpack:///./node_modules/twitter-text/dist/regexp/codePoint.js","webpack:///./node_modules/twitter-text/dist/regexp/validMentionPrecedingChars.js","webpack:///./node_modules/twitter-text/dist/extractHtmlAttrsFromOptions.js","webpack:///./node_modules/twitter-text/dist/linkToCashtag.js","webpack:///./node_modules/twitter-text/dist/tagAttrs.js","webpack:///./node_modules/twitter-text/dist/linkToHashtag.js","webpack:///./node_modules/twitter-text/dist/regexp/rtlChars.js","webpack:///./node_modules/twitter-text/dist/linkToUrl.js","webpack:///./node_modules/twitter-text/dist/linkTextWithEntity.js","webpack:///./node_modules/twitter-text/dist/regexp/urlHasProtocol.js","webpack:///./node_modules/twitter-text/dist/linkToMentionAndList.js","webpack:///./node_modules/twitter-text/dist/modifyIndicesFromUnicodeToUTF16.js","webpack:///./node_modules/twitter-text/dist/lib/convertUnicodeIndices.js","webpack:///./node_modules/twitter-text/dist/extractHashtags.js","webpack:///./node_modules/twitter-text/dist/extractMentions.js","webpack:///./node_modules/twitter-text/dist/extractMentionsWithIndices.js","webpack:///./node_modules/twitter-text/dist/regexp/validReply.js","webpack:///./node_modules/twitter-text/dist/getTweetLength.js","webpack:///./node_modules/twitter-text/dist/lib/getCharacterWeight.js","webpack:///./node_modules/twitter-text/dist/parseTweet.js","webpack:///./node_modules/twitter-text/dist/regexp/invalidChars.js","webpack:///./node_modules/twitter-text/dist/splitTags.js","webpack:///./node_modules/twitter-text/dist/isInvalidTweet.js","webpack:///./node_modules/twitter-text/dist/regexp/validateUrlAuthority.js","webpack:///./node_modules/twitter-text/dist/regexp/validateUrlHost.js","webpack:///./node_modules/twitter-text/dist/regexp/validateUrlDomain.js","webpack:///./node_modules/twitter-text/dist/regexp/validateUrlDomainSegment.js","webpack:///./node_modules/twitter-text/dist/regexp/validateUrlDomainTld.js","webpack:///./node_modules/twitter-text/dist/regexp/validateUrlSubDomainSegment.js","webpack:///./node_modules/twitter-text/dist/regexp/validateUrlIpv4.js","webpack:///./node_modules/twitter-text/dist/regexp/validateUrlDecOctet.js","webpack:///./node_modules/twitter-text/dist/regexp/validateUrlIpv6.js","webpack:///./node_modules/twitter-text/dist/regexp/validateUrlFragment.js","webpack:///./node_modules/twitter-text/dist/regexp/validateUrlPath.js","webpack:///./node_modules/twitter-text/dist/regexp/validateUrlQuery.js","webpack:///./node_modules/twitter-text/dist/regexp/validateUrlScheme.js","webpack:///./node_modules/twitter-text/dist/regexp/validateUrlUnencoded.js","webpack:///./node_modules/twitter-text/dist/regexp/validateUrlUnicodeAuthority.js","webpack:///./node_modules/twitter-text/dist/regexp/validateUrlUnicodeHost.js","webpack:///./node_modules/twitter-text/dist/regexp/validateUrlUnicodeDomain.js","webpack:///./node_modules/twitter-text/dist/regexp/validateUrlUnicodeSubDomainSegment.js","webpack:///./node_modules/twitter-text/dist/regexp/validateUrlUnicodeDomainSegment.js","webpack:///./node_modules/twitter-text/dist/regexp/validateUrlUnicodeDomainTld.js","webpack:///./node_modules/events/events.js","webpack:///./node_modules/create-stylesheet/index.js","webpack:///./node_modules/object-assign/index.js","webpack:///./node_modules/twitter-text/dist/autoLink.js","webpack:///./node_modules/twitter-text/dist/lib/idna.js","webpack:///./node_modules/punycode/punycode.js","webpack:///(webpack)/buildin/module.js","webpack:///(webpack)/buildin/global.js","webpack:///./node_modules/twitter-text/dist/autoLinkCashtags.js","webpack:///./node_modules/twitter-text/dist/autoLinkHashtags.js","webpack:///./node_modules/twitter-text/dist/autoLinkUrlsCustom.js","webpack:///./node_modules/twitter-text/dist/autoLinkUsernamesOrLists.js","webpack:///./node_modules/twitter-text/dist/autoLinkWithJSON.js","webpack:///./node_modules/twitter-text/dist/convertUnicodeIndices.js","webpack:///./node_modules/twitter-text/dist/extractCashtags.js","webpack:///./node_modules/twitter-text/dist/extractReplies.js","webpack:///./node_modules/twitter-text/dist/extractUrls.js","webpack:///./node_modules/twemoji-parser/dist/index.js","webpack:///./node_modules/twemoji-parser/dist/lib/regex.js","webpack:///./node_modules/twitter-text/dist/getUnicodeTextLength.js","webpack:///./node_modules/twitter-text/dist/hitHighlight.js","webpack:///./node_modules/twitter-text/dist/isValidHashtag.js","webpack:///./node_modules/twitter-text/dist/isValidList.js","webpack:///./node_modules/twitter-text/dist/isValidTweetText.js","webpack:///./node_modules/twitter-text/dist/isValidUrl.js","webpack:///./node_modules/twitter-text/dist/isValidUsername.js","webpack:///./node_modules/twitter-text/dist/regexp/index.js","webpack:///./src/utils/abstractFunction.js","webpack:///./src/UI/utils.js","webpack:///./src/UI/event.js","webpack:///./src/adapter/StoreAdapter.js","webpack:///./src/utils/uuid.js","webpack:///./src/adapter/LocalStoreAdapter.js","webpack:///./src/utils/setAttributes.js","webpack:///./src/utils/normalizeColor.js","webpack:///./src/render/renderPoint.js","webpack:///./src/render/renderRect.js","webpack:///./src/render/appendChild.js","webpack:///./src/render/renderLine.js","webpack:///./src/render/renderText.js","webpack:///./src/render/renderPath.js","webpack:///./src/a11y/createScreenReaderOnly.js","webpack:///./src/a11y/insertElementWithinElement.js","webpack:///./src/a11y/insertElementWithinChildren.js","webpack:///./src/a11y/insertScreenReaderComment.js","webpack:///./src/a11y/renderScreenReaderComments.js","webpack:///./src/a11y/insertScreenReaderHint.js","webpack:///./src/a11y/initEventHandlers.js","webpack:///./src/a11y/renderScreenReaderHints.js","webpack:///./src/UI/edit.js","webpack:///./src/UI/pen.js","webpack:///./src/UI/point.js","webpack:///./src/UI/rect.js","webpack:///./src/UI/text.js","webpack:///./src/UI/page.js","webpack:///./src/UI/index.js","webpack:///./src/PDFJSAnnotate.js","webpack:///./src/render/index.js","webpack:///./index.js","webpack:///./docs/shared/initColorPicker.js","webpack:///./docs/main.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","default","regex","map","flags","global","indexOf","ignoreCase","multiline","source","RegExp","replace","match","newRegex","text","character","HTML_ENTITIES","_extractUrl2","_interopRequireDefault","_invalidUrlWithoutProtocolPrecedingChars2","_idna2","_validAsciiDomain2","_validTcoUrl2","obj","DEFAULT_PROTOCOL_OPTIONS","extractUrlsWithoutProtocol","isValidUrl","url","protocol","domain","urlLength","length","punycodeEncodedDomain","toAscii","options","arguments","undefined","urls","_loop","before","$2","$3","$4","$5","path","$7","endPosition","lastIndex","startPosition","tcoUrlSlug","$1","lastMatch","push","indices","lastUrl","asciiEndPosition","asciiDomain","asciiStartPosition","exec","entities","urlEntities","len","_clone2","hashtagClass","DEFAULT_HASHTAG_CLASS","hashtagUrlBase","cashtagClass","DEFAULT_CASHTAG_CLASS","cashtagUrlBase","listClass","DEFAULT_LIST_CLASS","usernameClass","DEFAULT_USERNAME_CLASS","usernameUrlBase","listUrlBase","htmlAttrs","_extractHtmlAttrsFromOptions2","invisibleTagAttrs","result","beginIndex","sort","a","b","nonEntity","htmlEscapeNonEntities","_htmlEscape2","entity","substring","_linkToUrl2","hashtag","_linkToHashtag2","screenName","_linkToMentionAndList2","cashtag","_linkToCashtag2","k","tags","_validCashtag2","dollar","offset","chunk","_validCashtag","_endHashtagMatch2","_extractUrlsWithIndices2","_hashSigns2","_removeOverlappingEntities2","_validHashtag2","checkUrlOverlap","hash","hashText","slice","concat","_atSigns2","possibleNames","_validMentionOrList2","atSign","slashListname","_endMentionMatch2","listSlug","symbol","attributes","taggedSymbol","symbolTag","taggedText","textWithSymbolTag","usernameIncludeSymbol","_linkToText2","version1","version","maxWeightedTweetLength","scale","defaultWeight","transformedURLLength","ranges","version2","start","end","weight","version3","emojiParsingEnabled","defaults","_regexSupplant2","_validateUrlUnreserved2","_validateUrlPctEncoded2","_validateUrlSubDelims2","validateUrlPchar","validateUrlUnreserved","validateUrlPctEncoded","validateUrlSubDelims","_spacesGroup2","spacesGroup","_regexSupplant","validCCTLD","_invalidDomainChars2","validDomainChars","invalidDomainChars","str","validGTLD","_cyrillicLettersAndMarks2","_latinAccentChars2","validGeneralUrlPathChars","cyrillicLettersAndMarks","latinAccentChars","_validGeneralUrlPathChars2","validUrlBalancedParens","_validCCTLD2","_validGTLD2","_validPunycode2","validAsciiDomain","validPunycode","prev","splice","_astralLetterAndMarks2","_astralNumerals2","_bmpLetterAndMarks2","_bmpNumerals2","_hashtagSpecialChars2","_nonBmpCodePairs2","hashtagAlphaNumeric","bmpLetterAndMarks","bmpNumerals","hashtagSpecialChars","nonBmpCodePairs","astralLetterAndMarks","astralNumerals","endMentionMatch","atSigns","_validMentionPrecedingChars2","validMentionOrList","validMentionPrecedingChars","suppressNoFollow","rel","linkAttributeBlock","linkTextBlock","attr","_tagAttrs2","_stringSupplant2","_convertUnicodeIndices2","_convertUnicodeIndices","_invalidChars2","test","_invalidChars","validateUrlUserinfo","_validateUrlIpv2","_validateUrlIpv4","validateUrlIp","validateUrlIpv4","validateUrlIpv6","_autoLink2","_autoLinkCashtags2","_autoLinkEntities2","_autoLinkHashtags2","_autoLinkUrlsCustom2","_autoLinkUsernamesOrLists2","_autoLinkWithJSON2","_configs2","_extractCashtags2","_extractCashtagsWithIndices2","_extractEntitiesWithIndices2","_extractHashtags2","_extractHashtagsWithIndices2","_extractMentions2","_extractMentionsOrListsWithIndices2","_extractMentionsWithIndices2","_extractReplies2","_extractUrls2","_getTweetLength2","_getUnicodeTextLength2","_hasInvalidCharacters2","_hitHighlight2","_isInvalidTweet2","_isValidHashtag2","_isValidList2","_isValidTweetText2","_isValidUrl2","_isValidUsername2","_linkTextWithEntity2","_linkToTextWithSymbol2","_modifyIndicesFromUTF16ToUnicode2","_modifyIndicesFromUnicodeToUTF2","_index2","_parseTweet2","_splitTags2","autoLink","autoLinkCashtags","autoLinkEntities","autoLinkHashtags","autoLinkUrlsCustom","autoLinkUsernamesOrLists","autoLinkWithJSON","configs","convertUnicodeIndices","extractCashtags","extractCashtagsWithIndices","extractEntitiesWithIndices","extractHashtags","extractHashtagsWithIndices","extractHtmlAttrsFromOptions","extractMentions","extractMentionsOrListsWithIndices","extractMentionsWithIndices","extractReplies","extractUrls","extractUrlsWithIndices","getTweetLength","getUnicodeTextLength","hasInvalidCharacters","hitHighlight","htmlEscape","isInvalidTweet","isValidHashtag","isValidList","isValidTweetText","isValidUsername","linkTextWithEntity","linkToCashtag","linkToHashtag","linkToMentionAndList","linkToText","linkToTextWithSymbol","linkToUrl","modifyIndicesFromUTF16ToUnicode","modifyIndicesFromUnicodeToUTF16","regexen","removeOverlappingEntities","parseTweet","splitTags","tagAttrs","_cashtag2","_punct2","_spaces2","validCashtag","spaces","punct","endHashtagMatch","hashSigns","_validDomain2","_validPortNumber2","_validUrlPath2","_validUrlPrecedingChars2","_validUrlQueryChars2","_validUrlQueryEndingChars2","extractUrl","validUrlPrecedingChars","validDomain","validPortNumber","validUrlPath","validUrlQueryChars","validUrlQueryEndingChars","_validDomainName2","_validSubdomain2","validDomainName","validSubdomain","_validDomainChars2","_directionalMarkersGroup2","_invalidCharsGroup2","invalidCharsGroup","directionalMarkersGroup","_validUrlBalancedParens2","_validUrlPathEndingChars2","validUrlPathEndingChars","validTcoUrl","_hashtagAlpha2","_hashtagAlphaNumeric2","_hashtagBoundary2","validHashtag","hashtagBoundary","hashtagAlpha","_codePoint2","codePoint","v","OPTIONS_NOT_ATTRIBUTES","BOOLEAN_ATTRIBUTES","disabled","readonly","multiple","checked","urlClass","usernameUrlBlock","listUrlBlock","hashtagUrlBlock","linkUrlBlock","suppressLists","targetBlank","suppressDataScreenName","urlTarget","attrs","href","title","target","toString","_htmlEscape","charAt","_rtlChars2","displayUrl","linkText","urlEntity","display_url","_urlHasProtocol2","expanded_url","expandedUrl","displayUrlSansEllipses","displayUrlIndex","beforeDisplayUrl","substr","afterDisplayUrl","precedingEllipsis","followingEllipsis","at","user","isList","indicesInUTF16","charIndex","codePointIndex","entityIndex","charCodeAt","hashtagsOnly","hashtagsWithIndices","_extractHashtagsWithIndices","screenNamesOnly","screenNamesWithIndices","_extractMentionsWithIndices","mentions","mentionOrList","mentionsOrLists","_extractMentionsOrListsWithIndices","validReply","weightedLength","ch","chCodePoint","Array","isArray","currRange","_getCharacterWeight2","_twemojiParser","transformEntitiesToHash","reduce","isSurrogatePair","cIndex","cNext","mergedOptions","keys","normalizedText","String","normalize","urlEntitiesMap","emojiEntitiesMap","parse","tweetLength","validDisplayIndex","valid","_urlEntitiesMap$charI","_emojiEntitiesMap$cha","emoji","permillage","Math","floor","normalizationOffset","validRangeStart","validRangeEnd","displayRangeStart","displayRangeEnd","invalidChars","firstSplits","split","secondSplits","allSplits","j","assign","maxLength","_validateUrlUserinfo2","_validateUrlHost2","_validateUrlPort2","validateUrlAuthority","validateUrlHost","validateUrlPort","_validateUrlDomain2","_validateUrlIp2","validateUrlDomain","_validateUrlDomainSegment2","_validateUrlDomainTld2","_validateUrlSubDomainSegment2","validateUrlSubDomainSegment","validateUrlDomainSegment","validateUrlDomainTld","_validateUrlDecOctet2","validateUrlDecOctet","_validateUrlPchar2","validateUrlFragment","validateUrlPath","validateUrlQuery","validateUrlUnencoded","_validateUrlUnicodeHost2","validateUrlUnicodeAuthority","validateUrlUnicodeHost","_validateUrlUnicodeDomain2","validateUrlUnicodeDomain","_validateUrlUnicodeSubDomainSegment2","_validateUrlUnicodeDomainSegment2","_validateUrlUnicodeDomainTld2","validateUrlUnicodeSubDomainSegment","validateUrlUnicodeDomainSegment","validateUrlUnicodeDomainTld","ReflectOwnKeys","R","Reflect","ReflectApply","apply","receiver","args","Function","ownKeys","getOwnPropertySymbols","getOwnPropertyNames","NumberIsNaN","Number","isNaN","EventEmitter","init","this","_events","_eventsCount","_maxListeners","defaultMaxListeners","$getMaxListeners","that","_addListener","type","listener","prepend","events","existing","warning","TypeError","newListener","emit","unshift","warned","w","Error","emitter","count","console","warn","onceWrapper","fired","removeListener","wrapFn","_onceWrap","state","wrapped","_listeners","unwrap","evlistener","arr","ret","unwrapListeners","arrayClone","listenerCount","copy","set","arg","RangeError","getPrototypeOf","setMaxListeners","getMaxListeners","doError","error","er","err","message","context","handler","listeners","addListener","on","prependListener","once","prependOnceListener","list","position","originalListener","shift","index","pop","spliceOne","off","removeAllListeners","rawListeners","eventNames","blocks","style","document","createElement","selector","block","prop","toLowerCase","hyphenate","processDeclaration","join","processDeclarationBlock","processRuleSet","setAttribute","appendChild","createTextNode","propIsEnumerable","propertyIsEnumerable","toObject","val","test1","test2","fromCharCode","test3","forEach","letter","shouldUseNative","from","symbols","to","_punycode2","idna","labels","label","punycodeEncodedLabel","toASCII","root","nodeType","freeGlobal","window","self","punycode","maxInt","base","tMin","tMax","skew","damp","initialBias","initialN","delimiter","regexPunycode","regexNonASCII","regexSeparators","errors","baseMinusTMin","stringFromCharCode","array","fn","mapDomain","string","parts","ucs2decode","extra","output","counter","ucs2encode","digitToBasic","digit","flag","adapt","delta","numPoints","firstTime","decode","input","out","basic","oldi","baseMinusT","inputLength","bias","lastIndexOf","encode","handledCPCount","basicLength","q","currentValue","handledCPCountPlusOne","qMinusT","webpackPolyfill","deprecate","paths","children","g","e","json","user_mentions","screen_name","hashtags","cashtagsOnly","cashtagsWithIndices","_extractCashtagsWithIndices","possibleScreenName","_validReply2","rightContext","urlsOnly","urlsWithIndices","_extractUrlsWithIndices","TypeName","assetType","getTwemojiUrl","buildUrl","codepoints","_regex2","emojiText","toCodePoints","removeVS16s","_regex","vs16RegExp","zeroWidthJoiner","rawEmoji","unicodeSurrogates","points","char","previous","_nonBmpCodePairs","hits","tagName","tag","chunks","chunkIndex","prevChunksLen","chunkCursor","startInChunk","chunkChars","flatHits","hit","placed","hitSpot","_splitTags","extracted","_extractHashtags","usernameList","VALID_LIST_RE","_isInvalidTweet","unicodeDomains","requireProtocol","urlParts","_validateUrlUnencoded2","scheme","authority","query","fragment","isValidMatch","_validateUrlScheme2","_validateUrlPath2","_validateUrlQuery2","_validateUrlFragment2","_validateUrlUnicodeAuthority2","_validateUrlAuthority2","optional","username","_extractMentions","_urlHasHttps2","invalidUrlWithoutProtocolPrecedingChars","rtlChars","urlHasHttps","urlHasProtocol","validateUrlScheme","abstractFunction","BORDER_COLOR","userSelectStyleSheet","createStyleSheet","body","findSVGAtPoint","x","y","elements","querySelectorAll","el","pointIntersectsRect","getBoundingClientRect","rect","top","bottom","left","right","getOffsetAnnotationRect","getAnnotationRect","getOffset","offsetLeft","offsetTop","h","nodeName","minX","maxX","minY","maxY","getAttribute","parseInt","LINE_OFFSET","height","width","includes","scaleUp","svg","viewport","getMetadata","scaleDown","parentNode","toUpperCase","disableUserSelect","head","enableUserSelect","removeChild","documentId","pageNumber","JSON","clickNode","fireEvent","addEventListener","removeEventListener","clientX","clientY","findAnnotationAtPoint","StoreAdapter","definition","annotationId","annotation","content","commentId","__getAnnotations","then","annotations","__addAnnotation","__editAnnotation","__deleteAnnotation","success","__addComment","comment","__deleteComment","REGEXP","PATTERN","replacement","random","uuid","LocalStoreAdapter","getAnnotations","Promise","resolve","reject","filter","page","getAnnotation","findAnnotation","addAnnotation","updateAnnotations","editAnnotation","deleteAnnotation","getComments","addComment","class","deleteComment","localStorage","getItem","setItem","stringify","UPPER_REGEX","BLACKLIST","keyCase","setAttributes","node","REGEX_HASHLESS_HEX","normalizeColor","color","SIZE","D","createRect","createElementNS","isFirefox","navigator","userAgent","child","group","fill","fillOpacity","rectangles","stroke","renderRect","strokeWidth","line","x1","y1","x2","y2","outerSVG","innerSVG","viewBox","renderPoint","size","fontSize","innerHTML","renderText","lines","p1","p2","renderPath","transform","trans","rotation","getTranslation","querySelector","objectAssign","createScreenReaderOnly","overflow","insertElementWithinElement","insertBefore","textLayerElementFromPoint","max","temp","cloneNode","tail","outerHTML","insertElementWithinChildren","nodes","textLayer","insertScreenReaderComment","item","renderScreenReaderComments","comments","PDFJSAnnotate","getStoreAdapter","getElementById","COMMENT_TYPES","reorderAnnotationsByType","removeAnnotation","renderScreenReaderHints","removeElementById","insertComment","removeComment","elementId","SORT_TYPES","sortBy","num","rects","first","last","insertScreenReaderHint","sortByPoint","sortByRectPoint","lineA","lineB","overlay","dragOffsetX","dragOffsetY","dragStartX","dragStartY","_enabled","isDragging","OVERLAY_BORDER_SIZE","createEditOverlay","destroyEditOverlay","anchor","findSVGContainer","id","styleLeft","styleTop","boxSizing","border","borderRadius","background","padding","textAlign","textDecoration","handleDocumentClick","handleDocumentKeyup","handleDocumentMousedown","borderColor","boxShadow","display","handleDocumentMousemove","handleDocumentMouseup","keyCode","cursor","offsetHeight","offsetWidth","calcDelta","deltaX","deltaY","propX","propY","modelY","viewY","modelX","viewX","originX","originY","setTimeout","handleAnnotationClick","_penSize","_penColor","point","savePoint","handleInputBlur","handleInputKeyup","focus","closeInput","trim","_type","getSelection","getRangeAt","getClientRects","getSelectionRects","saveRect","removeAllRanges","boundingRect","_textSize","_textColor","saveText","PAGE_TEMPLATE","approximateFraction","xinv","x_","roundToDivide","div","round","disableEdit","enableEdit","disablePen","enablePen","setPen","penSize","penColor","disablePoint","enablePoint","disableRect","enableRect","disableText","enableText","setText","textSize","textColor","createPage","canvas","mozOpaque","renderPage","renderOptions","pdfDocument","rotate","all","getPage","pdfPage","canvasContext","getContext","alpha","getViewport","wrapper","outputScale","ctx","devicePixelRatio","backingStoreRatio","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","backingStorePixelRatio","pixelRatio","sx","sy","scaled","sfx","sfy","visibility","scalePage","render","getTextContent","normalizeWhitespace","textContent","textLayerBuilder","PDFJS","DefaultTextLayerFactory","createTextLayerBuilder","setTextContent","__storeAdapter","setStoreAdapter","adapter","UI","data","removeAttribute","COLORS","hex","initColorPicker","onChange","setColor","fireOnChange","closePicker","picker","isPickerOpen","createColorOption","className","onclick","margin","openPicker","PAGE_HEIGHT","RENDER_OPTIONS","parseFloat","workerSrc","NUM_PAGES","getDocument","pdf","viewer","pdfInfo","numPages","visiblePageNum","scrollTop","modified","selected","classList","remove","add","Option","initPen","tooltype","setActiveToolbarItem","button","active","setScaleRotate","confirm","removeItem","commentList","commentForm","commentText","supportsComments","twitter","onsubmit"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 139);\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (regex, map, flags) {\n  flags = flags || '';\n  if (typeof regex !== 'string') {\n    if (regex.global && flags.indexOf('g') < 0) {\n      flags += 'g';\n    }\n    if (regex.ignoreCase && flags.indexOf('i') < 0) {\n      flags += 'i';\n    }\n    if (regex.multiline && flags.indexOf('m') < 0) {\n      flags += 'm';\n    }\n\n    regex = regex.source;\n  }\n\n  return new RegExp(regex.replace(/#\\{(\\w+)\\}/g, function (match, name) {\n    var newRegex = map[name] || '';\n    if (typeof newRegex !== 'string') {\n      newRegex = newRegex.source;\n    }\n    return newRegex;\n  }), flags);\n};\n\nmodule.exports = exports['default']; // Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\n// Builds a RegExp","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (text) {\n  return text && text.replace(/[&\"'><]/g, function (character) {\n    return HTML_ENTITIES[character];\n  });\n};\n\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nvar HTML_ENTITIES = {\n  '&': '&amp;',\n  '>': '&gt;',\n  '<': '&lt;',\n  '\"': '&quot;',\n  \"'\": '&#39;'\n};\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extractUrl = require('./regexp/extractUrl');\n\nvar _extractUrl2 = _interopRequireDefault(_extractUrl);\n\nvar _invalidUrlWithoutProtocolPrecedingChars = require('./regexp/invalidUrlWithoutProtocolPrecedingChars');\n\nvar _invalidUrlWithoutProtocolPrecedingChars2 = _interopRequireDefault(_invalidUrlWithoutProtocolPrecedingChars);\n\nvar _idna = require('./lib/idna');\n\nvar _idna2 = _interopRequireDefault(_idna);\n\nvar _validAsciiDomain = require('./regexp/validAsciiDomain');\n\nvar _validAsciiDomain2 = _interopRequireDefault(_validAsciiDomain);\n\nvar _validTcoUrl = require('./regexp/validTcoUrl');\n\nvar _validTcoUrl2 = _interopRequireDefault(_validTcoUrl);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar DEFAULT_PROTOCOL = 'https://'; // Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nvar DEFAULT_PROTOCOL_OPTIONS = { extractUrlsWithoutProtocol: true };\nvar MAX_URL_LENGTH = 4096;\nvar MAX_TCO_SLUG_LENGTH = 40;\n\nvar extractUrlsWithIndices = function extractUrlsWithIndices(text) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : DEFAULT_PROTOCOL_OPTIONS;\n\n  if (!text || (options.extractUrlsWithoutProtocol ? !text.match(/\\./) : !text.match(/:/))) {\n    return [];\n  }\n\n  var urls = [];\n\n  var _loop = function _loop() {\n    var before = RegExp.$2;\n    var url = RegExp.$3;\n    var protocol = RegExp.$4;\n    var domain = RegExp.$5;\n    var path = RegExp.$7;\n    var endPosition = _extractUrl2.default.lastIndex;\n    var startPosition = endPosition - url.length;\n\n    if (!isValidUrl(url, protocol || DEFAULT_PROTOCOL, domain)) {\n      return 'continue';\n    }\n    // extract ASCII-only domains.\n    if (!protocol) {\n      if (!options.extractUrlsWithoutProtocol || before.match(_invalidUrlWithoutProtocolPrecedingChars2.default)) {\n        return 'continue';\n      }\n\n      var lastUrl = null;\n      var asciiEndPosition = 0;\n      domain.replace(_validAsciiDomain2.default, function (asciiDomain) {\n        var asciiStartPosition = domain.indexOf(asciiDomain, asciiEndPosition);\n        asciiEndPosition = asciiStartPosition + asciiDomain.length;\n        lastUrl = {\n          url: asciiDomain,\n          indices: [startPosition + asciiStartPosition, startPosition + asciiEndPosition]\n        };\n        urls.push(lastUrl);\n      });\n\n      // no ASCII-only domain found. Skip the entire URL.\n      if (lastUrl == null) {\n        return 'continue';\n      }\n\n      // lastUrl only contains domain. Need to add path and query if they exist.\n      if (path) {\n        lastUrl.url = url.replace(domain, lastUrl.url);\n        lastUrl.indices[1] = endPosition;\n      }\n    } else {\n      // In the case of t.co URLs, don't allow additional path characters.\n      if (url.match(_validTcoUrl2.default)) {\n        var tcoUrlSlug = RegExp.$1;\n        if (tcoUrlSlug && tcoUrlSlug.length > MAX_TCO_SLUG_LENGTH) {\n          return 'continue';\n        } else {\n          url = RegExp.lastMatch;\n          endPosition = startPosition + url.length;\n        }\n      }\n      urls.push({\n        url: url,\n        indices: [startPosition, endPosition]\n      });\n    }\n  };\n\n  while (_extractUrl2.default.exec(text)) {\n    var _ret = _loop();\n\n    if (_ret === 'continue') continue;\n  }\n\n  return urls;\n};\n\nvar isValidUrl = function isValidUrl(url, protocol, domain) {\n  var urlLength = url.length;\n  var punycodeEncodedDomain = _idna2.default.toAscii(domain);\n  if (!punycodeEncodedDomain || !punycodeEncodedDomain.length) {\n    return false;\n  }\n\n  urlLength = urlLength + punycodeEncodedDomain.length - domain.length;\n  return protocol.length + urlLength <= MAX_URL_LENGTH;\n};\n\nexports.default = extractUrlsWithIndices;\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (text, entities, options) {\n  var options = (0, _clone2.default)(options || {});\n  options.hashtagClass = options.hashtagClass || DEFAULT_HASHTAG_CLASS;\n  options.hashtagUrlBase = options.hashtagUrlBase || 'https://twitter.com/search?q=%23';\n  options.cashtagClass = options.cashtagClass || DEFAULT_CASHTAG_CLASS;\n  options.cashtagUrlBase = options.cashtagUrlBase || 'https://twitter.com/search?q=%24';\n  options.listClass = options.listClass || DEFAULT_LIST_CLASS;\n  options.usernameClass = options.usernameClass || DEFAULT_USERNAME_CLASS;\n  options.usernameUrlBase = options.usernameUrlBase || 'https://twitter.com/';\n  options.listUrlBase = options.listUrlBase || 'https://twitter.com/';\n  options.htmlAttrs = (0, _extractHtmlAttrsFromOptions2.default)(options);\n  options.invisibleTagAttrs = options.invisibleTagAttrs || \"style='position:absolute;left:-9999px;'\";\n\n  // remap url entities to hash\n  var urlEntities, i, len;\n  if (options.urlEntities) {\n    urlEntities = {};\n    for (i = 0, len = options.urlEntities.length; i < len; i++) {\n      urlEntities[options.urlEntities[i].url] = options.urlEntities[i];\n    }\n    options.urlEntities = urlEntities;\n  }\n\n  var result = '';\n  var beginIndex = 0;\n\n  // sort entities by start index\n  entities.sort(function (a, b) {\n    return a.indices[0] - b.indices[0];\n  });\n\n  var nonEntity = options.htmlEscapeNonEntities ? _htmlEscape2.default : function (text) {\n    return text;\n  };\n\n  for (var i = 0; i < entities.length; i++) {\n    var entity = entities[i];\n    result += nonEntity(text.substring(beginIndex, entity.indices[0]));\n\n    if (entity.url) {\n      result += (0, _linkToUrl2.default)(entity, text, options);\n    } else if (entity.hashtag) {\n      result += (0, _linkToHashtag2.default)(entity, text, options);\n    } else if (entity.screenName) {\n      result += (0, _linkToMentionAndList2.default)(entity, text, options);\n    } else if (entity.cashtag) {\n      result += (0, _linkToCashtag2.default)(entity, text, options);\n    }\n    beginIndex = entity.indices[1];\n  }\n  result += nonEntity(text.substring(beginIndex, text.length));\n  return result;\n};\n\nvar _clone = require('./lib/clone');\n\nvar _clone2 = _interopRequireDefault(_clone);\n\nvar _extractHtmlAttrsFromOptions = require('./extractHtmlAttrsFromOptions');\n\nvar _extractHtmlAttrsFromOptions2 = _interopRequireDefault(_extractHtmlAttrsFromOptions);\n\nvar _htmlEscape = require('./htmlEscape');\n\nvar _htmlEscape2 = _interopRequireDefault(_htmlEscape);\n\nvar _linkToCashtag = require('./linkToCashtag');\n\nvar _linkToCashtag2 = _interopRequireDefault(_linkToCashtag);\n\nvar _linkToHashtag = require('./linkToHashtag');\n\nvar _linkToHashtag2 = _interopRequireDefault(_linkToHashtag);\n\nvar _linkToUrl = require('./linkToUrl');\n\nvar _linkToUrl2 = _interopRequireDefault(_linkToUrl);\n\nvar _linkToMentionAndList = require('./linkToMentionAndList');\n\nvar _linkToMentionAndList2 = _interopRequireDefault(_linkToMentionAndList);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Default CSS class for auto-linked lists (along with the url class)\nvar DEFAULT_LIST_CLASS = 'tweet-url list-slug';\n// Default CSS class for auto-linked usernames (along with the url class)\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nvar DEFAULT_USERNAME_CLASS = 'tweet-url username';\n// Default CSS class for auto-linked hashtags (along with the url class)\nvar DEFAULT_HASHTAG_CLASS = 'tweet-url hashtag';\n// Default CSS class for auto-linked cashtags (along with the url class)\nvar DEFAULT_CASHTAG_CLASS = 'tweet-url cashtag';\n\nmodule.exports = exports['default'];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nvar atSigns = /[@＠]/;\nexports.default = atSigns;\nmodule.exports = exports[\"default\"];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nvar latinAccentChars = /\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\xFF\\u0100-\\u024F\\u0253\\u0254\\u0256\\u0257\\u0259\\u025B\\u0263\\u0268\\u026F\\u0272\\u0289\\u028B\\u02BB\\u0300-\\u036F\\u1E00-\\u1EFF/;\nexports.default = latinAccentChars;\nmodule.exports = exports[\"default\"];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nvar nonBmpCodePairs = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/gm;\nexports.default = nonBmpCodePairs;\nmodule.exports = exports[\"default\"];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (o) {\n  var r = {};\n  for (var k in o) {\n    if (o.hasOwnProperty(k)) {\n      r[k] = o[k];\n    }\n  }\n\n  return r;\n};\n\nmodule.exports = exports[\"default\"]; // Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (text) {\n  if (!text || text.indexOf('$') === -1) {\n    return [];\n  }\n\n  var tags = [];\n\n  text.replace(_validCashtag2.default, function (match, before, dollar, cashtag, offset, chunk) {\n    var startPosition = offset + before.length;\n    var endPosition = startPosition + cashtag.length + 1;\n    tags.push({\n      cashtag: cashtag,\n      indices: [startPosition, endPosition]\n    });\n  });\n\n  return tags;\n};\n\nvar _validCashtag = require('./regexp/validCashtag');\n\nvar _validCashtag2 = _interopRequireDefault(_validCashtag);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _endHashtagMatch = require('./regexp/endHashtagMatch');\n\nvar _endHashtagMatch2 = _interopRequireDefault(_endHashtagMatch);\n\nvar _extractUrlsWithIndices = require('./extractUrlsWithIndices');\n\nvar _extractUrlsWithIndices2 = _interopRequireDefault(_extractUrlsWithIndices);\n\nvar _hashSigns = require('./regexp/hashSigns');\n\nvar _hashSigns2 = _interopRequireDefault(_hashSigns);\n\nvar _removeOverlappingEntities = require('./removeOverlappingEntities');\n\nvar _removeOverlappingEntities2 = _interopRequireDefault(_removeOverlappingEntities);\n\nvar _validHashtag = require('./regexp/validHashtag');\n\nvar _validHashtag2 = _interopRequireDefault(_validHashtag);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar extractHashtagsWithIndices = function extractHashtagsWithIndices(text, options) {\n  if (!options) {\n    options = { checkUrlOverlap: true };\n  }\n\n  if (!text || !text.match(_hashSigns2.default)) {\n    return [];\n  }\n\n  var tags = [];\n\n  text.replace(_validHashtag2.default, function (match, before, hash, hashText, offset, chunk) {\n    var after = chunk.slice(offset + match.length);\n    if (after.match(_endHashtagMatch2.default)) {\n      return;\n    }\n    var startPosition = offset + before.length;\n    var endPosition = startPosition + hashText.length + 1;\n    tags.push({\n      hashtag: hashText,\n      indices: [startPosition, endPosition]\n    });\n  });\n\n  if (options.checkUrlOverlap) {\n    // also extract URL entities\n    var urls = (0, _extractUrlsWithIndices2.default)(text);\n    if (urls.length > 0) {\n      var entities = tags.concat(urls);\n      // remove overlap\n      (0, _removeOverlappingEntities2.default)(entities);\n      // only push back hashtags\n      tags = [];\n      for (var i = 0; i < entities.length; i++) {\n        if (entities[i].hashtag) {\n          tags.push(entities[i]);\n        }\n      }\n    }\n  }\n\n  return tags;\n}; // Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nexports.default = extractHashtagsWithIndices;\nmodule.exports = exports['default'];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nvar hashSigns = /[#＃]/;\nexports.default = hashSigns;\nmodule.exports = exports[\"default\"];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nvar invalidCharsGroup = /\\uFFFE\\uFEFF\\uFFFF/;\nexports.default = invalidCharsGroup;\nmodule.exports = exports[\"default\"];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (text) {\n  if (!text || !text.match(_atSigns2.default)) {\n    return [];\n  }\n\n  var possibleNames = [];\n\n  text.replace(_validMentionOrList2.default, function (match, before, atSign, screenName, slashListname, offset, chunk) {\n    var after = chunk.slice(offset + match.length);\n    if (!after.match(_endMentionMatch2.default)) {\n      slashListname = slashListname || '';\n      var startPosition = offset + before.length;\n      var endPosition = startPosition + screenName.length + slashListname.length + 1;\n      possibleNames.push({\n        screenName: screenName,\n        listSlug: slashListname,\n        indices: [startPosition, endPosition]\n      });\n    }\n  });\n\n  return possibleNames;\n};\n\nvar _atSigns = require('./regexp/atSigns');\n\nvar _atSigns2 = _interopRequireDefault(_atSigns);\n\nvar _endMentionMatch = require('./regexp/endMentionMatch');\n\nvar _endMentionMatch2 = _interopRequireDefault(_endMentionMatch);\n\nvar _validMentionOrList = require('./regexp/validMentionOrList');\n\nvar _validMentionOrList2 = _interopRequireDefault(_validMentionOrList);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (entity, symbol, text, attributes, options) {\n  var taggedSymbol = options.symbolTag ? '<' + options.symbolTag + '>' + symbol + '</' + options.symbolTag + '>' : symbol;\n  text = (0, _htmlEscape2.default)(text);\n  var taggedText = options.textWithSymbolTag ? '<' + options.textWithSymbolTag + '>' + text + '</' + options.textWithSymbolTag + '>' : text;\n\n  if (options.usernameIncludeSymbol || !symbol.match(_atSigns2.default)) {\n    return (0, _linkToText2.default)(entity, taggedSymbol + taggedText, attributes, options);\n  } else {\n    return taggedSymbol + (0, _linkToText2.default)(entity, taggedText, attributes, options);\n  }\n};\n\nvar _atSigns = require('./regexp/atSigns');\n\nvar _atSigns2 = _interopRequireDefault(_atSigns);\n\nvar _htmlEscape = require('./htmlEscape');\n\nvar _htmlEscape2 = _interopRequireDefault(_htmlEscape);\n\nvar _linkToText = require('./linkToText');\n\nvar _linkToText2 = _interopRequireDefault(_linkToText);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nmodule.exports = exports['default'];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n// This file is generated by scripts/buildConfig.js\nexports.default = {\n  version1: {\n    version: 1,\n    maxWeightedTweetLength: 140,\n    scale: 1,\n    defaultWeight: 1,\n    transformedURLLength: 23,\n    ranges: []\n  },\n  version2: {\n    version: 2,\n    maxWeightedTweetLength: 280,\n    scale: 100,\n    defaultWeight: 200,\n    transformedURLLength: 23,\n    ranges: [{ start: 0, end: 4351, weight: 100 }, { start: 8192, end: 8205, weight: 100 }, { start: 8208, end: 8223, weight: 100 }, { start: 8242, end: 8247, weight: 100 }]\n  },\n  version3: {\n    version: 3,\n    maxWeightedTweetLength: 280,\n    scale: 100,\n    defaultWeight: 200,\n    emojiParsingEnabled: true,\n    transformedURLLength: 23,\n    ranges: [{ start: 0, end: 4351, weight: 100 }, { start: 8192, end: 8205, weight: 100 }, { start: 8208, end: 8223, weight: 100 }, { start: 8242, end: 8247, weight: 100 }]\n  },\n  defaults: {\n    version: 3,\n    maxWeightedTweetLength: 280,\n    scale: 100,\n    defaultWeight: 200,\n    emojiParsingEnabled: true,\n    transformedURLLength: 23,\n    ranges: [{ start: 0, end: 4351, weight: 100 }, { start: 8192, end: 8205, weight: 100 }, { start: 8208, end: 8223, weight: 100 }, { start: 8242, end: 8247, weight: 100 }]\n  }\n};\nmodule.exports = exports[\"default\"];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _regexSupplant = require('../lib/regexSupplant');\n\nvar _regexSupplant2 = _interopRequireDefault(_regexSupplant);\n\nvar _validateUrlUnreserved = require('./validateUrlUnreserved');\n\nvar _validateUrlUnreserved2 = _interopRequireDefault(_validateUrlUnreserved);\n\nvar _validateUrlPctEncoded = require('./validateUrlPctEncoded');\n\nvar _validateUrlPctEncoded2 = _interopRequireDefault(_validateUrlPctEncoded);\n\nvar _validateUrlSubDelims = require('./validateUrlSubDelims');\n\nvar _validateUrlSubDelims2 = _interopRequireDefault(_validateUrlSubDelims);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// These URL validation pattern strings are based on the ABNF from RFC 3986\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nvar validateUrlPchar = (0, _regexSupplant2.default)('(?:' + '#{validateUrlUnreserved}|' + '#{validateUrlPctEncoded}|' + '#{validateUrlSubDelims}|' + '[:|@]' + ')', { validateUrlUnreserved: _validateUrlUnreserved2.default, validateUrlPctEncoded: _validateUrlPctEncoded2.default, validateUrlSubDelims: _validateUrlSubDelims2.default }, 'i');\n\nexports.default = validateUrlPchar;\nmodule.exports = exports['default'];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nvar punct = /\\!'#%&'\\(\\)*\\+,\\\\\\-\\.\\/:;<=>\\?@\\[\\]\\^_{|}~\\$/;\nexports.default = punct;\nmodule.exports = exports[\"default\"];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _regexSupplant = require('../lib/regexSupplant');\n\nvar _regexSupplant2 = _interopRequireDefault(_regexSupplant);\n\nvar _spacesGroup = require('./spacesGroup');\n\nvar _spacesGroup2 = _interopRequireDefault(_spacesGroup);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nexports.default = (0, _regexSupplant2.default)(/[#{spacesGroup}]/, { spacesGroup: _spacesGroup2.default });\nmodule.exports = exports['default'];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nvar spacesGroup = /\\x09-\\x0D\\x20\\x85\\xA0\\u1680\\u180E\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000/;\nexports.default = spacesGroup;\nmodule.exports = exports[\"default\"];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _regexSupplant = require('../lib/regexSupplant');\n\nvar _regexSupplant2 = _interopRequireDefault(_regexSupplant);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar validCCTLD = (0, _regexSupplant2.default)(RegExp('(?:(?:' + '한국|香港|澳門|新加坡|台灣|台湾|中國|中国|გე|ไทย|ලංකා|ഭാരതം|ಭಾರತ|భారత్|சிங்கப்பூர்|இலங்கை|இந்தியா|ଭାରତ|ભારત|' + 'ਭਾਰਤ|ভাৰত|ভারত|বাংলা|भारोत|भारतम्|भारत|ڀارت|پاکستان|موريتانيا|مليسيا|مصر|قطر|فلسطين|عمان|عراق|' + 'سورية|سودان|تونس|بھارت|بارت|ایران|امارات|المغرب|السعودية|الجزائر|الاردن|հայ|қаз|укр|срб|рф|' + 'мон|мкд|ею|бел|бг|ελ|zw|zm|za|yt|ye|ws|wf|vu|vn|vi|vg|ve|vc|va|uz|uy|us|um|uk|ug|ua|tz|tw|tv|' + 'tt|tr|tp|to|tn|tm|tl|tk|tj|th|tg|tf|td|tc|sz|sy|sx|sv|su|st|ss|sr|so|sn|sm|sl|sk|sj|si|sh|sg|' + 'se|sd|sc|sb|sa|rw|ru|rs|ro|re|qa|py|pw|pt|ps|pr|pn|pm|pl|pk|ph|pg|pf|pe|pa|om|nz|nu|nr|np|no|' + 'nl|ni|ng|nf|ne|nc|na|mz|my|mx|mw|mv|mu|mt|ms|mr|mq|mp|mo|mn|mm|ml|mk|mh|mg|mf|me|md|mc|ma|ly|' + 'lv|lu|lt|ls|lr|lk|li|lc|lb|la|kz|ky|kw|kr|kp|kn|km|ki|kh|kg|ke|jp|jo|jm|je|it|is|ir|iq|io|in|' + 'im|il|ie|id|hu|ht|hr|hn|hm|hk|gy|gw|gu|gt|gs|gr|gq|gp|gn|gm|gl|gi|gh|gg|gf|ge|gd|gb|ga|fr|fo|' + 'fm|fk|fj|fi|eu|et|es|er|eh|eg|ee|ec|dz|do|dm|dk|dj|de|cz|cy|cx|cw|cv|cu|cr|co|cn|cm|cl|ck|ci|' + 'ch|cg|cf|cd|cc|ca|bz|by|bw|bv|bt|bs|br|bq|bo|bn|bm|bl|bj|bi|bh|bg|bf|be|bd|bb|ba|az|ax|aw|au|' + 'at|as|ar|aq|ao|an|am|al|ai|ag|af|ae|ad|ac' + ')(?=[^0-9a-zA-Z@]|$))')); // Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nexports.default = validCCTLD;\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _invalidDomainChars = require('./invalidDomainChars');\n\nvar _invalidDomainChars2 = _interopRequireDefault(_invalidDomainChars);\n\nvar _regexSupplant = require('../lib/regexSupplant');\n\nvar _regexSupplant2 = _interopRequireDefault(_regexSupplant);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nvar validDomainChars = (0, _regexSupplant2.default)(/[^#{invalidDomainChars}]/, {\n  invalidDomainChars: _invalidDomainChars2.default\n});\n\nexports.default = validDomainChars;\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (str, map) {\n  return str.replace(/#\\{(\\w+)\\}/g, function (match, name) {\n    return map[name] || '';\n  });\n};\n\nmodule.exports = exports['default']; // Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\n// simple string interpolation","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _regexSupplant = require('../lib/regexSupplant');\n\nvar _regexSupplant2 = _interopRequireDefault(_regexSupplant);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar validGTLD = (0, _regexSupplant2.default)(RegExp('(?:(?:' + '삼성|닷컴|닷넷|香格里拉|餐厅|食品|飞利浦|電訊盈科|集团|通販|购物|谷歌|诺基亚|联通|网络|网站|网店|网址|组织机构|移动|珠宝|点看|游戏|淡马锡|机构|書籍|时尚|新闻|' + '政府|政务|招聘|手表|手机|我爱你|慈善|微博|广东|工行|家電|娱乐|天主教|大拿|大众汽车|在线|嘉里大酒店|嘉里|商标|商店|商城|公益|公司|八卦|健康|信息|佛山|企业|' + '中文网|中信|世界|ポイント|ファッション|セール|ストア|コム|グーグル|クラウド|みんな|คอม|संगठन|नेट|कॉम|همراه|موقع|موبايلي|كوم|' + 'كاثوليك|عرب|شبكة|بيتك|بازار|العليان|ارامكو|اتصالات|ابوظبي|קום|сайт|рус|орг|онлайн|москва|ком|' + 'католик|дети|zuerich|zone|zippo|zip|zero|zara|zappos|yun|youtube|you|yokohama|yoga|yodobashi|' + 'yandex|yamaxun|yahoo|yachts|xyz|xxx|xperia|xin|xihuan|xfinity|xerox|xbox|wtf|wtc|wow|world|' + 'works|work|woodside|wolterskluwer|wme|winners|wine|windows|win|williamhill|wiki|wien|whoswho|' + 'weir|weibo|wedding|wed|website|weber|webcam|weatherchannel|weather|watches|watch|warman|' + 'wanggou|wang|walter|walmart|wales|vuelos|voyage|voto|voting|vote|volvo|volkswagen|vodka|' + 'vlaanderen|vivo|viva|vistaprint|vista|vision|visa|virgin|vip|vin|villas|viking|vig|video|' + 'viajes|vet|versicherung|vermögensberatung|vermögensberater|verisign|ventures|vegas|vanguard|' + 'vana|vacations|ups|uol|uno|university|unicom|uconnect|ubs|ubank|tvs|tushu|tunes|tui|tube|trv|' + 'trust|travelersinsurance|travelers|travelchannel|travel|training|trading|trade|toys|toyota|' + 'town|tours|total|toshiba|toray|top|tools|tokyo|today|tmall|tkmaxx|tjx|tjmaxx|tirol|tires|tips|' + 'tiffany|tienda|tickets|tiaa|theatre|theater|thd|teva|tennis|temasek|telefonica|telecity|tel|' + 'technology|tech|team|tdk|tci|taxi|tax|tattoo|tatar|tatamotors|target|taobao|talk|taipei|tab|' + 'systems|symantec|sydney|swiss|swiftcover|swatch|suzuki|surgery|surf|support|supply|supplies|' + 'sucks|style|study|studio|stream|store|storage|stockholm|stcgroup|stc|statoil|statefarm|' + 'statebank|starhub|star|staples|stada|srt|srl|spreadbetting|spot|sport|spiegel|space|soy|sony|' + 'song|solutions|solar|sohu|software|softbank|social|soccer|sncf|smile|smart|sling|skype|sky|' + 'skin|ski|site|singles|sina|silk|shriram|showtime|show|shouji|shopping|shop|shoes|shiksha|shia|' + 'shell|shaw|sharp|shangrila|sfr|sexy|sex|sew|seven|ses|services|sener|select|seek|security|' + 'secure|seat|search|scot|scor|scjohnson|science|schwarz|schule|school|scholarships|schmidt|' + 'schaeffler|scb|sca|sbs|sbi|saxo|save|sas|sarl|sapo|sap|sanofi|sandvikcoromant|sandvik|samsung|' + 'samsclub|salon|sale|sakura|safety|safe|saarland|ryukyu|rwe|run|ruhr|rugby|rsvp|room|rogers|' + 'rodeo|rocks|rocher|rmit|rip|rio|ril|rightathome|ricoh|richardli|rich|rexroth|reviews|review|' + 'restaurant|rest|republican|report|repair|rentals|rent|ren|reliance|reit|reisen|reise|rehab|' + 'redumbrella|redstone|red|recipes|realty|realtor|realestate|read|raid|radio|racing|qvc|quest|' + 'quebec|qpon|pwc|pub|prudential|pru|protection|property|properties|promo|progressive|prof|' + 'productions|prod|pro|prime|press|praxi|pramerica|post|porn|politie|poker|pohl|pnc|plus|' + 'plumbing|playstation|play|place|pizza|pioneer|pink|ping|pin|pid|pictures|pictet|pics|piaget|' + 'physio|photos|photography|photo|phone|philips|phd|pharmacy|pfizer|pet|pccw|pay|passagens|' + 'party|parts|partners|pars|paris|panerai|panasonic|pamperedchef|page|ovh|ott|otsuka|osaka|' + 'origins|orientexpress|organic|org|orange|oracle|open|ooo|onyourside|online|onl|ong|one|omega|' + 'ollo|oldnavy|olayangroup|olayan|okinawa|office|off|observer|obi|nyc|ntt|nrw|nra|nowtv|nowruz|' + 'now|norton|northwesternmutual|nokia|nissay|nissan|ninja|nikon|nike|nico|nhk|ngo|nfl|nexus|' + 'nextdirect|next|news|newholland|new|neustar|network|netflix|netbank|net|nec|nba|navy|natura|' + 'nationwide|name|nagoya|nadex|nab|mutuelle|mutual|museum|mtr|mtpc|mtn|msd|movistar|movie|mov|' + 'motorcycles|moto|moscow|mortgage|mormon|mopar|montblanc|monster|money|monash|mom|moi|moe|moda|' + 'mobily|mobile|mobi|mma|mls|mlb|mitsubishi|mit|mint|mini|mil|microsoft|miami|metlife|merckmsd|' + 'meo|menu|men|memorial|meme|melbourne|meet|media|med|mckinsey|mcdonalds|mcd|mba|mattel|' + 'maserati|marshalls|marriott|markets|marketing|market|map|mango|management|man|makeup|maison|' + 'maif|madrid|macys|luxury|luxe|lupin|lundbeck|ltda|ltd|lplfinancial|lpl|love|lotto|lotte|' + 'london|lol|loft|locus|locker|loans|loan|llc|lixil|living|live|lipsy|link|linde|lincoln|limo|' + 'limited|lilly|like|lighting|lifestyle|lifeinsurance|life|lidl|liaison|lgbt|lexus|lego|legal|' + 'lefrak|leclerc|lease|lds|lawyer|law|latrobe|latino|lat|lasalle|lanxess|landrover|land|lancome|' + 'lancia|lancaster|lamer|lamborghini|ladbrokes|lacaixa|kyoto|kuokgroup|kred|krd|kpn|kpmg|kosher|' + 'komatsu|koeln|kiwi|kitchen|kindle|kinder|kim|kia|kfh|kerryproperties|kerrylogistics|' + 'kerryhotels|kddi|kaufen|juniper|juegos|jprs|jpmorgan|joy|jot|joburg|jobs|jnj|jmp|jll|jlc|jio|' + 'jewelry|jetzt|jeep|jcp|jcb|java|jaguar|iwc|iveco|itv|itau|istanbul|ist|ismaili|iselect|irish|' + 'ipiranga|investments|intuit|international|intel|int|insure|insurance|institute|ink|ing|info|' + 'infiniti|industries|inc|immobilien|immo|imdb|imamat|ikano|iinet|ifm|ieee|icu|ice|icbc|ibm|' + 'hyundai|hyatt|hughes|htc|hsbc|how|house|hotmail|hotels|hoteles|hot|hosting|host|hospital|' + 'horse|honeywell|honda|homesense|homes|homegoods|homedepot|holiday|holdings|hockey|hkt|hiv|' + 'hitachi|hisamitsu|hiphop|hgtv|hermes|here|helsinki|help|healthcare|health|hdfcbank|hdfc|hbo|' + 'haus|hangout|hamburg|hair|guru|guitars|guide|guge|gucci|guardian|group|grocery|gripe|green|' + 'gratis|graphics|grainger|gov|got|gop|google|goog|goodyear|goodhands|goo|golf|goldpoint|gold|' + 'godaddy|gmx|gmo|gmbh|gmail|globo|global|gle|glass|glade|giving|gives|gifts|gift|ggee|george|' + 'genting|gent|gea|gdn|gbiz|garden|gap|games|game|gallup|gallo|gallery|gal|fyi|futbol|furniture|' + 'fund|fun|fujixerox|fujitsu|ftr|frontier|frontdoor|frogans|frl|fresenius|free|fox|foundation|' + 'forum|forsale|forex|ford|football|foodnetwork|food|foo|fly|flsmidth|flowers|florist|flir|' + 'flights|flickr|fitness|fit|fishing|fish|firmdale|firestone|fire|financial|finance|final|film|' + 'fido|fidelity|fiat|ferrero|ferrari|feedback|fedex|fast|fashion|farmers|farm|fans|fan|family|' + 'faith|fairwinds|fail|fage|extraspace|express|exposed|expert|exchange|everbank|events|eus|' + 'eurovision|etisalat|esurance|estate|esq|erni|ericsson|equipment|epson|epost|enterprises|' + 'engineering|engineer|energy|emerck|email|education|edu|edeka|eco|eat|earth|dvr|dvag|durban|' + 'dupont|duns|dunlop|duck|dubai|dtv|drive|download|dot|doosan|domains|doha|dog|dodge|doctor|' + 'docs|dnp|diy|dish|discover|discount|directory|direct|digital|diet|diamonds|dhl|dev|design|' + 'desi|dentist|dental|democrat|delta|deloitte|dell|delivery|degree|deals|dealer|deal|dds|dclk|' + 'day|datsun|dating|date|data|dance|dad|dabur|cyou|cymru|cuisinella|csc|cruises|cruise|crs|' + 'crown|cricket|creditunion|creditcard|credit|courses|coupons|coupon|country|corsica|coop|cool|' + 'cookingchannel|cooking|contractors|contact|consulting|construction|condos|comsec|computer|' + 'compare|company|community|commbank|comcast|com|cologne|college|coffee|codes|coach|clubmed|' + 'club|cloud|clothing|clinique|clinic|click|cleaning|claims|cityeats|city|citic|citi|citadel|' + 'cisco|circle|cipriani|church|chrysler|chrome|christmas|chloe|chintai|cheap|chat|chase|charity|' + 'channel|chanel|cfd|cfa|cern|ceo|center|ceb|cbs|cbre|cbn|cba|catholic|catering|cat|casino|cash|' + 'caseih|case|casa|cartier|cars|careers|career|care|cards|caravan|car|capitalone|capital|' + 'capetown|canon|cancerresearch|camp|camera|cam|calvinklein|call|cal|cafe|cab|bzh|buzz|buy|' + 'business|builders|build|bugatti|budapest|brussels|brother|broker|broadway|bridgestone|' + 'bradesco|box|boutique|bot|boston|bostik|bosch|boots|booking|book|boo|bond|bom|bofa|boehringer|' + 'boats|bnpparibas|bnl|bmw|bms|blue|bloomberg|blog|blockbuster|blanco|blackfriday|black|biz|bio|' + 'bingo|bing|bike|bid|bible|bharti|bet|bestbuy|best|berlin|bentley|beer|beauty|beats|bcn|bcg|' + 'bbva|bbt|bbc|bayern|bauhaus|basketball|baseball|bargains|barefoot|barclays|barclaycard|' + 'barcelona|bar|bank|band|bananarepublic|banamex|baidu|baby|azure|axa|aws|avianca|autos|auto|' + 'author|auspost|audio|audible|audi|auction|attorney|athleta|associates|asia|asda|arte|art|arpa|' + 'army|archi|aramco|arab|aquarelle|apple|app|apartments|aol|anz|anquan|android|analytics|' + 'amsterdam|amica|amfam|amex|americanfamily|americanexpress|alstom|alsace|ally|allstate|' + 'allfinanz|alipay|alibaba|alfaromeo|akdn|airtel|airforce|airbus|aigo|aig|agency|agakhan|africa|' + 'afl|afamilycompany|aetna|aero|aeg|adult|ads|adac|actor|active|aco|accountants|accountant|' + 'accenture|academy|abudhabi|abogado|able|abc|abbvie|abbott|abb|abarth|aarp|aaa|onion' + ')(?=[^0-9a-zA-Z@]|$))')); // Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nexports.default = validGTLD;\nmodule.exports = exports['default'];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nvar validPunycode = /(?:xn--[\\-0-9a-z]+)/;\nexports.default = validPunycode;\nmodule.exports = exports[\"default\"];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _cyrillicLettersAndMarks = require('./cyrillicLettersAndMarks');\n\nvar _cyrillicLettersAndMarks2 = _interopRequireDefault(_cyrillicLettersAndMarks);\n\nvar _latinAccentChars = require('./latinAccentChars');\n\nvar _latinAccentChars2 = _interopRequireDefault(_latinAccentChars);\n\nvar _regexSupplant = require('../lib/regexSupplant');\n\nvar _regexSupplant2 = _interopRequireDefault(_regexSupplant);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar validGeneralUrlPathChars = (0, _regexSupplant2.default)(/[a-z#{cyrillicLettersAndMarks}0-9!\\*';:=\\+,\\.\\$\\/%#\\[\\]\\-\\u2013_~@\\|&#{latinAccentChars}]/i, { cyrillicLettersAndMarks: _cyrillicLettersAndMarks2.default, latinAccentChars: _latinAccentChars2.default }); // Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nexports.default = validGeneralUrlPathChars;\nmodule.exports = exports['default'];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nvar cyrillicLettersAndMarks = /\\u0400-\\u04FF/;\nexports.default = cyrillicLettersAndMarks;\nmodule.exports = exports[\"default\"];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _regexSupplant = require('../lib/regexSupplant');\n\nvar _regexSupplant2 = _interopRequireDefault(_regexSupplant);\n\nvar _validGeneralUrlPathChars = require('./validGeneralUrlPathChars');\n\nvar _validGeneralUrlPathChars2 = _interopRequireDefault(_validGeneralUrlPathChars);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Allow URL paths to contain up to two nested levels of balanced parens\n//  1. Used in Wikipedia URLs like /Primer_(film)\n//  2. Used in IIS sessions like /S(dfd346)/\n//  3. Used in Rdio URLs like /track/We_Up_(Album_Version_(Edited))/\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nvar validUrlBalancedParens = (0, _regexSupplant2.default)('\\\\(' + '(?:' + '#{validGeneralUrlPathChars}+' + '|' +\n// allow one nested level of balanced parentheses\n'(?:' + '#{validGeneralUrlPathChars}*' + '\\\\(' + '#{validGeneralUrlPathChars}+' + '\\\\)' + '#{validGeneralUrlPathChars}*' + ')' + ')' + '\\\\)', { validGeneralUrlPathChars: _validGeneralUrlPathChars2.default }, 'i');\n\nexports.default = validUrlBalancedParens;\nmodule.exports = exports['default'];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nvar validUrlQueryChars = /[a-z0-9!?\\*'@\\(\\);:&=\\+\\$\\/%#\\[\\]\\-_\\.,~|]/i;\nexports.default = validUrlQueryChars;\nmodule.exports = exports[\"default\"];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nvar validUrlQueryEndingChars = /[a-z0-9\\-_&=#\\/]/i;\nexports.default = validUrlQueryEndingChars;\nmodule.exports = exports[\"default\"];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _latinAccentChars = require('./latinAccentChars');\n\nvar _latinAccentChars2 = _interopRequireDefault(_latinAccentChars);\n\nvar _regexSupplant = require('../lib/regexSupplant');\n\nvar _regexSupplant2 = _interopRequireDefault(_regexSupplant);\n\nvar _validCCTLD = require('./validCCTLD');\n\nvar _validCCTLD2 = _interopRequireDefault(_validCCTLD);\n\nvar _validGTLD = require('./validGTLD');\n\nvar _validGTLD2 = _interopRequireDefault(_validGTLD);\n\nvar _validPunycode = require('./validPunycode');\n\nvar _validPunycode2 = _interopRequireDefault(_validPunycode);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar validAsciiDomain = (0, _regexSupplant2.default)(/(?:(?:[\\-a-z0-9#{latinAccentChars}]+)\\.)+(?:#{validGTLD}|#{validCCTLD}|#{validPunycode})/gi, { latinAccentChars: _latinAccentChars2.default, validGTLD: _validGTLD2.default, validCCTLD: _validCCTLD2.default, validPunycode: _validPunycode2.default }); // Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nexports.default = validAsciiDomain;\nmodule.exports = exports['default'];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (entities) {\n  entities.sort(function (a, b) {\n    return a.indices[0] - b.indices[0];\n  });\n\n  var prev = entities[0];\n  for (var i = 1; i < entities.length; i++) {\n    if (prev.indices[1] > entities[i].indices[0]) {\n      entities.splice(i, 1);\n      i--;\n    } else {\n      prev = entities[i];\n    }\n  }\n};\n\nmodule.exports = exports[\"default\"]; // Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\n// Generated from unicode_regex/unicode_regex_groups.scala, same as objective c's \\p{L}\\p{M}\nvar astralLetterAndMarks = /\\ud800[\\udc00-\\udc0b\\udc0d-\\udc26\\udc28-\\udc3a\\udc3c\\udc3d\\udc3f-\\udc4d\\udc50-\\udc5d\\udc80-\\udcfa\\uddfd\\ude80-\\ude9c\\udea0-\\uded0\\udee0\\udf00-\\udf1f\\udf30-\\udf40\\udf42-\\udf49\\udf50-\\udf7a\\udf80-\\udf9d\\udfa0-\\udfc3\\udfc8-\\udfcf]|\\ud801[\\udc00-\\udc9d\\udd00-\\udd27\\udd30-\\udd63\\ude00-\\udf36\\udf40-\\udf55\\udf60-\\udf67]|\\ud802[\\udc00-\\udc05\\udc08\\udc0a-\\udc35\\udc37\\udc38\\udc3c\\udc3f-\\udc55\\udc60-\\udc76\\udc80-\\udc9e\\udd00-\\udd15\\udd20-\\udd39\\udd80-\\uddb7\\uddbe\\uddbf\\ude00-\\ude03\\ude05\\ude06\\ude0c-\\ude13\\ude15-\\ude17\\ude19-\\ude33\\ude38-\\ude3a\\ude3f\\ude60-\\ude7c\\ude80-\\ude9c\\udec0-\\udec7\\udec9-\\udee6\\udf00-\\udf35\\udf40-\\udf55\\udf60-\\udf72\\udf80-\\udf91]|\\ud803[\\udc00-\\udc48]|\\ud804[\\udc00-\\udc46\\udc7f-\\udcba\\udcd0-\\udce8\\udd00-\\udd34\\udd50-\\udd73\\udd76\\udd80-\\uddc4\\uddda\\ude00-\\ude11\\ude13-\\ude37\\udeb0-\\udeea\\udf01-\\udf03\\udf05-\\udf0c\\udf0f\\udf10\\udf13-\\udf28\\udf2a-\\udf30\\udf32\\udf33\\udf35-\\udf39\\udf3c-\\udf44\\udf47\\udf48\\udf4b-\\udf4d\\udf57\\udf5d-\\udf63\\udf66-\\udf6c\\udf70-\\udf74]|\\ud805[\\udc80-\\udcc5\\udcc7\\udd80-\\uddb5\\uddb8-\\uddc0\\ude00-\\ude40\\ude44\\ude80-\\udeb7]|\\ud806[\\udca0-\\udcdf\\udcff\\udec0-\\udef8]|\\ud808[\\udc00-\\udf98]|\\ud80c[\\udc00-\\udfff]|\\ud80d[\\udc00-\\udc2e]|\\ud81a[\\udc00-\\ude38\\ude40-\\ude5e\\uded0-\\udeed\\udef0-\\udef4\\udf00-\\udf36\\udf40-\\udf43\\udf63-\\udf77\\udf7d-\\udf8f]|\\ud81b[\\udf00-\\udf44\\udf50-\\udf7e\\udf8f-\\udf9f]|\\ud82c[\\udc00\\udc01]|\\ud82f[\\udc00-\\udc6a\\udc70-\\udc7c\\udc80-\\udc88\\udc90-\\udc99\\udc9d\\udc9e]|\\ud834[\\udd65-\\udd69\\udd6d-\\udd72\\udd7b-\\udd82\\udd85-\\udd8b\\uddaa-\\uddad\\ude42-\\ude44]|\\ud835[\\udc00-\\udc54\\udc56-\\udc9c\\udc9e\\udc9f\\udca2\\udca5\\udca6\\udca9-\\udcac\\udcae-\\udcb9\\udcbb\\udcbd-\\udcc3\\udcc5-\\udd05\\udd07-\\udd0a\\udd0d-\\udd14\\udd16-\\udd1c\\udd1e-\\udd39\\udd3b-\\udd3e\\udd40-\\udd44\\udd46\\udd4a-\\udd50\\udd52-\\udea5\\udea8-\\udec0\\udec2-\\udeda\\udedc-\\udefa\\udefc-\\udf14\\udf16-\\udf34\\udf36-\\udf4e\\udf50-\\udf6e\\udf70-\\udf88\\udf8a-\\udfa8\\udfaa-\\udfc2\\udfc4-\\udfcb]|\\ud83a[\\udc00-\\udcc4\\udcd0-\\udcd6]|\\ud83b[\\ude00-\\ude03\\ude05-\\ude1f\\ude21\\ude22\\ude24\\ude27\\ude29-\\ude32\\ude34-\\ude37\\ude39\\ude3b\\ude42\\ude47\\ude49\\ude4b\\ude4d-\\ude4f\\ude51\\ude52\\ude54\\ude57\\ude59\\ude5b\\ude5d\\ude5f\\ude61\\ude62\\ude64\\ude67-\\ude6a\\ude6c-\\ude72\\ude74-\\ude77\\ude79-\\ude7c\\ude7e\\ude80-\\ude89\\ude8b-\\ude9b\\udea1-\\udea3\\udea5-\\udea9\\udeab-\\udebb]|\\ud840[\\udc00-\\udfff]|\\ud841[\\udc00-\\udfff]|\\ud842[\\udc00-\\udfff]|\\ud843[\\udc00-\\udfff]|\\ud844[\\udc00-\\udfff]|\\ud845[\\udc00-\\udfff]|\\ud846[\\udc00-\\udfff]|\\ud847[\\udc00-\\udfff]|\\ud848[\\udc00-\\udfff]|\\ud849[\\udc00-\\udfff]|\\ud84a[\\udc00-\\udfff]|\\ud84b[\\udc00-\\udfff]|\\ud84c[\\udc00-\\udfff]|\\ud84d[\\udc00-\\udfff]|\\ud84e[\\udc00-\\udfff]|\\ud84f[\\udc00-\\udfff]|\\ud850[\\udc00-\\udfff]|\\ud851[\\udc00-\\udfff]|\\ud852[\\udc00-\\udfff]|\\ud853[\\udc00-\\udfff]|\\ud854[\\udc00-\\udfff]|\\ud855[\\udc00-\\udfff]|\\ud856[\\udc00-\\udfff]|\\ud857[\\udc00-\\udfff]|\\ud858[\\udc00-\\udfff]|\\ud859[\\udc00-\\udfff]|\\ud85a[\\udc00-\\udfff]|\\ud85b[\\udc00-\\udfff]|\\ud85c[\\udc00-\\udfff]|\\ud85d[\\udc00-\\udfff]|\\ud85e[\\udc00-\\udfff]|\\ud85f[\\udc00-\\udfff]|\\ud860[\\udc00-\\udfff]|\\ud861[\\udc00-\\udfff]|\\ud862[\\udc00-\\udfff]|\\ud863[\\udc00-\\udfff]|\\ud864[\\udc00-\\udfff]|\\ud865[\\udc00-\\udfff]|\\ud866[\\udc00-\\udfff]|\\ud867[\\udc00-\\udfff]|\\ud868[\\udc00-\\udfff]|\\ud869[\\udc00-\\uded6\\udf00-\\udfff]|\\ud86a[\\udc00-\\udfff]|\\ud86b[\\udc00-\\udfff]|\\ud86c[\\udc00-\\udfff]|\\ud86d[\\udc00-\\udf34\\udf40-\\udfff]|\\ud86e[\\udc00-\\udc1d]|\\ud87e[\\udc00-\\ude1d]|\\udb40[\\udd00-\\uddef]/;\nexports.default = astralLetterAndMarks;\nmodule.exports = exports[\"default\"];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\n// Generated from unicode_regex/unicode_regex_groups.scala, same as objective c's \\p{L}\\p{M}\nvar bmpLetterAndMarks = /A-Za-z\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0300-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u037f\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u0483-\\u052f\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0610-\\u061a\\u0620-\\u065f\\u066e-\\u06d3\\u06d5-\\u06dc\\u06df-\\u06e8\\u06ea-\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710-\\u074a\\u074d-\\u07b1\\u07ca-\\u07f5\\u07fa\\u0800-\\u082d\\u0840-\\u085b\\u08a0-\\u08b2\\u08e4-\\u0963\\u0971-\\u0983\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bc-\\u09c4\\u09c7\\u09c8\\u09cb-\\u09ce\\u09d7\\u09dc\\u09dd\\u09df-\\u09e3\\u09f0\\u09f1\\u0a01-\\u0a03\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a59-\\u0a5c\\u0a5e\\u0a70-\\u0a75\\u0a81-\\u0a83\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abc-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ad0\\u0ae0-\\u0ae3\\u0b01-\\u0b03\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3c-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b5c\\u0b5d\\u0b5f-\\u0b63\\u0b71\\u0b82\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd0\\u0bd7\\u0c00-\\u0c03\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c39\\u0c3d-\\u0c44\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c58\\u0c59\\u0c60-\\u0c63\\u0c81-\\u0c83\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbc-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0cde\\u0ce0-\\u0ce3\\u0cf1\\u0cf2\\u0d01-\\u0d03\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d-\\u0d44\\u0d46-\\u0d48\\u0d4a-\\u0d4e\\u0d57\\u0d60-\\u0d63\\u0d7a-\\u0d7f\\u0d82\\u0d83\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e01-\\u0e3a\\u0e40-\\u0e4e\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb9\\u0ebb-\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0ec8-\\u0ecd\\u0edc-\\u0edf\\u0f00\\u0f18\\u0f19\\u0f35\\u0f37\\u0f39\\u0f3e-\\u0f47\\u0f49-\\u0f6c\\u0f71-\\u0f84\\u0f86-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u1000-\\u103f\\u1050-\\u108f\\u109a-\\u109d\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u135d-\\u135f\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16f1-\\u16f8\\u1700-\\u170c\\u170e-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176c\\u176e-\\u1770\\u1772\\u1773\\u1780-\\u17d3\\u17d7\\u17dc\\u17dd\\u180b-\\u180d\\u1820-\\u1877\\u1880-\\u18aa\\u18b0-\\u18f5\\u1900-\\u191e\\u1920-\\u192b\\u1930-\\u193b\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19b0-\\u19c9\\u1a00-\\u1a1b\\u1a20-\\u1a5e\\u1a60-\\u1a7c\\u1a7f\\u1aa7\\u1ab0-\\u1abe\\u1b00-\\u1b4b\\u1b6b-\\u1b73\\u1b80-\\u1baf\\u1bba-\\u1bf3\\u1c00-\\u1c37\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1cd0-\\u1cd2\\u1cd4-\\u1cf6\\u1cf8\\u1cf9\\u1d00-\\u1df5\\u1dfc-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u20d0-\\u20f0\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2183\\u2184\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d7f-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2de0-\\u2dff\\u2e2f\\u3005\\u3006\\u302a-\\u302f\\u3031-\\u3035\\u303b\\u303c\\u3041-\\u3096\\u3099\\u309a\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua672\\ua674-\\ua67d\\ua67f-\\ua69d\\ua69f-\\ua6e5\\ua6f0\\ua6f1\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua7ad\\ua7b0\\ua7b1\\ua7f7-\\ua827\\ua840-\\ua873\\ua880-\\ua8c4\\ua8e0-\\ua8f7\\ua8fb\\ua90a-\\ua92d\\ua930-\\ua953\\ua960-\\ua97c\\ua980-\\ua9c0\\ua9cf\\ua9e0-\\ua9ef\\ua9fa-\\ua9fe\\uaa00-\\uaa36\\uaa40-\\uaa4d\\uaa60-\\uaa76\\uaa7a-\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaef\\uaaf2-\\uaaf6\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uab30-\\uab5a\\uab5c-\\uab5f\\uab64\\uab65\\uabc0-\\uabea\\uabec\\uabed\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf870-\\uf87f\\uf882\\uf884-\\uf89f\\uf8b8\\uf8c1-\\uf8d6\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe00-\\ufe0f\\ufe20-\\ufe2d\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc/;\nexports.default = bmpLetterAndMarks;\nmodule.exports = exports[\"default\"];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _astralLetterAndMarks = require('./astralLetterAndMarks');\n\nvar _astralLetterAndMarks2 = _interopRequireDefault(_astralLetterAndMarks);\n\nvar _astralNumerals = require('./astralNumerals');\n\nvar _astralNumerals2 = _interopRequireDefault(_astralNumerals);\n\nvar _bmpLetterAndMarks = require('./bmpLetterAndMarks');\n\nvar _bmpLetterAndMarks2 = _interopRequireDefault(_bmpLetterAndMarks);\n\nvar _bmpNumerals = require('./bmpNumerals');\n\nvar _bmpNumerals2 = _interopRequireDefault(_bmpNumerals);\n\nvar _hashtagSpecialChars = require('./hashtagSpecialChars');\n\nvar _hashtagSpecialChars2 = _interopRequireDefault(_hashtagSpecialChars);\n\nvar _nonBmpCodePairs = require('./nonBmpCodePairs');\n\nvar _nonBmpCodePairs2 = _interopRequireDefault(_nonBmpCodePairs);\n\nvar _regexSupplant = require('../lib/regexSupplant');\n\nvar _regexSupplant2 = _interopRequireDefault(_regexSupplant);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar hashtagAlphaNumeric = (0, _regexSupplant2.default)(/(?:[#{bmpLetterAndMarks}#{bmpNumerals}#{hashtagSpecialChars}]|(?=#{nonBmpCodePairs})(?:#{astralLetterAndMarks}|#{astralNumerals}))/, {\n  bmpLetterAndMarks: _bmpLetterAndMarks2.default,\n  bmpNumerals: _bmpNumerals2.default,\n  hashtagSpecialChars: _hashtagSpecialChars2.default,\n  nonBmpCodePairs: _nonBmpCodePairs2.default,\n  astralLetterAndMarks: _astralLetterAndMarks2.default,\n  astralNumerals: _astralNumerals2.default\n}); // Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nexports.default = hashtagAlphaNumeric;\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _atSigns = require('./atSigns');\n\nvar _atSigns2 = _interopRequireDefault(_atSigns);\n\nvar _latinAccentChars = require('./latinAccentChars');\n\nvar _latinAccentChars2 = _interopRequireDefault(_latinAccentChars);\n\nvar _regexSupplant = require('../lib/regexSupplant');\n\nvar _regexSupplant2 = _interopRequireDefault(_regexSupplant);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar endMentionMatch = (0, _regexSupplant2.default)(/^(?:#{atSigns}|[#{latinAccentChars}]|:\\/\\/)/, { atSigns: _atSigns2.default, latinAccentChars: _latinAccentChars2.default }); // Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nexports.default = endMentionMatch;\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _atSigns = require('./atSigns');\n\nvar _atSigns2 = _interopRequireDefault(_atSigns);\n\nvar _regexSupplant = require('../lib/regexSupplant');\n\nvar _regexSupplant2 = _interopRequireDefault(_regexSupplant);\n\nvar _validMentionPrecedingChars = require('./validMentionPrecedingChars');\n\nvar _validMentionPrecedingChars2 = _interopRequireDefault(_validMentionPrecedingChars);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar validMentionOrList = (0, _regexSupplant2.default)('(#{validMentionPrecedingChars})' + // $1: Preceding character\n'(#{atSigns})' + // $2: At mark\n'([a-zA-Z0-9_]{1,20})' + // $3: Screen name\n'(/[a-zA-Z][a-zA-Z0-9_-]{0,24})?', // $4: List (optional)\n{ validMentionPrecedingChars: _validMentionPrecedingChars2.default, atSigns: _atSigns2.default }, 'g'); // Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nexports.default = validMentionOrList;\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (entity, text, attributes, options) {\n  if (!options.suppressNoFollow) {\n    attributes.rel = 'nofollow';\n  }\n  // if linkAttributeBlock is specified, call it to modify the attributes\n  if (options.linkAttributeBlock) {\n    options.linkAttributeBlock(entity, attributes);\n  }\n  // if linkTextBlock is specified, call it to get a new/modified link text\n  if (options.linkTextBlock) {\n    text = options.linkTextBlock(entity, text);\n  }\n  var d = {\n    text: text,\n    attr: (0, _tagAttrs2.default)(attributes)\n  };\n  return (0, _stringSupplant2.default)('<a#{attr}>#{text}</a>', d);\n};\n\nvar _stringSupplant = require('./lib/stringSupplant');\n\nvar _stringSupplant2 = _interopRequireDefault(_stringSupplant);\n\nvar _tagAttrs = require('./tagAttrs');\n\nvar _tagAttrs2 = _interopRequireDefault(_tagAttrs);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nmodule.exports = exports['default']; // Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (text, entities) {\n  (0, _convertUnicodeIndices2.default)(text, entities, true);\n};\n\nvar _convertUnicodeIndices = require('./lib/convertUnicodeIndices');\n\nvar _convertUnicodeIndices2 = _interopRequireDefault(_convertUnicodeIndices);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (text) {\n  return _invalidChars2.default.test(text);\n};\n\nvar _invalidChars = require('./regexp/invalidChars');\n\nvar _invalidChars2 = _interopRequireDefault(_invalidChars);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nmodule.exports = exports['default'];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nvar urlHasHttps = /^https:\\/\\//i;\nexports.default = urlHasHttps;\nmodule.exports = exports[\"default\"];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _regexSupplant = require('../lib/regexSupplant');\n\nvar _regexSupplant2 = _interopRequireDefault(_regexSupplant);\n\nvar _validateUrlUnreserved = require('./validateUrlUnreserved');\n\nvar _validateUrlUnreserved2 = _interopRequireDefault(_validateUrlUnreserved);\n\nvar _validateUrlPctEncoded = require('./validateUrlPctEncoded');\n\nvar _validateUrlPctEncoded2 = _interopRequireDefault(_validateUrlPctEncoded);\n\nvar _validateUrlSubDelims = require('./validateUrlSubDelims');\n\nvar _validateUrlSubDelims2 = _interopRequireDefault(_validateUrlSubDelims);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nvar validateUrlUserinfo = (0, _regexSupplant2.default)('(?:' + '#{validateUrlUnreserved}|' + '#{validateUrlPctEncoded}|' + '#{validateUrlSubDelims}|' + ':' + ')*', { validateUrlUnreserved: _validateUrlUnreserved2.default, validateUrlPctEncoded: _validateUrlPctEncoded2.default, validateUrlSubDelims: _validateUrlSubDelims2.default }, 'i');\n\nexports.default = validateUrlUserinfo;\nmodule.exports = exports['default'];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nvar validateUrlUnreserved = /[a-z\\u0400-\\u04FF0-9\\-._~]/i;\nexports.default = validateUrlUnreserved;\nmodule.exports = exports[\"default\"];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nvar validateUrlPctEncoded = /(?:%[0-9a-f]{2})/i;\nexports.default = validateUrlPctEncoded;\nmodule.exports = exports[\"default\"];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nvar validateUrlSubDelims = /[!$&'()*+,;=]/i;\nexports.default = validateUrlSubDelims;\nmodule.exports = exports[\"default\"];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _regexSupplant = require('../lib/regexSupplant');\n\nvar _regexSupplant2 = _interopRequireDefault(_regexSupplant);\n\nvar _validateUrlIpv = require('./validateUrlIpv4');\n\nvar _validateUrlIpv2 = _interopRequireDefault(_validateUrlIpv);\n\nvar _validateUrlIpv3 = require('./validateUrlIpv6');\n\nvar _validateUrlIpv4 = _interopRequireDefault(_validateUrlIpv3);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Punting on IPvFuture for now\nvar validateUrlIp = (0, _regexSupplant2.default)('(?:' + '#{validateUrlIpv4}|' + '#{validateUrlIpv6}' + ')', { validateUrlIpv4: _validateUrlIpv2.default, validateUrlIpv6: _validateUrlIpv4.default }, 'i'); // Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nexports.default = validateUrlIp;\nmodule.exports = exports['default'];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nvar validateUrlPort = /[0-9]{1,5}/;\nexports.default = validateUrlPort;\nmodule.exports = exports[\"default\"];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _autoLink = require('./autoLink');\n\nvar _autoLink2 = _interopRequireDefault(_autoLink);\n\nvar _autoLinkCashtags = require('./autoLinkCashtags');\n\nvar _autoLinkCashtags2 = _interopRequireDefault(_autoLinkCashtags);\n\nvar _autoLinkEntities = require('./autoLinkEntities');\n\nvar _autoLinkEntities2 = _interopRequireDefault(_autoLinkEntities);\n\nvar _autoLinkHashtags = require('./autoLinkHashtags');\n\nvar _autoLinkHashtags2 = _interopRequireDefault(_autoLinkHashtags);\n\nvar _autoLinkUrlsCustom = require('./autoLinkUrlsCustom');\n\nvar _autoLinkUrlsCustom2 = _interopRequireDefault(_autoLinkUrlsCustom);\n\nvar _autoLinkUsernamesOrLists = require('./autoLinkUsernamesOrLists');\n\nvar _autoLinkUsernamesOrLists2 = _interopRequireDefault(_autoLinkUsernamesOrLists);\n\nvar _autoLinkWithJSON = require('./autoLinkWithJSON');\n\nvar _autoLinkWithJSON2 = _interopRequireDefault(_autoLinkWithJSON);\n\nvar _configs = require('./configs');\n\nvar _configs2 = _interopRequireDefault(_configs);\n\nvar _convertUnicodeIndices = require('./convertUnicodeIndices');\n\nvar _convertUnicodeIndices2 = _interopRequireDefault(_convertUnicodeIndices);\n\nvar _extractCashtags = require('./extractCashtags');\n\nvar _extractCashtags2 = _interopRequireDefault(_extractCashtags);\n\nvar _extractCashtagsWithIndices = require('./extractCashtagsWithIndices');\n\nvar _extractCashtagsWithIndices2 = _interopRequireDefault(_extractCashtagsWithIndices);\n\nvar _extractEntitiesWithIndices = require('./extractEntitiesWithIndices');\n\nvar _extractEntitiesWithIndices2 = _interopRequireDefault(_extractEntitiesWithIndices);\n\nvar _extractHashtags = require('./extractHashtags');\n\nvar _extractHashtags2 = _interopRequireDefault(_extractHashtags);\n\nvar _extractHashtagsWithIndices = require('./extractHashtagsWithIndices');\n\nvar _extractHashtagsWithIndices2 = _interopRequireDefault(_extractHashtagsWithIndices);\n\nvar _extractHtmlAttrsFromOptions = require('./extractHtmlAttrsFromOptions');\n\nvar _extractHtmlAttrsFromOptions2 = _interopRequireDefault(_extractHtmlAttrsFromOptions);\n\nvar _extractMentions = require('./extractMentions');\n\nvar _extractMentions2 = _interopRequireDefault(_extractMentions);\n\nvar _extractMentionsOrListsWithIndices = require('./extractMentionsOrListsWithIndices');\n\nvar _extractMentionsOrListsWithIndices2 = _interopRequireDefault(_extractMentionsOrListsWithIndices);\n\nvar _extractMentionsWithIndices = require('./extractMentionsWithIndices');\n\nvar _extractMentionsWithIndices2 = _interopRequireDefault(_extractMentionsWithIndices);\n\nvar _extractReplies = require('./extractReplies');\n\nvar _extractReplies2 = _interopRequireDefault(_extractReplies);\n\nvar _extractUrls = require('./extractUrls');\n\nvar _extractUrls2 = _interopRequireDefault(_extractUrls);\n\nvar _extractUrlsWithIndices = require('./extractUrlsWithIndices');\n\nvar _extractUrlsWithIndices2 = _interopRequireDefault(_extractUrlsWithIndices);\n\nvar _getTweetLength = require('./getTweetLength');\n\nvar _getTweetLength2 = _interopRequireDefault(_getTweetLength);\n\nvar _getUnicodeTextLength = require('./getUnicodeTextLength');\n\nvar _getUnicodeTextLength2 = _interopRequireDefault(_getUnicodeTextLength);\n\nvar _hasInvalidCharacters = require('./hasInvalidCharacters');\n\nvar _hasInvalidCharacters2 = _interopRequireDefault(_hasInvalidCharacters);\n\nvar _hitHighlight = require('./hitHighlight');\n\nvar _hitHighlight2 = _interopRequireDefault(_hitHighlight);\n\nvar _htmlEscape = require('./htmlEscape');\n\nvar _htmlEscape2 = _interopRequireDefault(_htmlEscape);\n\nvar _isInvalidTweet = require('./isInvalidTweet');\n\nvar _isInvalidTweet2 = _interopRequireDefault(_isInvalidTweet);\n\nvar _isValidHashtag = require('./isValidHashtag');\n\nvar _isValidHashtag2 = _interopRequireDefault(_isValidHashtag);\n\nvar _isValidList = require('./isValidList');\n\nvar _isValidList2 = _interopRequireDefault(_isValidList);\n\nvar _isValidTweetText = require('./isValidTweetText');\n\nvar _isValidTweetText2 = _interopRequireDefault(_isValidTweetText);\n\nvar _isValidUrl = require('./isValidUrl');\n\nvar _isValidUrl2 = _interopRequireDefault(_isValidUrl);\n\nvar _isValidUsername = require('./isValidUsername');\n\nvar _isValidUsername2 = _interopRequireDefault(_isValidUsername);\n\nvar _linkTextWithEntity = require('./linkTextWithEntity');\n\nvar _linkTextWithEntity2 = _interopRequireDefault(_linkTextWithEntity);\n\nvar _linkToCashtag = require('./linkToCashtag');\n\nvar _linkToCashtag2 = _interopRequireDefault(_linkToCashtag);\n\nvar _linkToHashtag = require('./linkToHashtag');\n\nvar _linkToHashtag2 = _interopRequireDefault(_linkToHashtag);\n\nvar _linkToMentionAndList = require('./linkToMentionAndList');\n\nvar _linkToMentionAndList2 = _interopRequireDefault(_linkToMentionAndList);\n\nvar _linkToText = require('./linkToText');\n\nvar _linkToText2 = _interopRequireDefault(_linkToText);\n\nvar _linkToTextWithSymbol = require('./linkToTextWithSymbol');\n\nvar _linkToTextWithSymbol2 = _interopRequireDefault(_linkToTextWithSymbol);\n\nvar _linkToUrl = require('./linkToUrl');\n\nvar _linkToUrl2 = _interopRequireDefault(_linkToUrl);\n\nvar _modifyIndicesFromUTF16ToUnicode = require('./modifyIndicesFromUTF16ToUnicode');\n\nvar _modifyIndicesFromUTF16ToUnicode2 = _interopRequireDefault(_modifyIndicesFromUTF16ToUnicode);\n\nvar _modifyIndicesFromUnicodeToUTF = require('./modifyIndicesFromUnicodeToUTF16');\n\nvar _modifyIndicesFromUnicodeToUTF2 = _interopRequireDefault(_modifyIndicesFromUnicodeToUTF);\n\nvar _index = require('./regexp/index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _removeOverlappingEntities = require('./removeOverlappingEntities');\n\nvar _removeOverlappingEntities2 = _interopRequireDefault(_removeOverlappingEntities);\n\nvar _parseTweet = require('./parseTweet');\n\nvar _parseTweet2 = _interopRequireDefault(_parseTweet);\n\nvar _splitTags = require('./splitTags');\n\nvar _splitTags2 = _interopRequireDefault(_splitTags);\n\nvar _tagAttrs = require('./tagAttrs');\n\nvar _tagAttrs2 = _interopRequireDefault(_tagAttrs);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nexports.default = {\n  autoLink: _autoLink2.default,\n  autoLinkCashtags: _autoLinkCashtags2.default,\n  autoLinkEntities: _autoLinkEntities2.default,\n  autoLinkHashtags: _autoLinkHashtags2.default,\n  autoLinkUrlsCustom: _autoLinkUrlsCustom2.default,\n  autoLinkUsernamesOrLists: _autoLinkUsernamesOrLists2.default,\n  autoLinkWithJSON: _autoLinkWithJSON2.default,\n  configs: _configs2.default,\n  convertUnicodeIndices: _convertUnicodeIndices2.default,\n  extractCashtags: _extractCashtags2.default,\n  extractCashtagsWithIndices: _extractCashtagsWithIndices2.default,\n  extractEntitiesWithIndices: _extractEntitiesWithIndices2.default,\n  extractHashtags: _extractHashtags2.default,\n  extractHashtagsWithIndices: _extractHashtagsWithIndices2.default,\n  extractHtmlAttrsFromOptions: _extractHtmlAttrsFromOptions2.default,\n  extractMentions: _extractMentions2.default,\n  extractMentionsOrListsWithIndices: _extractMentionsOrListsWithIndices2.default,\n  extractMentionsWithIndices: _extractMentionsWithIndices2.default,\n  extractReplies: _extractReplies2.default,\n  extractUrls: _extractUrls2.default,\n  extractUrlsWithIndices: _extractUrlsWithIndices2.default,\n  getTweetLength: _getTweetLength2.default,\n  getUnicodeTextLength: _getUnicodeTextLength2.default,\n  hasInvalidCharacters: _hasInvalidCharacters2.default,\n  hitHighlight: _hitHighlight2.default,\n  htmlEscape: _htmlEscape2.default,\n  isInvalidTweet: _isInvalidTweet2.default,\n  isValidHashtag: _isValidHashtag2.default,\n  isValidList: _isValidList2.default,\n  isValidTweetText: _isValidTweetText2.default,\n  isValidUrl: _isValidUrl2.default,\n  isValidUsername: _isValidUsername2.default,\n  linkTextWithEntity: _linkTextWithEntity2.default,\n  linkToCashtag: _linkToCashtag2.default,\n  linkToHashtag: _linkToHashtag2.default,\n  linkToMentionAndList: _linkToMentionAndList2.default,\n  linkToText: _linkToText2.default,\n  linkToTextWithSymbol: _linkToTextWithSymbol2.default,\n  linkToUrl: _linkToUrl2.default,\n  modifyIndicesFromUTF16ToUnicode: _modifyIndicesFromUTF16ToUnicode2.default,\n  modifyIndicesFromUnicodeToUTF16: _modifyIndicesFromUnicodeToUTF2.default,\n  regexen: _index2.default,\n  removeOverlappingEntities: _removeOverlappingEntities2.default,\n  parseTweet: _parseTweet2.default,\n  splitTags: _splitTags2.default,\n  tagAttrs: _tagAttrs2.default\n};\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (text, options) {\n  var entities = (0, _extractUrlsWithIndices2.default)(text, options).concat((0, _extractMentionsOrListsWithIndices2.default)(text)).concat((0, _extractHashtagsWithIndices2.default)(text, { checkUrlOverlap: false })).concat((0, _extractCashtagsWithIndices2.default)(text));\n\n  if (entities.length == 0) {\n    return [];\n  }\n\n  (0, _removeOverlappingEntities2.default)(entities);\n  return entities;\n};\n\nvar _extractCashtagsWithIndices = require('./extractCashtagsWithIndices');\n\nvar _extractCashtagsWithIndices2 = _interopRequireDefault(_extractCashtagsWithIndices);\n\nvar _extractHashtagsWithIndices = require('./extractHashtagsWithIndices');\n\nvar _extractHashtagsWithIndices2 = _interopRequireDefault(_extractHashtagsWithIndices);\n\nvar _extractMentionsOrListsWithIndices = require('./extractMentionsOrListsWithIndices');\n\nvar _extractMentionsOrListsWithIndices2 = _interopRequireDefault(_extractMentionsOrListsWithIndices);\n\nvar _extractUrlsWithIndices = require('./extractUrlsWithIndices');\n\nvar _extractUrlsWithIndices2 = _interopRequireDefault(_extractUrlsWithIndices);\n\nvar _removeOverlappingEntities = require('./removeOverlappingEntities');\n\nvar _removeOverlappingEntities2 = _interopRequireDefault(_removeOverlappingEntities);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _cashtag = require('./cashtag');\n\nvar _cashtag2 = _interopRequireDefault(_cashtag);\n\nvar _punct = require('./punct');\n\nvar _punct2 = _interopRequireDefault(_punct);\n\nvar _regexSupplant = require('../lib/regexSupplant');\n\nvar _regexSupplant2 = _interopRequireDefault(_regexSupplant);\n\nvar _spaces = require('./spaces');\n\nvar _spaces2 = _interopRequireDefault(_spaces);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nvar validCashtag = (0, _regexSupplant2.default)('(^|#{spaces})(\\\\$)(#{cashtag})(?=$|\\\\s|[#{punct}])', { cashtag: _cashtag2.default, spaces: _spaces2.default, punct: _punct2.default }, 'gi');\n\nexports.default = validCashtag;\nmodule.exports = exports['default'];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nvar cashtag = /[a-z]{1,6}(?:[._][a-z]{1,2})?/i;\nexports.default = cashtag;\nmodule.exports = exports[\"default\"];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _hashSigns = require('./hashSigns');\n\nvar _hashSigns2 = _interopRequireDefault(_hashSigns);\n\nvar _regexSupplant = require('../lib/regexSupplant');\n\nvar _regexSupplant2 = _interopRequireDefault(_regexSupplant);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nvar endHashtagMatch = (0, _regexSupplant2.default)(/^(?:#{hashSigns}|:\\/\\/)/, { hashSigns: _hashSigns2.default });\n\nexports.default = endHashtagMatch;\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _regexSupplant = require('../lib/regexSupplant');\n\nvar _regexSupplant2 = _interopRequireDefault(_regexSupplant);\n\nvar _validDomain = require('./validDomain');\n\nvar _validDomain2 = _interopRequireDefault(_validDomain);\n\nvar _validPortNumber = require('./validPortNumber');\n\nvar _validPortNumber2 = _interopRequireDefault(_validPortNumber);\n\nvar _validUrlPath = require('./validUrlPath');\n\nvar _validUrlPath2 = _interopRequireDefault(_validUrlPath);\n\nvar _validUrlPrecedingChars = require('./validUrlPrecedingChars');\n\nvar _validUrlPrecedingChars2 = _interopRequireDefault(_validUrlPrecedingChars);\n\nvar _validUrlQueryChars = require('./validUrlQueryChars');\n\nvar _validUrlQueryChars2 = _interopRequireDefault(_validUrlQueryChars);\n\nvar _validUrlQueryEndingChars = require('./validUrlQueryEndingChars');\n\nvar _validUrlQueryEndingChars2 = _interopRequireDefault(_validUrlQueryEndingChars);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar extractUrl = (0, _regexSupplant2.default)('(' + // $1 total match\n'(#{validUrlPrecedingChars})' + // $2 Preceeding chracter\n'(' + // $3 URL\n'(https?:\\\\/\\\\/)?' + // $4 Protocol (optional)\n'(#{validDomain})' + // $5 Domain(s)\n'(?::(#{validPortNumber}))?' + // $6 Port number (optional)\n'(\\\\/#{validUrlPath}*)?' + // $7 URL Path\n'(\\\\?#{validUrlQueryChars}*#{validUrlQueryEndingChars})?' + // $8 Query String\n')' + ')', {\n  validUrlPrecedingChars: _validUrlPrecedingChars2.default,\n  validDomain: _validDomain2.default,\n  validPortNumber: _validPortNumber2.default,\n  validUrlPath: _validUrlPath2.default,\n  validUrlQueryChars: _validUrlQueryChars2.default,\n  validUrlQueryEndingChars: _validUrlQueryEndingChars2.default\n}, 'gi'); // Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nexports.default = extractUrl;\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _regexSupplant = require('../lib/regexSupplant');\n\nvar _regexSupplant2 = _interopRequireDefault(_regexSupplant);\n\nvar _validCCTLD = require('./validCCTLD');\n\nvar _validCCTLD2 = _interopRequireDefault(_validCCTLD);\n\nvar _validDomainName = require('./validDomainName');\n\nvar _validDomainName2 = _interopRequireDefault(_validDomainName);\n\nvar _validGTLD = require('./validGTLD');\n\nvar _validGTLD2 = _interopRequireDefault(_validGTLD);\n\nvar _validPunycode = require('./validPunycode');\n\nvar _validPunycode2 = _interopRequireDefault(_validPunycode);\n\nvar _validSubdomain = require('./validSubdomain');\n\nvar _validSubdomain2 = _interopRequireDefault(_validSubdomain);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nvar validDomain = (0, _regexSupplant2.default)(/(?:#{validSubdomain}*#{validDomainName}(?:#{validGTLD}|#{validCCTLD}|#{validPunycode}))/, { validDomainName: _validDomainName2.default, validSubdomain: _validSubdomain2.default, validGTLD: _validGTLD2.default, validCCTLD: _validCCTLD2.default, validPunycode: _validPunycode2.default });\n\nexports.default = validDomain;\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _regexSupplant = require('../lib/regexSupplant');\n\nvar _regexSupplant2 = _interopRequireDefault(_regexSupplant);\n\nvar _validDomainChars = require('./validDomainChars');\n\nvar _validDomainChars2 = _interopRequireDefault(_validDomainChars);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nvar validDomainName = (0, _regexSupplant2.default)(/(?:(?:#{validDomainChars}(?:-|#{validDomainChars})*)?#{validDomainChars}\\.)/, {\n  validDomainChars: _validDomainChars2.default\n});\n\nexports.default = validDomainName;\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _directionalMarkersGroup = require('./directionalMarkersGroup');\n\nvar _directionalMarkersGroup2 = _interopRequireDefault(_directionalMarkersGroup);\n\nvar _invalidCharsGroup = require('./invalidCharsGroup');\n\nvar _invalidCharsGroup2 = _interopRequireDefault(_invalidCharsGroup);\n\nvar _punct = require('./punct');\n\nvar _punct2 = _interopRequireDefault(_punct);\n\nvar _spacesGroup = require('./spacesGroup');\n\nvar _spacesGroup2 = _interopRequireDefault(_spacesGroup);\n\nvar _stringSupplant = require('../lib/stringSupplant');\n\nvar _stringSupplant2 = _interopRequireDefault(_stringSupplant);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar invalidDomainChars = (0, _stringSupplant2.default)('#{punct}#{spacesGroup}#{invalidCharsGroup}#{directionalMarkersGroup}', {\n  punct: _punct2.default,\n  spacesGroup: _spacesGroup2.default,\n  invalidCharsGroup: _invalidCharsGroup2.default,\n  directionalMarkersGroup: _directionalMarkersGroup2.default\n}); // Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nexports.default = invalidDomainChars;\nmodule.exports = exports['default'];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nvar directionalMarkersGroup = /\\u202A-\\u202E\\u061C\\u200E\\u200F\\u2066\\u2067\\u2068\\u2069/;\nexports.default = directionalMarkersGroup;\nmodule.exports = exports[\"default\"];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _regexSupplant = require('../lib/regexSupplant');\n\nvar _regexSupplant2 = _interopRequireDefault(_regexSupplant);\n\nvar _validDomainChars = require('./validDomainChars');\n\nvar _validDomainChars2 = _interopRequireDefault(_validDomainChars);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nvar validSubdomain = (0, _regexSupplant2.default)(/(?:(?:#{validDomainChars}(?:[_-]|#{validDomainChars})*)?#{validDomainChars}\\.)/, {\n  validDomainChars: _validDomainChars2.default\n});\n\nexports.default = validSubdomain;\nmodule.exports = exports['default'];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nvar validPortNumber = /[0-9]+/;\nexports.default = validPortNumber;\nmodule.exports = exports[\"default\"];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _regexSupplant = require('../lib/regexSupplant');\n\nvar _regexSupplant2 = _interopRequireDefault(_regexSupplant);\n\nvar _validGeneralUrlPathChars = require('./validGeneralUrlPathChars');\n\nvar _validGeneralUrlPathChars2 = _interopRequireDefault(_validGeneralUrlPathChars);\n\nvar _validUrlBalancedParens = require('./validUrlBalancedParens');\n\nvar _validUrlBalancedParens2 = _interopRequireDefault(_validUrlBalancedParens);\n\nvar _validUrlPathEndingChars = require('./validUrlPathEndingChars');\n\nvar _validUrlPathEndingChars2 = _interopRequireDefault(_validUrlPathEndingChars);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Allow @ in a url, but only in the middle. Catch things like http://example.com/@user/\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nvar validUrlPath = (0, _regexSupplant2.default)('(?:' + '(?:' + '#{validGeneralUrlPathChars}*' + '(?:#{validUrlBalancedParens}#{validGeneralUrlPathChars}*)*' + '#{validUrlPathEndingChars}' + ')|(?:@#{validGeneralUrlPathChars}+/)' + ')', {\n  validGeneralUrlPathChars: _validGeneralUrlPathChars2.default,\n  validUrlBalancedParens: _validUrlBalancedParens2.default,\n  validUrlPathEndingChars: _validUrlPathEndingChars2.default\n}, 'i');\n\nexports.default = validUrlPath;\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _cyrillicLettersAndMarks = require('./cyrillicLettersAndMarks');\n\nvar _cyrillicLettersAndMarks2 = _interopRequireDefault(_cyrillicLettersAndMarks);\n\nvar _latinAccentChars = require('./latinAccentChars');\n\nvar _latinAccentChars2 = _interopRequireDefault(_latinAccentChars);\n\nvar _regexSupplant = require('../lib/regexSupplant');\n\nvar _regexSupplant2 = _interopRequireDefault(_regexSupplant);\n\nvar _validUrlBalancedParens = require('./validUrlBalancedParens');\n\nvar _validUrlBalancedParens2 = _interopRequireDefault(_validUrlBalancedParens);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Valid end-of-path chracters (so /foo. does not gobble the period).\n// 1. Allow =&# for empty URL parameters and other URL-join artifacts\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nvar validUrlPathEndingChars = (0, _regexSupplant2.default)(/[\\+\\-a-z#{cyrillicLettersAndMarks}0-9=_#\\/#{latinAccentChars}]|(?:#{validUrlBalancedParens})/i, { cyrillicLettersAndMarks: _cyrillicLettersAndMarks2.default, latinAccentChars: _latinAccentChars2.default, validUrlBalancedParens: _validUrlBalancedParens2.default });\n\nexports.default = validUrlPathEndingChars;\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _directionalMarkersGroup = require('./directionalMarkersGroup');\n\nvar _directionalMarkersGroup2 = _interopRequireDefault(_directionalMarkersGroup);\n\nvar _invalidCharsGroup = require('./invalidCharsGroup');\n\nvar _invalidCharsGroup2 = _interopRequireDefault(_invalidCharsGroup);\n\nvar _regexSupplant = require('../lib/regexSupplant');\n\nvar _regexSupplant2 = _interopRequireDefault(_regexSupplant);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar validUrlPrecedingChars = (0, _regexSupplant2.default)(/(?:[^A-Za-z0-9@＠$#＃#{invalidCharsGroup}]|[#{directionalMarkersGroup}]|^)/, {\n  invalidCharsGroup: _invalidCharsGroup2.default,\n  directionalMarkersGroup: _directionalMarkersGroup2.default\n}); // Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nexports.default = validUrlPrecedingChars;\nmodule.exports = exports['default'];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nvar invalidUrlWithoutProtocolPrecedingChars = /[-_.\\/]$/;\nexports.default = invalidUrlWithoutProtocolPrecedingChars;\nmodule.exports = exports[\"default\"];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _regexSupplant = require('../lib/regexSupplant');\n\nvar _regexSupplant2 = _interopRequireDefault(_regexSupplant);\n\nvar _validUrlQueryChars = require('./validUrlQueryChars');\n\nvar _validUrlQueryChars2 = _interopRequireDefault(_validUrlQueryChars);\n\nvar _validUrlQueryEndingChars = require('./validUrlQueryEndingChars');\n\nvar _validUrlQueryEndingChars2 = _interopRequireDefault(_validUrlQueryEndingChars);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar validTcoUrl = (0, _regexSupplant2.default)(/^https?:\\/\\/t\\.co\\/([a-z0-9]+)(?:\\?#{validUrlQueryChars}*#{validUrlQueryEndingChars})?/, { validUrlQueryChars: _validUrlQueryChars2.default, validUrlQueryEndingChars: _validUrlQueryEndingChars2.default }, 'i'); // Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nexports.default = validTcoUrl;\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _hashSigns = require('./hashSigns');\n\nvar _hashSigns2 = _interopRequireDefault(_hashSigns);\n\nvar _hashtagAlpha = require('./hashtagAlpha');\n\nvar _hashtagAlpha2 = _interopRequireDefault(_hashtagAlpha);\n\nvar _hashtagAlphaNumeric = require('./hashtagAlphaNumeric');\n\nvar _hashtagAlphaNumeric2 = _interopRequireDefault(_hashtagAlphaNumeric);\n\nvar _hashtagBoundary = require('./hashtagBoundary');\n\nvar _hashtagBoundary2 = _interopRequireDefault(_hashtagBoundary);\n\nvar _regexSupplant = require('../lib/regexSupplant');\n\nvar _regexSupplant2 = _interopRequireDefault(_regexSupplant);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar validHashtag = (0, _regexSupplant2.default)(/(#{hashtagBoundary})(#{hashSigns})(?!\\uFE0F|\\u20E3)(#{hashtagAlphaNumeric}*#{hashtagAlpha}#{hashtagAlphaNumeric}*)/gi, { hashtagBoundary: _hashtagBoundary2.default, hashSigns: _hashSigns2.default, hashtagAlphaNumeric: _hashtagAlphaNumeric2.default, hashtagAlpha: _hashtagAlpha2.default }); // Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nexports.default = validHashtag;\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _astralLetterAndMarks = require('./astralLetterAndMarks');\n\nvar _astralLetterAndMarks2 = _interopRequireDefault(_astralLetterAndMarks);\n\nvar _bmpLetterAndMarks = require('./bmpLetterAndMarks');\n\nvar _bmpLetterAndMarks2 = _interopRequireDefault(_bmpLetterAndMarks);\n\nvar _nonBmpCodePairs = require('./nonBmpCodePairs');\n\nvar _nonBmpCodePairs2 = _interopRequireDefault(_nonBmpCodePairs);\n\nvar _regexSupplant = require('../lib/regexSupplant');\n\nvar _regexSupplant2 = _interopRequireDefault(_regexSupplant);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// A hashtag must contain at least one unicode letter or mark, as well as numbers, underscores, and select special characters.\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nvar hashtagAlpha = (0, _regexSupplant2.default)(/(?:[#{bmpLetterAndMarks}]|(?=#{nonBmpCodePairs})(?:#{astralLetterAndMarks}))/, {\n  bmpLetterAndMarks: _bmpLetterAndMarks2.default,\n  nonBmpCodePairs: _nonBmpCodePairs2.default,\n  astralLetterAndMarks: _astralLetterAndMarks2.default\n});\n\nexports.default = hashtagAlpha;\nmodule.exports = exports['default'];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nvar astralNumerals = /\\ud801[\\udca0-\\udca9]|\\ud804[\\udc66-\\udc6f\\udcf0-\\udcf9\\udd36-\\udd3f\\uddd0-\\uddd9\\udef0-\\udef9]|\\ud805[\\udcd0-\\udcd9\\ude50-\\ude59\\udec0-\\udec9]|\\ud806[\\udce0-\\udce9]|\\ud81a[\\ude60-\\ude69\\udf50-\\udf59]|\\ud835[\\udfce-\\udfff]/;\nexports.default = astralNumerals;\nmodule.exports = exports[\"default\"];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nvar bmpNumerals = /0-9\\u0660-\\u0669\\u06f0-\\u06f9\\u07c0-\\u07c9\\u0966-\\u096f\\u09e6-\\u09ef\\u0a66-\\u0a6f\\u0ae6-\\u0aef\\u0b66-\\u0b6f\\u0be6-\\u0bef\\u0c66-\\u0c6f\\u0ce6-\\u0cef\\u0d66-\\u0d6f\\u0de6-\\u0def\\u0e50-\\u0e59\\u0ed0-\\u0ed9\\u0f20-\\u0f29\\u1040-\\u1049\\u1090-\\u1099\\u17e0-\\u17e9\\u1810-\\u1819\\u1946-\\u194f\\u19d0-\\u19d9\\u1a80-\\u1a89\\u1a90-\\u1a99\\u1b50-\\u1b59\\u1bb0-\\u1bb9\\u1c40-\\u1c49\\u1c50-\\u1c59\\ua620-\\ua629\\ua8d0-\\ua8d9\\ua900-\\ua909\\ua9d0-\\ua9d9\\ua9f0-\\ua9f9\\uaa50-\\uaa59\\uabf0-\\uabf9\\uff10-\\uff19/;\nexports.default = bmpNumerals;\nmodule.exports = exports[\"default\"];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nvar hashtagSpecialChars = /_\\u200c\\u200d\\ua67e\\u05be\\u05f3\\u05f4\\uff5e\\u301c\\u309b\\u309c\\u30a0\\u30fb\\u3003\\u0f0b\\u0f0c\\xb7/;\nexports.default = hashtagSpecialChars;\nmodule.exports = exports[\"default\"];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _codePoint = require('./codePoint');\n\nvar _codePoint2 = _interopRequireDefault(_codePoint);\n\nvar _hashtagAlphaNumeric = require('./hashtagAlphaNumeric');\n\nvar _hashtagAlphaNumeric2 = _interopRequireDefault(_hashtagAlphaNumeric);\n\nvar _regexSupplant = require('../lib/regexSupplant');\n\nvar _regexSupplant2 = _interopRequireDefault(_regexSupplant);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar hashtagBoundary = (0, _regexSupplant2.default)(/(?:^|\\uFE0E|\\uFE0F|$|(?!#{hashtagAlphaNumeric}|&)#{codePoint})/, {\n  codePoint: _codePoint2.default,\n  hashtagAlphaNumeric: _hashtagAlphaNumeric2.default\n}); // Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nexports.default = hashtagBoundary;\nmodule.exports = exports['default'];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nvar codePoint = /(?:[^\\uD800-\\uDFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF])/;\nexports.default = codePoint;\nmodule.exports = exports[\"default\"];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nvar validMentionPrecedingChars = /(?:^|[^a-zA-Z0-9_!#$%&*@＠]|(?:^|[^a-zA-Z0-9_+~.-])(?:rt|RT|rT|Rt):?)/;\nexports.default = validMentionPrecedingChars;\nmodule.exports = exports[\"default\"];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (options) {\n  var htmlAttrs = {};\n  for (var k in options) {\n    var v = options[k];\n    if (OPTIONS_NOT_ATTRIBUTES[k]) {\n      continue;\n    }\n    if (BOOLEAN_ATTRIBUTES[k]) {\n      v = v ? k : null;\n    }\n    if (v == null) {\n      continue;\n    }\n    htmlAttrs[k] = v;\n  }\n  return htmlAttrs;\n};\n\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nvar BOOLEAN_ATTRIBUTES = {\n  disabled: true,\n  readonly: true,\n  multiple: true,\n  checked: true\n};\n\n// Options which should not be passed as HTML attributes\nvar OPTIONS_NOT_ATTRIBUTES = {\n  urlClass: true,\n  listClass: true,\n  usernameClass: true,\n  hashtagClass: true,\n  cashtagClass: true,\n  usernameUrlBase: true,\n  listUrlBase: true,\n  hashtagUrlBase: true,\n  cashtagUrlBase: true,\n  usernameUrlBlock: true,\n  listUrlBlock: true,\n  hashtagUrlBlock: true,\n  linkUrlBlock: true,\n  usernameIncludeSymbol: true,\n  suppressLists: true,\n  suppressNoFollow: true,\n  targetBlank: true,\n  suppressDataScreenName: true,\n  urlEntities: true,\n  symbolTag: true,\n  textWithSymbolTag: true,\n  urlTarget: true,\n  invisibleTagAttrs: true,\n  linkAttributeBlock: true,\n  linkTextBlock: true,\n  htmlEscapeNonEntities: true\n};\n\nmodule.exports = exports[\"default\"];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (entity, text, options) {\n  var cashtag = (0, _htmlEscape2.default)(entity.cashtag);\n  var attrs = (0, _clone2.default)(options.htmlAttrs || {});\n  attrs.href = options.cashtagUrlBase + cashtag;\n  attrs.title = '$' + cashtag;\n  attrs['class'] = options.cashtagClass;\n  if (options.targetBlank) {\n    attrs.target = '_blank';\n  }\n\n  return (0, _linkToTextWithSymbol2.default)(entity, '$', cashtag, attrs, options);\n};\n\nvar _clone = require('./lib/clone');\n\nvar _clone2 = _interopRequireDefault(_clone);\n\nvar _htmlEscape = require('./htmlEscape');\n\nvar _htmlEscape2 = _interopRequireDefault(_htmlEscape);\n\nvar _linkToTextWithSymbol = require('./linkToTextWithSymbol');\n\nvar _linkToTextWithSymbol2 = _interopRequireDefault(_linkToTextWithSymbol);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (attributes) {\n  var htmlAttrs = '';\n  for (var k in attributes) {\n    var v = attributes[k];\n    if (BOOLEAN_ATTRIBUTES[k]) {\n      v = v ? k : null;\n    }\n    if (v == null) {\n      continue;\n    }\n    htmlAttrs += ' ' + (0, _htmlEscape2.default)(k) + '=\"' + (0, _htmlEscape2.default)(v.toString()) + '\"';\n  }\n  return htmlAttrs;\n};\n\nvar _htmlEscape = require('./htmlEscape');\n\nvar _htmlEscape2 = _interopRequireDefault(_htmlEscape);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar BOOLEAN_ATTRIBUTES = {\n  disabled: true,\n  readonly: true,\n  multiple: true,\n  checked: true\n}; // Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (entity, text, options) {\n  var hash = text.substring(entity.indices[0], entity.indices[0] + 1);\n  var hashtag = (0, _htmlEscape2.default)(entity.hashtag);\n  var attrs = (0, _clone2.default)(options.htmlAttrs || {});\n  attrs.href = options.hashtagUrlBase + hashtag;\n  attrs.title = '#' + hashtag;\n  attrs['class'] = options.hashtagClass;\n  if (hashtag.charAt(0).match(_rtlChars2.default)) {\n    attrs['class'] += ' rtl';\n  }\n  if (options.targetBlank) {\n    attrs.target = '_blank';\n  }\n\n  return (0, _linkToTextWithSymbol2.default)(entity, hash, hashtag, attrs, options);\n};\n\nvar _clone = require('./lib/clone');\n\nvar _clone2 = _interopRequireDefault(_clone);\n\nvar _htmlEscape = require('./htmlEscape');\n\nvar _htmlEscape2 = _interopRequireDefault(_htmlEscape);\n\nvar _rtlChars = require('./regexp/rtlChars');\n\nvar _rtlChars2 = _interopRequireDefault(_rtlChars);\n\nvar _linkToTextWithSymbol = require('./linkToTextWithSymbol');\n\nvar _linkToTextWithSymbol2 = _interopRequireDefault(_linkToTextWithSymbol);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nmodule.exports = exports['default']; // Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nvar rtlChars = /[\\u0600-\\u06FF]|[\\u0750-\\u077F]|[\\u0590-\\u05FF]|[\\uFE70-\\uFEFF]/gm;\nexports.default = rtlChars;\nmodule.exports = exports[\"default\"];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (entity, text, options) {\n  var url = entity.url;\n  var displayUrl = url;\n  var linkText = (0, _htmlEscape2.default)(displayUrl);\n\n  // If the caller passed a urlEntities object (provided by a Twitter API\n  // response with include_entities=true), we use that to render the display_url\n  // for each URL instead of it's underlying t.co URL.\n  var urlEntity = options.urlEntities && options.urlEntities[url] || entity;\n  if (urlEntity.display_url) {\n    linkText = (0, _linkTextWithEntity2.default)(urlEntity, options);\n  }\n\n  var attrs = (0, _clone2.default)(options.htmlAttrs || {});\n\n  if (!url.match(_urlHasProtocol2.default)) {\n    url = 'http://' + url;\n  }\n  attrs.href = url;\n\n  if (options.targetBlank) {\n    attrs.target = '_blank';\n  }\n\n  // set class only if urlClass is specified.\n  if (options.urlClass) {\n    attrs['class'] = options.urlClass;\n  }\n\n  // set target only if urlTarget is specified.\n  if (options.urlTarget) {\n    attrs.target = options.urlTarget;\n  }\n\n  if (!options.title && urlEntity.display_url) {\n    attrs.title = urlEntity.expanded_url;\n  }\n\n  return (0, _linkToText2.default)(entity, linkText, attrs, options);\n};\n\nvar _clone = require('./lib/clone');\n\nvar _clone2 = _interopRequireDefault(_clone);\n\nvar _htmlEscape = require('./htmlEscape');\n\nvar _htmlEscape2 = _interopRequireDefault(_htmlEscape);\n\nvar _linkToText = require('./linkToText');\n\nvar _linkToText2 = _interopRequireDefault(_linkToText);\n\nvar _linkTextWithEntity = require('./linkTextWithEntity');\n\nvar _linkTextWithEntity2 = _interopRequireDefault(_linkTextWithEntity);\n\nvar _urlHasProtocol = require('./regexp/urlHasProtocol');\n\nvar _urlHasProtocol2 = _interopRequireDefault(_urlHasProtocol);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (entity, options) {\n  var displayUrl = entity.display_url;\n  var expandedUrl = entity.expanded_url;\n\n  // Goal: If a user copies and pastes a tweet containing t.co'ed link, the resulting paste\n  // should contain the full original URL (expanded_url), not the display URL.\n  //\n  // Method: Whenever possible, we actually emit HTML that contains expanded_url, and use\n  // font-size:0 to hide those parts that should not be displayed (because they are not part of display_url).\n  // Elements with font-size:0 get copied even though they are not visible.\n  // Note that display:none doesn't work here. Elements with display:none don't get copied.\n  //\n  // Additionally, we want to *display* ellipses, but we don't want them copied.  To make this happen we\n  // wrap the ellipses in a tco-ellipsis class and provide an onCopy handler that sets display:none on\n  // everything with the tco-ellipsis class.\n  //\n  // Exception: pic.twitter.com images, for which expandedUrl = \"https://twitter.com/#!/username/status/1234/photo/1\n  // For those URLs, display_url is not a substring of expanded_url, so we don't do anything special to render the elided parts.\n  // For a pic.twitter.com URL, the only elided part will be the \"https://\", so this is fine.\n\n  var displayUrlSansEllipses = displayUrl.replace(/…/g, ''); // We have to disregard ellipses for matching\n  // Note: we currently only support eliding parts of the URL at the beginning or the end.\n  // Eventually we may want to elide parts of the URL in the *middle*.  If so, this code will\n  // become more complicated.  We will probably want to create a regexp out of display URL,\n  // replacing every ellipsis with a \".*\".\n  if (expandedUrl.indexOf(displayUrlSansEllipses) != -1) {\n    var displayUrlIndex = expandedUrl.indexOf(displayUrlSansEllipses);\n    var v = {\n      displayUrlSansEllipses: displayUrlSansEllipses,\n      // Portion of expandedUrl that precedes the displayUrl substring\n      beforeDisplayUrl: expandedUrl.substr(0, displayUrlIndex),\n      // Portion of expandedUrl that comes after displayUrl\n      afterDisplayUrl: expandedUrl.substr(displayUrlIndex + displayUrlSansEllipses.length),\n      precedingEllipsis: displayUrl.match(/^…/) ? '…' : '',\n      followingEllipsis: displayUrl.match(/…$/) ? '…' : ''\n    };\n    for (var k in v) {\n      if (v.hasOwnProperty(k)) {\n        v[k] = (0, _htmlEscape2.default)(v[k]);\n      }\n    }\n    // As an example: The user tweets \"hi http://longdomainname.com/foo\"\n    // This gets shortened to \"hi http://t.co/xyzabc\", with display_url = \"…nname.com/foo\"\n    // This will get rendered as:\n    // <span class='tco-ellipsis'> <!-- This stuff should get displayed but not copied -->\n    //   …\n    //   <!-- There's a chance the onCopy event handler might not fire. In case that happens,\n    //        we include an &nbsp; here so that the … doesn't bump up against the URL and ruin it.\n    //        The &nbsp; is inside the tco-ellipsis span so that when the onCopy handler *does*\n    //        fire, it doesn't get copied.  Otherwise the copied text would have two spaces in a row,\n    //        e.g. \"hi  http://longdomainname.com/foo\".\n    //   <span style='font-size:0'>&nbsp;</span>\n    // </span>\n    // <span style='font-size:0'>  <!-- This stuff should get copied but not displayed -->\n    //   http://longdomai\n    // </span>\n    // <span class='js-display-url'> <!-- This stuff should get displayed *and* copied -->\n    //   nname.com/foo\n    // </span>\n    // <span class='tco-ellipsis'> <!-- This stuff should get displayed but not copied -->\n    //   <span style='font-size:0'>&nbsp;</span>\n    //   …\n    // </span>\n    v['invisible'] = options.invisibleTagAttrs;\n    return (0, _stringSupplant2.default)(\"<span class='tco-ellipsis'>#{precedingEllipsis}<span #{invisible}>&nbsp;</span></span><span #{invisible}>#{beforeDisplayUrl}</span><span class='js-display-url'>#{displayUrlSansEllipses}</span><span #{invisible}>#{afterDisplayUrl}</span><span class='tco-ellipsis'><span #{invisible}>&nbsp;</span>#{followingEllipsis}</span>\", v);\n  }\n  return displayUrl;\n};\n\nvar _htmlEscape = require('./htmlEscape');\n\nvar _htmlEscape2 = _interopRequireDefault(_htmlEscape);\n\nvar _stringSupplant = require('./lib/stringSupplant');\n\nvar _stringSupplant2 = _interopRequireDefault(_stringSupplant);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nmodule.exports = exports['default']; // Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nvar urlHasProtocol = /^https?:\\/\\//i;\nexports.default = urlHasProtocol;\nmodule.exports = exports[\"default\"];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (entity, text, options) {\n  var at = text.substring(entity.indices[0], entity.indices[0] + 1);\n  var user = (0, _htmlEscape2.default)(entity.screenName);\n  var slashListname = (0, _htmlEscape2.default)(entity.listSlug);\n  var isList = entity.listSlug && !options.suppressLists;\n  var attrs = (0, _clone2.default)(options.htmlAttrs || {});\n  attrs['class'] = isList ? options.listClass : options.usernameClass;\n  attrs.href = isList ? options.listUrlBase + user + slashListname : options.usernameUrlBase + user;\n  if (!isList && !options.suppressDataScreenName) {\n    attrs['data-screen-name'] = user;\n  }\n  if (options.targetBlank) {\n    attrs.target = '_blank';\n  }\n\n  return (0, _linkToTextWithSymbol2.default)(entity, at, isList ? user + slashListname : user, attrs, options);\n};\n\nvar _clone = require('./lib/clone');\n\nvar _clone2 = _interopRequireDefault(_clone);\n\nvar _htmlEscape = require('./htmlEscape');\n\nvar _htmlEscape2 = _interopRequireDefault(_htmlEscape);\n\nvar _linkToTextWithSymbol = require('./linkToTextWithSymbol');\n\nvar _linkToTextWithSymbol2 = _interopRequireDefault(_linkToTextWithSymbol);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (text, entities) {\n  (0, _convertUnicodeIndices2.default)(text, entities, false);\n};\n\nvar _convertUnicodeIndices = require('./lib/convertUnicodeIndices');\n\nvar _convertUnicodeIndices2 = _interopRequireDefault(_convertUnicodeIndices);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nmodule.exports = exports['default'];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\n/**\n * Copied from https://github.com/twitter/twitter-text/blob/master/js/twitter-text.js\n */\n\nvar convertUnicodeIndices = function convertUnicodeIndices(text, entities, indicesInUTF16) {\n  if (entities.length === 0) {\n    return;\n  }\n\n  var charIndex = 0;\n  var codePointIndex = 0;\n\n  // sort entities by start index\n  entities.sort(function (a, b) {\n    return a.indices[0] - b.indices[0];\n  });\n  var entityIndex = 0;\n  var entity = entities[0];\n\n  while (charIndex < text.length) {\n    if (entity.indices[0] === (indicesInUTF16 ? charIndex : codePointIndex)) {\n      var len = entity.indices[1] - entity.indices[0];\n      entity.indices[0] = indicesInUTF16 ? codePointIndex : charIndex;\n      entity.indices[1] = entity.indices[0] + len;\n\n      entityIndex++;\n      if (entityIndex === entities.length) {\n        // no more entity\n        break;\n      }\n      entity = entities[entityIndex];\n    }\n\n    var c = text.charCodeAt(charIndex);\n    if (c >= 0xd800 && c <= 0xdbff && charIndex < text.length - 1) {\n      // Found high surrogate char\n      c = text.charCodeAt(charIndex + 1);\n      if (c >= 0xdc00 && c <= 0xdfff) {\n        // Found surrogate pair\n        charIndex++;\n      }\n    }\n    codePointIndex++;\n    charIndex++;\n  }\n};\n\nexports.default = convertUnicodeIndices;\nmodule.exports = exports[\"default\"];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (text) {\n  var hashtagsOnly = [];\n  var hashtagsWithIndices = (0, _extractHashtagsWithIndices2.default)(text);\n  for (var i = 0; i < hashtagsWithIndices.length; i++) {\n    hashtagsOnly.push(hashtagsWithIndices[i].hashtag);\n  }\n\n  return hashtagsOnly;\n};\n\nvar _extractHashtagsWithIndices = require('./extractHashtagsWithIndices');\n\nvar _extractHashtagsWithIndices2 = _interopRequireDefault(_extractHashtagsWithIndices);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (text) {\n  var screenNamesOnly = [],\n      screenNamesWithIndices = (0, _extractMentionsWithIndices2.default)(text);\n\n  for (var i = 0; i < screenNamesWithIndices.length; i++) {\n    var screenName = screenNamesWithIndices[i].screenName;\n    screenNamesOnly.push(screenName);\n  }\n\n  return screenNamesOnly;\n};\n\nvar _extractMentionsWithIndices = require('./extractMentionsWithIndices');\n\nvar _extractMentionsWithIndices2 = _interopRequireDefault(_extractMentionsWithIndices);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (text) {\n  var mentions = [];\n  var mentionOrList = void 0;\n  var mentionsOrLists = (0, _extractMentionsOrListsWithIndices2.default)(text);\n\n  for (var i = 0; i < mentionsOrLists.length; i++) {\n    mentionOrList = mentionsOrLists[i];\n    if (mentionOrList.listSlug === '') {\n      mentions.push({\n        screenName: mentionOrList.screenName,\n        indices: mentionOrList.indices\n      });\n    }\n  }\n\n  return mentions;\n};\n\nvar _extractMentionsOrListsWithIndices = require('./extractMentionsOrListsWithIndices');\n\nvar _extractMentionsOrListsWithIndices2 = _interopRequireDefault(_extractMentionsOrListsWithIndices);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _atSigns = require('./atSigns');\n\nvar _atSigns2 = _interopRequireDefault(_atSigns);\n\nvar _regexSupplant = require('../lib/regexSupplant');\n\nvar _regexSupplant2 = _interopRequireDefault(_regexSupplant);\n\nvar _spaces = require('./spaces');\n\nvar _spaces2 = _interopRequireDefault(_spaces);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar validReply = (0, _regexSupplant2.default)(/^(?:#{spaces})*#{atSigns}([a-zA-Z0-9_]{1,20})/, { atSigns: _atSigns2.default, spaces: _spaces2.default }); // Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nexports.default = validReply;\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _configs = require('./configs');\n\nvar _configs2 = _interopRequireDefault(_configs);\n\nvar _extractUrlsWithIndices = require('./extractUrlsWithIndices');\n\nvar _extractUrlsWithIndices2 = _interopRequireDefault(_extractUrlsWithIndices);\n\nvar _getCharacterWeight = require('./lib/getCharacterWeight');\n\nvar _getCharacterWeight2 = _interopRequireDefault(_getCharacterWeight);\n\nvar _modifyIndicesFromUTF16ToUnicode = require('./modifyIndicesFromUTF16ToUnicode');\n\nvar _modifyIndicesFromUTF16ToUnicode2 = _interopRequireDefault(_modifyIndicesFromUTF16ToUnicode);\n\nvar _nonBmpCodePairs = require('./regexp/nonBmpCodePairs');\n\nvar _nonBmpCodePairs2 = _interopRequireDefault(_nonBmpCodePairs);\n\nvar _parseTweet = require('./parseTweet');\n\nvar _parseTweet2 = _interopRequireDefault(_parseTweet);\n\nvar _urlHasHttps = require('./regexp/urlHasHttps');\n\nvar _urlHasHttps2 = _interopRequireDefault(_urlHasHttps);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar getTweetLength = function getTweetLength(text) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _configs2.default.defaults;\n\n  return (0, _parseTweet2.default)(text, options).weightedLength;\n}; // Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nexports.default = getTweetLength;\nmodule.exports = exports['default'];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nvar getCharacterWeight = function getCharacterWeight(ch, options) {\n  var defaultWeight = options.defaultWeight,\n      ranges = options.ranges;\n\n  var weight = defaultWeight;\n  var chCodePoint = ch.charCodeAt(0);\n  if (Array.isArray(ranges)) {\n    for (var i = 0, length = ranges.length; i < length; i++) {\n      var currRange = ranges[i];\n      if (chCodePoint >= currRange.start && chCodePoint <= currRange.end) {\n        weight = currRange.weight;\n        break;\n      }\n    }\n  }\n\n  return weight;\n};\n\nexports.default = getCharacterWeight;\nmodule.exports = exports[\"default\"];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _configs = require('./configs');\n\nvar _configs2 = _interopRequireDefault(_configs);\n\nvar _extractUrlsWithIndices = require('./extractUrlsWithIndices');\n\nvar _extractUrlsWithIndices2 = _interopRequireDefault(_extractUrlsWithIndices);\n\nvar _getCharacterWeight = require('./lib/getCharacterWeight');\n\nvar _getCharacterWeight2 = _interopRequireDefault(_getCharacterWeight);\n\nvar _hasInvalidCharacters = require('./hasInvalidCharacters');\n\nvar _hasInvalidCharacters2 = _interopRequireDefault(_hasInvalidCharacters);\n\nvar _modifyIndicesFromUTF16ToUnicode = require('./modifyIndicesFromUTF16ToUnicode');\n\nvar _modifyIndicesFromUTF16ToUnicode2 = _interopRequireDefault(_modifyIndicesFromUTF16ToUnicode);\n\nvar _twemojiParser = require('twemoji-parser');\n\nvar _urlHasHttps = require('./regexp/urlHasHttps');\n\nvar _urlHasHttps2 = _interopRequireDefault(_urlHasHttps);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * [parseTweet description]\n * @param  {string} text tweet text to parse\n * @param  {Object} options config options to pass\n * @return {Object} Fields in response described below:\n *\n * Response fields:\n * weightedLength {int} the weighted length of tweet based on weights specified in the config\n * valid {bool} If tweet is valid\n * permillage {float} permillage of the tweet over the max length specified in config\n * validRangeStart {int} beginning of valid text\n * validRangeEnd {int} End index of valid part of the tweet text (inclusive) in utf16\n * displayRangeStart {int} beginning index of display text\n * displayRangeEnd {int} end index of display text (inclusive) in utf16\n */\n\n\n// TODO: WEB-19861 Replace with public package after it is open sourced\nvar parseTweet = function parseTweet() {\n  var text = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _configs2.default.defaults;\n\n  var mergedOptions = Object.keys(options).length ? options : _configs2.default.defaults;\n  var defaultWeight = mergedOptions.defaultWeight,\n      emojiParsingEnabled = mergedOptions.emojiParsingEnabled,\n      scale = mergedOptions.scale,\n      maxWeightedTweetLength = mergedOptions.maxWeightedTweetLength,\n      transformedURLLength = mergedOptions.transformedURLLength;\n\n  var normalizedText = typeof String.prototype.normalize === 'function' ? text.normalize() : text;\n\n  // Hash all entities by their startIndex for fast lookup\n  var urlEntitiesMap = transformEntitiesToHash((0, _extractUrlsWithIndices2.default)(normalizedText));\n  var emojiEntitiesMap = emojiParsingEnabled ? transformEntitiesToHash((0, _twemojiParser.parse)(normalizedText)) : [];\n  var tweetLength = normalizedText.length;\n\n  var weightedLength = 0;\n  var validDisplayIndex = 0;\n  var valid = true;\n  // Go through every character and calculate weight\n  for (var charIndex = 0; charIndex < tweetLength; charIndex++) {\n    // If a url begins at the specified index handle, add constant length\n    if (urlEntitiesMap[charIndex]) {\n      var _urlEntitiesMap$charI = urlEntitiesMap[charIndex],\n          url = _urlEntitiesMap$charI.url,\n          indices = _urlEntitiesMap$charI.indices;\n\n      weightedLength += transformedURLLength * scale;\n      charIndex += url.length - 1;\n    } else if (emojiParsingEnabled && emojiEntitiesMap[charIndex]) {\n      var _emojiEntitiesMap$cha = emojiEntitiesMap[charIndex],\n          emoji = _emojiEntitiesMap$cha.text,\n          _indices = _emojiEntitiesMap$cha.indices;\n\n      weightedLength += (0, _getCharacterWeight2.default)(emoji.charAt(0), mergedOptions);\n      charIndex += emoji.length - 1;\n    } else {\n      charIndex += isSurrogatePair(normalizedText, charIndex) ? 1 : 0;\n      weightedLength += (0, _getCharacterWeight2.default)(normalizedText.charAt(charIndex), mergedOptions);\n    }\n\n    // Only test for validity of character if it is still valid\n    if (valid) {\n      valid = !(0, _hasInvalidCharacters2.default)(normalizedText.substring(charIndex, charIndex + 1));\n    }\n    if (valid && weightedLength <= maxWeightedTweetLength * scale) {\n      validDisplayIndex = charIndex;\n    }\n  }\n\n  weightedLength = weightedLength / scale;\n  valid = valid && weightedLength > 0 && weightedLength <= maxWeightedTweetLength;\n  var permillage = Math.floor(weightedLength / maxWeightedTweetLength * 1000);\n  var normalizationOffset = text.length - normalizedText.length;\n  validDisplayIndex += normalizationOffset;\n\n  return {\n    weightedLength: weightedLength,\n    valid: valid,\n    permillage: permillage,\n    validRangeStart: 0,\n    validRangeEnd: validDisplayIndex,\n    displayRangeStart: 0,\n    displayRangeEnd: text.length > 0 ? text.length - 1 : 0\n  };\n}; // Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nvar transformEntitiesToHash = function transformEntitiesToHash(entities) {\n  return entities.reduce(function (map, entity) {\n    map[entity.indices[0]] = entity;\n    return map;\n  }, {});\n};\n\nvar isSurrogatePair = function isSurrogatePair(text, cIndex) {\n  // Test if a character is the beginning of a surrogate pair\n  if (cIndex < text.length - 1) {\n    var c = text.charCodeAt(cIndex);\n    var cNext = text.charCodeAt(cIndex + 1);\n    return 0xd800 <= c && c <= 0xdbff && 0xdc00 <= cNext && cNext <= 0xdfff;\n  }\n  return false;\n};\n\nexports.default = parseTweet;\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _invalidCharsGroup = require('./invalidCharsGroup');\n\nvar _invalidCharsGroup2 = _interopRequireDefault(_invalidCharsGroup);\n\nvar _regexSupplant = require('../lib/regexSupplant');\n\nvar _regexSupplant2 = _interopRequireDefault(_regexSupplant);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nvar invalidChars = (0, _regexSupplant2.default)(/[#{invalidCharsGroup}]/, {\n  invalidCharsGroup: _invalidCharsGroup2.default\n});\nexports.default = invalidChars;\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (text) {\n  var firstSplits = text.split('<'),\n      secondSplits = void 0,\n      allSplits = [],\n      split = void 0;\n\n  for (var i = 0; i < firstSplits.length; i += 1) {\n    split = firstSplits[i];\n    if (!split) {\n      allSplits.push('');\n    } else {\n      secondSplits = split.split('>');\n      for (var j = 0; j < secondSplits.length; j += 1) {\n        allSplits.push(secondSplits[j]);\n      }\n    }\n  }\n\n  return allSplits;\n};\n\nmodule.exports = exports['default']; // Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\n// this essentially does text.split(/<|>/)\n// except that won't work in IE, where empty strings are ommitted\n// so \"<>\".split(/<|>/) => [] in IE, but is [\"\", \"\", \"\"] in all others\n// but \"<<\".split(\"<\") => [\"\", \"\", \"\"]","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (text) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _configs2.default.defaults;\n\n  if (!text) {\n    return 'empty';\n  }\n\n  var mergedOptions = Object.assign({}, _configs2.default.defaults, options);\n  var maxLength = mergedOptions.maxWeightedTweetLength;\n\n  // Determine max length independent of URL length\n  if ((0, _getTweetLength2.default)(text, mergedOptions) > maxLength) {\n    return 'too_long';\n  }\n\n  if ((0, _hasInvalidCharacters2.default)(text)) {\n    return 'invalid_characters';\n  }\n\n  return false;\n};\n\nvar _configs = require('./configs');\n\nvar _configs2 = _interopRequireDefault(_configs);\n\nvar _getTweetLength = require('./getTweetLength');\n\nvar _getTweetLength2 = _interopRequireDefault(_getTweetLength);\n\nvar _hasInvalidCharacters = require('./hasInvalidCharacters');\n\nvar _hasInvalidCharacters2 = _interopRequireDefault(_hasInvalidCharacters);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _regexSupplant = require('../lib/regexSupplant');\n\nvar _regexSupplant2 = _interopRequireDefault(_regexSupplant);\n\nvar _validateUrlUserinfo = require('./validateUrlUserinfo');\n\nvar _validateUrlUserinfo2 = _interopRequireDefault(_validateUrlUserinfo);\n\nvar _validateUrlHost = require('./validateUrlHost');\n\nvar _validateUrlHost2 = _interopRequireDefault(_validateUrlHost);\n\nvar _validateUrlPort = require('./validateUrlPort');\n\nvar _validateUrlPort2 = _interopRequireDefault(_validateUrlPort);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nvar validateUrlAuthority = (0, _regexSupplant2.default)(\n// $1 userinfo\n'(?:(#{validateUrlUserinfo})@)?' +\n// $2 host\n'(#{validateUrlHost})' +\n// $3 port\n'(?::(#{validateUrlPort}))?', { validateUrlUserinfo: _validateUrlUserinfo2.default, validateUrlHost: _validateUrlHost2.default, validateUrlPort: _validateUrlPort2.default }, 'i');\n\nexports.default = validateUrlAuthority;\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _regexSupplant = require('../lib/regexSupplant');\n\nvar _regexSupplant2 = _interopRequireDefault(_regexSupplant);\n\nvar _validateUrlDomain = require('./validateUrlDomain');\n\nvar _validateUrlDomain2 = _interopRequireDefault(_validateUrlDomain);\n\nvar _validateUrlIp = require('./validateUrlIp');\n\nvar _validateUrlIp2 = _interopRequireDefault(_validateUrlIp);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar validateUrlHost = (0, _regexSupplant2.default)('(?:' + '#{validateUrlIp}|' + '#{validateUrlDomain}' + ')', { validateUrlIp: _validateUrlIp2.default, validateUrlDomain: _validateUrlDomain2.default }, 'i'); // Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nexports.default = validateUrlHost;\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _regexSupplant = require('../lib/regexSupplant');\n\nvar _regexSupplant2 = _interopRequireDefault(_regexSupplant);\n\nvar _validateUrlDomainSegment = require('./validateUrlDomainSegment');\n\nvar _validateUrlDomainSegment2 = _interopRequireDefault(_validateUrlDomainSegment);\n\nvar _validateUrlDomainTld = require('./validateUrlDomainTld');\n\nvar _validateUrlDomainTld2 = _interopRequireDefault(_validateUrlDomainTld);\n\nvar _validateUrlSubDomainSegment = require('./validateUrlSubDomainSegment');\n\nvar _validateUrlSubDomainSegment2 = _interopRequireDefault(_validateUrlSubDomainSegment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nvar validateUrlDomain = (0, _regexSupplant2.default)(/(?:(?:#{validateUrlSubDomainSegment}\\.)*(?:#{validateUrlDomainSegment}\\.)#{validateUrlDomainTld})/i, {\n  validateUrlSubDomainSegment: _validateUrlSubDomainSegment2.default,\n  validateUrlDomainSegment: _validateUrlDomainSegment2.default,\n  validateUrlDomainTld: _validateUrlDomainTld2.default\n});\n\nexports.default = validateUrlDomain;\nmodule.exports = exports['default'];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nvar validateUrlDomainSegment = /(?:[a-z0-9](?:[a-z0-9\\-]*[a-z0-9])?)/i;\nexports.default = validateUrlDomainSegment;\nmodule.exports = exports[\"default\"];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nvar validateUrlDomainTld = /(?:[a-z](?:[a-z0-9\\-]*[a-z0-9])?)/i;\nexports.default = validateUrlDomainTld;\nmodule.exports = exports[\"default\"];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nvar validateUrlSubDomainSegment = /(?:[a-z0-9](?:[a-z0-9_\\-]*[a-z0-9])?)/i;\nexports.default = validateUrlSubDomainSegment;\nmodule.exports = exports[\"default\"];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _regexSupplant = require('../lib/regexSupplant');\n\nvar _regexSupplant2 = _interopRequireDefault(_regexSupplant);\n\nvar _validateUrlDecOctet = require('./validateUrlDecOctet');\n\nvar _validateUrlDecOctet2 = _interopRequireDefault(_validateUrlDecOctet);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nvar validateUrlIpv4 = (0, _regexSupplant2.default)(/(?:#{validateUrlDecOctet}(?:\\.#{validateUrlDecOctet}){3})/i, {\n  validateUrlDecOctet: _validateUrlDecOctet2.default\n});\n\nexports.default = validateUrlIpv4;\nmodule.exports = exports['default'];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nvar validateUrlDecOctet = /(?:[0-9]|(?:[1-9][0-9])|(?:1[0-9]{2})|(?:2[0-4][0-9])|(?:25[0-5]))/i;\nexports.default = validateUrlDecOctet;\nmodule.exports = exports[\"default\"];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\n// Punting on real IPv6 validation for now\nvar validateUrlIpv6 = /(?:\\[[a-f0-9:\\.]+\\])/i;\nexports.default = validateUrlIpv6;\nmodule.exports = exports[\"default\"];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _regexSupplant = require('../lib/regexSupplant');\n\nvar _regexSupplant2 = _interopRequireDefault(_regexSupplant);\n\nvar _validateUrlPchar = require('./validateUrlPchar');\n\nvar _validateUrlPchar2 = _interopRequireDefault(_validateUrlPchar);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nvar validateUrlFragment = (0, _regexSupplant2.default)(/(#{validateUrlPchar}|\\/|\\?)*/i, {\n  validateUrlPchar: _validateUrlPchar2.default\n});\n\nexports.default = validateUrlFragment;\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _regexSupplant = require('../lib/regexSupplant');\n\nvar _regexSupplant2 = _interopRequireDefault(_regexSupplant);\n\nvar _validateUrlPchar = require('./validateUrlPchar');\n\nvar _validateUrlPchar2 = _interopRequireDefault(_validateUrlPchar);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nvar validateUrlPath = (0, _regexSupplant2.default)(/(\\/#{validateUrlPchar}*)*/i, {\n  validateUrlPchar: _validateUrlPchar2.default\n});\n\nexports.default = validateUrlPath;\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _regexSupplant = require('../lib/regexSupplant');\n\nvar _regexSupplant2 = _interopRequireDefault(_regexSupplant);\n\nvar _validateUrlPchar = require('./validateUrlPchar');\n\nvar _validateUrlPchar2 = _interopRequireDefault(_validateUrlPchar);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nvar validateUrlQuery = (0, _regexSupplant2.default)(/(#{validateUrlPchar}|\\/|\\?)*/i, {\n  validateUrlPchar: _validateUrlPchar2.default\n});\n\nexports.default = validateUrlQuery;\nmodule.exports = exports['default'];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nvar validateUrlScheme = /(?:[a-z][a-z0-9+\\-.]*)/i;\nexports.default = validateUrlScheme;\nmodule.exports = exports[\"default\"];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _regexSupplant = require('../lib/regexSupplant');\n\nvar _regexSupplant2 = _interopRequireDefault(_regexSupplant);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Modified version of RFC 3986 Appendix B\nvar validateUrlUnencoded = (0, _regexSupplant2.default)('^' + // Full URL\n'(?:' + '([^:/?#]+):\\\\/\\\\/' + // $1 Scheme\n')?' + '([^/?#]*)' + // $2 Authority\n'([^?#]*)' + // $3 Path\n'(?:' + '\\\\?([^#]*)' + // $4 Query\n')?' + '(?:' + '#(.*)' + // $5 Fragment\n')?$', 'i'); // Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nexports.default = validateUrlUnencoded;\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _regexSupplant = require('../lib/regexSupplant');\n\nvar _regexSupplant2 = _interopRequireDefault(_regexSupplant);\n\nvar _validateUrlUserinfo = require('./validateUrlUserinfo');\n\nvar _validateUrlUserinfo2 = _interopRequireDefault(_validateUrlUserinfo);\n\nvar _validateUrlUnicodeHost = require('./validateUrlUnicodeHost');\n\nvar _validateUrlUnicodeHost2 = _interopRequireDefault(_validateUrlUnicodeHost);\n\nvar _validateUrlPort = require('./validateUrlPort');\n\nvar _validateUrlPort2 = _interopRequireDefault(_validateUrlPort);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nvar validateUrlUnicodeAuthority = (0, _regexSupplant2.default)(\n// $1 userinfo\n'(?:(#{validateUrlUserinfo})@)?' +\n// $2 host\n'(#{validateUrlUnicodeHost})' +\n// $3 port\n'(?::(#{validateUrlPort}))?', { validateUrlUserinfo: _validateUrlUserinfo2.default, validateUrlUnicodeHost: _validateUrlUnicodeHost2.default, validateUrlPort: _validateUrlPort2.default }, 'i');\n\nexports.default = validateUrlUnicodeAuthority;\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _regexSupplant = require('../lib/regexSupplant');\n\nvar _regexSupplant2 = _interopRequireDefault(_regexSupplant);\n\nvar _validateUrlIp = require('./validateUrlIp');\n\nvar _validateUrlIp2 = _interopRequireDefault(_validateUrlIp);\n\nvar _validateUrlUnicodeDomain = require('./validateUrlUnicodeDomain');\n\nvar _validateUrlUnicodeDomain2 = _interopRequireDefault(_validateUrlUnicodeDomain);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar validateUrlUnicodeHost = (0, _regexSupplant2.default)('(?:' + '#{validateUrlIp}|' + '#{validateUrlUnicodeDomain}' + ')', { validateUrlIp: _validateUrlIp2.default, validateUrlUnicodeDomain: _validateUrlUnicodeDomain2.default }, 'i'); // Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nexports.default = validateUrlUnicodeHost;\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _regexSupplant = require('../lib/regexSupplant');\n\nvar _regexSupplant2 = _interopRequireDefault(_regexSupplant);\n\nvar _validateUrlUnicodeSubDomainSegment = require('./validateUrlUnicodeSubDomainSegment');\n\nvar _validateUrlUnicodeSubDomainSegment2 = _interopRequireDefault(_validateUrlUnicodeSubDomainSegment);\n\nvar _validateUrlUnicodeDomainSegment = require('./validateUrlUnicodeDomainSegment');\n\nvar _validateUrlUnicodeDomainSegment2 = _interopRequireDefault(_validateUrlUnicodeDomainSegment);\n\nvar _validateUrlUnicodeDomainTld = require('./validateUrlUnicodeDomainTld');\n\nvar _validateUrlUnicodeDomainTld2 = _interopRequireDefault(_validateUrlUnicodeDomainTld);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Unencoded internationalized domains - this doesn't check for invalid UTF-8 sequences\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nvar validateUrlUnicodeDomain = (0, _regexSupplant2.default)(/(?:(?:#{validateUrlUnicodeSubDomainSegment}\\.)*(?:#{validateUrlUnicodeDomainSegment}\\.)#{validateUrlUnicodeDomainTld})/i, {\n  validateUrlUnicodeSubDomainSegment: _validateUrlUnicodeSubDomainSegment2.default,\n  validateUrlUnicodeDomainSegment: _validateUrlUnicodeDomainSegment2.default,\n  validateUrlUnicodeDomainTld: _validateUrlUnicodeDomainTld2.default\n});\n\nexports.default = validateUrlUnicodeDomain;\nmodule.exports = exports['default'];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nvar validateUrlUnicodeSubDomainSegment = /(?:(?:[a-z0-9]|[^\\u0000-\\u007f])(?:(?:[a-z0-9_\\-]|[^\\u0000-\\u007f])*(?:[a-z0-9]|[^\\u0000-\\u007f]))?)/i;\nexports.default = validateUrlUnicodeSubDomainSegment;\nmodule.exports = exports[\"default\"];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nvar validateUrlUnicodeDomainSegment = /(?:(?:[a-z0-9]|[^\\u0000-\\u007f])(?:(?:[a-z0-9\\-]|[^\\u0000-\\u007f])*(?:[a-z0-9]|[^\\u0000-\\u007f]))?)/i;\nexports.default = validateUrlUnicodeDomainSegment;\nmodule.exports = exports[\"default\"];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\n// Unencoded internationalized domains - this doesn't check for invalid UTF-8 sequences\nvar validateUrlUnicodeDomainTld = /(?:(?:[a-z]|[^\\u0000-\\u007f])(?:(?:[a-z0-9\\-]|[^\\u0000-\\u007f])*(?:[a-z0-9]|[^\\u0000-\\u007f]))?)/i;\nexports.default = validateUrlUnicodeDomainTld;\nmodule.exports = exports[\"default\"];","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction $getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return $getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = $getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  var args = [];\n  for (var i = 0; i < arguments.length; i++) args.push(arguments[i]);\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    ReflectApply(this.listener, this.target, args);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      if (typeof listener !== 'function') {\n        throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n      }\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      if (typeof listener !== 'function') {\n        throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n      }\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n","module.exports = function createStyleSheet(blocks) {\n  var style = document.createElement('style');\n  var text = Object.keys(blocks).map(function (selector) {\n    return processRuleSet(selector, blocks[selector]);\n  }).join('\\n');\n  \n  style.setAttribute('type', 'text/css');\n  style.appendChild(document.createTextNode(text));\n\n  return style;\n}\n\nfunction processRuleSet(selector, block) {\n  return selector + ' {\\n' + processDeclarationBlock(block) + '\\n}';\n}\n\nfunction processDeclarationBlock(block) {\n  return Object.keys(block).map(function (prop) {\n    return processDeclaration(prop, block[prop]);\n  }).join('\\n');\n}\n\nfunction processDeclaration(prop, value) {\n  if (!isNaN(value) && value != 0) {\n    value = value + 'px';\n  }\n\n  return hyphenate(prop) + ': ' + value + ';';\n}\n\nfunction hyphenate(prop) {\n  return prop.replace(/[A-Z]/g, function (match) {\n    return '-' + match.toLowerCase();\n  });\n}\n","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (text, options) {\n  var entities = (0, _extractEntitiesWithIndices2.default)(text, {\n    extractUrlsWithoutProtocol: false\n  });\n  return (0, _autoLinkEntities2.default)(text, entities, options);\n};\n\nvar _extractEntitiesWithIndices = require('./extractEntitiesWithIndices');\n\nvar _extractEntitiesWithIndices2 = _interopRequireDefault(_extractEntitiesWithIndices);\n\nvar _autoLinkEntities = require('./autoLinkEntities');\n\nvar _autoLinkEntities2 = _interopRequireDefault(_autoLinkEntities);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nmodule.exports = exports['default']; // Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _punycode = require('punycode');\n\nvar _punycode2 = _interopRequireDefault(_punycode);\n\nvar _validAsciiDomain = require('../regexp/validAsciiDomain');\n\nvar _validAsciiDomain2 = _interopRequireDefault(_validAsciiDomain);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nvar MAX_DOMAIN_LABEL_LENGTH = 63;\nvar PUNYCODE_ENCODED_DOMAIN_PREFIX = 'xn--';\n// This is an extremely lightweight implementation of domain name validation according to RFC 3490\n// Our regexes handle most of the cases well enough\n// See https://tools.ietf.org/html/rfc3490#section-4.1 for details\nvar idna = {\n  toAscii: function toAscii(domain) {\n    if (domain.substring(0, 4) === PUNYCODE_ENCODED_DOMAIN_PREFIX && !domain.match(_validAsciiDomain2.default)) {\n      // Punycode encoded url cannot contain non ASCII characters\n      return;\n    }\n\n    var labels = domain.split('.');\n    for (var i = 0; i < labels.length; i++) {\n      var label = labels[i];\n      var punycodeEncodedLabel = _punycode2.default.toASCII(label);\n      if (punycodeEncodedLabel.length < 1 || punycodeEncodedLabel.length > MAX_DOMAIN_LABEL_LENGTH) {\n        // DNS label has invalid length\n        return;\n      }\n    }\n    return labels.join('.');\n  }\n};\n\nexports.default = idna;\nmodule.exports = exports['default'];","/*! https://mths.be/punycode v1.4.1 by @mathias */\n;(function(root) {\n\n\t/** Detect free variables */\n\tvar freeExports = typeof exports == 'object' && exports &&\n\t\t!exports.nodeType && exports;\n\tvar freeModule = typeof module == 'object' && module &&\n\t\t!module.nodeType && module;\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (\n\t\tfreeGlobal.global === freeGlobal ||\n\t\tfreeGlobal.window === freeGlobal ||\n\t\tfreeGlobal.self === freeGlobal\n\t) {\n\t\troot = freeGlobal;\n\t}\n\n\t/**\n\t * The `punycode` object.\n\t * @name punycode\n\t * @type Object\n\t */\n\tvar punycode,\n\n\t/** Highest positive signed 32-bit float value */\n\tmaxInt = 2147483647, // aka. 0x7FFFFFFF or 2^31-1\n\n\t/** Bootstring parameters */\n\tbase = 36,\n\ttMin = 1,\n\ttMax = 26,\n\tskew = 38,\n\tdamp = 700,\n\tinitialBias = 72,\n\tinitialN = 128, // 0x80\n\tdelimiter = '-', // '\\x2D'\n\n\t/** Regular expressions */\n\tregexPunycode = /^xn--/,\n\tregexNonASCII = /[^\\x20-\\x7E]/, // unprintable ASCII chars + non-ASCII chars\n\tregexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g, // RFC 3490 separators\n\n\t/** Error messages */\n\terrors = {\n\t\t'overflow': 'Overflow: input needs wider integers to process',\n\t\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t\t'invalid-input': 'Invalid input'\n\t},\n\n\t/** Convenience shortcuts */\n\tbaseMinusTMin = base - tMin,\n\tfloor = Math.floor,\n\tstringFromCharCode = String.fromCharCode,\n\n\t/** Temporary variable */\n\tkey;\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/**\n\t * A generic error utility function.\n\t * @private\n\t * @param {String} type The error type.\n\t * @returns {Error} Throws a `RangeError` with the applicable error message.\n\t */\n\tfunction error(type) {\n\t\tthrow new RangeError(errors[type]);\n\t}\n\n\t/**\n\t * A generic `Array#map` utility function.\n\t * @private\n\t * @param {Array} array The array to iterate over.\n\t * @param {Function} callback The function that gets called for every array\n\t * item.\n\t * @returns {Array} A new array of values returned by the callback function.\n\t */\n\tfunction map(array, fn) {\n\t\tvar length = array.length;\n\t\tvar result = [];\n\t\twhile (length--) {\n\t\t\tresult[length] = fn(array[length]);\n\t\t}\n\t\treturn result;\n\t}\n\n\t/**\n\t * A simple `Array#map`-like wrapper to work with domain name strings or email\n\t * addresses.\n\t * @private\n\t * @param {String} domain The domain name or email address.\n\t * @param {Function} callback The function that gets called for every\n\t * character.\n\t * @returns {Array} A new string of characters returned by the callback\n\t * function.\n\t */\n\tfunction mapDomain(string, fn) {\n\t\tvar parts = string.split('@');\n\t\tvar result = '';\n\t\tif (parts.length > 1) {\n\t\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t\t// the local part (i.e. everything up to `@`) intact.\n\t\t\tresult = parts[0] + '@';\n\t\t\tstring = parts[1];\n\t\t}\n\t\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\t\tstring = string.replace(regexSeparators, '\\x2E');\n\t\tvar labels = string.split('.');\n\t\tvar encoded = map(labels, fn).join('.');\n\t\treturn result + encoded;\n\t}\n\n\t/**\n\t * Creates an array containing the numeric code points of each Unicode\n\t * character in the string. While JavaScript uses UCS-2 internally,\n\t * this function will convert a pair of surrogate halves (each of which\n\t * UCS-2 exposes as separate characters) into a single code point,\n\t * matching UTF-16.\n\t * @see `punycode.ucs2.encode`\n\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t * @memberOf punycode.ucs2\n\t * @name decode\n\t * @param {String} string The Unicode input string (UCS-2).\n\t * @returns {Array} The new array of code points.\n\t */\n\tfunction ucs2decode(string) {\n\t\tvar output = [],\n\t\t    counter = 0,\n\t\t    length = string.length,\n\t\t    value,\n\t\t    extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t/**\n\t * Creates a string based on an array of numeric code points.\n\t * @see `punycode.ucs2.decode`\n\t * @memberOf punycode.ucs2\n\t * @name encode\n\t * @param {Array} codePoints The array of numeric code points.\n\t * @returns {String} The new Unicode string (UCS-2).\n\t */\n\tfunction ucs2encode(array) {\n\t\treturn map(array, function(value) {\n\t\t\tvar output = '';\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t\treturn output;\n\t\t}).join('');\n\t}\n\n\t/**\n\t * Converts a basic code point into a digit/integer.\n\t * @see `digitToBasic()`\n\t * @private\n\t * @param {Number} codePoint The basic numeric code point value.\n\t * @returns {Number} The numeric value of a basic code point (for use in\n\t * representing integers) in the range `0` to `base - 1`, or `base` if\n\t * the code point does not represent a value.\n\t */\n\tfunction basicToDigit(codePoint) {\n\t\tif (codePoint - 48 < 10) {\n\t\t\treturn codePoint - 22;\n\t\t}\n\t\tif (codePoint - 65 < 26) {\n\t\t\treturn codePoint - 65;\n\t\t}\n\t\tif (codePoint - 97 < 26) {\n\t\t\treturn codePoint - 97;\n\t\t}\n\t\treturn base;\n\t}\n\n\t/**\n\t * Converts a digit/integer into a basic code point.\n\t * @see `basicToDigit()`\n\t * @private\n\t * @param {Number} digit The numeric value of a basic code point.\n\t * @returns {Number} The basic code point whose value (when used for\n\t * representing integers) is `digit`, which needs to be in the range\n\t * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n\t * used; else, the lowercase form is used. The behavior is undefined\n\t * if `flag` is non-zero and `digit` has no uppercase form.\n\t */\n\tfunction digitToBasic(digit, flag) {\n\t\t//  0..25 map to ASCII a..z or A..Z\n\t\t// 26..35 map to ASCII 0..9\n\t\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n\t}\n\n\t/**\n\t * Bias adaptation function as per section 3.4 of RFC 3492.\n\t * https://tools.ietf.org/html/rfc3492#section-3.4\n\t * @private\n\t */\n\tfunction adapt(delta, numPoints, firstTime) {\n\t\tvar k = 0;\n\t\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\t\tdelta += floor(delta / numPoints);\n\t\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\t\tdelta = floor(delta / baseMinusTMin);\n\t\t}\n\t\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n\t}\n\n\t/**\n\t * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n\t * symbols.\n\t * @memberOf punycode\n\t * @param {String} input The Punycode string of ASCII-only symbols.\n\t * @returns {String} The resulting string of Unicode symbols.\n\t */\n\tfunction decode(input) {\n\t\t// Don't use UCS-2\n\t\tvar output = [],\n\t\t    inputLength = input.length,\n\t\t    out,\n\t\t    i = 0,\n\t\t    n = initialN,\n\t\t    bias = initialBias,\n\t\t    basic,\n\t\t    j,\n\t\t    index,\n\t\t    oldi,\n\t\t    w,\n\t\t    k,\n\t\t    digit,\n\t\t    t,\n\t\t    /** Cached calculation results */\n\t\t    baseMinusT;\n\n\t\t// Handle the basic code points: let `basic` be the number of input code\n\t\t// points before the last delimiter, or `0` if there is none, then copy\n\t\t// the first basic code points to the output.\n\n\t\tbasic = input.lastIndexOf(delimiter);\n\t\tif (basic < 0) {\n\t\t\tbasic = 0;\n\t\t}\n\n\t\tfor (j = 0; j < basic; ++j) {\n\t\t\t// if it's not a basic code point\n\t\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\t\terror('not-basic');\n\t\t\t}\n\t\t\toutput.push(input.charCodeAt(j));\n\t\t}\n\n\t\t// Main decoding loop: start just after the last delimiter if any basic code\n\t\t// points were copied; start at the beginning otherwise.\n\n\t\tfor (index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\n\n\t\t\t// `index` is the index of the next character to be consumed.\n\t\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t\t// which gets added to `i`. The overflow checking is easier\n\t\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t\t// value at the end to obtain `delta`.\n\t\t\tfor (oldi = i, w = 1, k = base; /* no condition */; k += base) {\n\n\t\t\t\tif (index >= inputLength) {\n\t\t\t\t\terror('invalid-input');\n\t\t\t\t}\n\n\t\t\t\tdigit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\ti += digit * w;\n\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\n\t\t\t\tif (digit < t) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tbaseMinusT = base - t;\n\t\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tw *= baseMinusT;\n\n\t\t\t}\n\n\t\t\tout = output.length + 1;\n\t\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t\t// incrementing `n` each time, so we'll fix that now:\n\t\t\tif (floor(i / out) > maxInt - n) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tn += floor(i / out);\n\t\t\ti %= out;\n\n\t\t\t// Insert `n` at position `i` of the output\n\t\t\toutput.splice(i++, 0, n);\n\n\t\t}\n\n\t\treturn ucs2encode(output);\n\t}\n\n\t/**\n\t * Converts a string of Unicode symbols (e.g. a domain name label) to a\n\t * Punycode string of ASCII-only symbols.\n\t * @memberOf punycode\n\t * @param {String} input The string of Unicode symbols.\n\t * @returns {String} The resulting Punycode string of ASCII-only symbols.\n\t */\n\tfunction encode(input) {\n\t\tvar n,\n\t\t    delta,\n\t\t    handledCPCount,\n\t\t    basicLength,\n\t\t    bias,\n\t\t    j,\n\t\t    m,\n\t\t    q,\n\t\t    k,\n\t\t    t,\n\t\t    currentValue,\n\t\t    output = [],\n\t\t    /** `inputLength` will hold the number of code points in `input`. */\n\t\t    inputLength,\n\t\t    /** Cached calculation results */\n\t\t    handledCPCountPlusOne,\n\t\t    baseMinusT,\n\t\t    qMinusT;\n\n\t\t// Convert the input in UCS-2 to Unicode\n\t\tinput = ucs2decode(input);\n\n\t\t// Cache the length\n\t\tinputLength = input.length;\n\n\t\t// Initialize the state\n\t\tn = initialN;\n\t\tdelta = 0;\n\t\tbias = initialBias;\n\n\t\t// Handle the basic code points\n\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\tcurrentValue = input[j];\n\t\t\tif (currentValue < 0x80) {\n\t\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t\t}\n\t\t}\n\n\t\thandledCPCount = basicLength = output.length;\n\n\t\t// `handledCPCount` is the number of code points that have been handled;\n\t\t// `basicLength` is the number of basic code points.\n\n\t\t// Finish the basic string - if it is not empty - with a delimiter\n\t\tif (basicLength) {\n\t\t\toutput.push(delimiter);\n\t\t}\n\n\t\t// Main encoding loop:\n\t\twhile (handledCPCount < inputLength) {\n\n\t\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t\t// larger one:\n\t\t\tfor (m = maxInt, j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\tm = currentValue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t\t// but guard against overflow\n\t\t\thandledCPCountPlusOne = handledCPCount + 1;\n\t\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\t\tn = m;\n\n\t\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\n\t\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tif (currentValue == n) {\n\t\t\t\t\t// Represent delta as a generalized variable-length integer\n\t\t\t\t\tfor (q = delta, k = base; /* no condition */; k += base) {\n\t\t\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tqMinusT = q - t;\n\t\t\t\t\t\tbaseMinusT = base - t;\n\t\t\t\t\t\toutput.push(\n\t\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n\t\t\t\t\t\t);\n\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\tdelta = 0;\n\t\t\t\t\t++handledCPCount;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t++delta;\n\t\t\t++n;\n\n\t\t}\n\t\treturn output.join('');\n\t}\n\n\t/**\n\t * Converts a Punycode string representing a domain name or an email address\n\t * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n\t * it doesn't matter if you call it on a string that has already been\n\t * converted to Unicode.\n\t * @memberOf punycode\n\t * @param {String} input The Punycoded domain name or email address to\n\t * convert to Unicode.\n\t * @returns {String} The Unicode representation of the given Punycode\n\t * string.\n\t */\n\tfunction toUnicode(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexPunycode.test(string)\n\t\t\t\t? decode(string.slice(4).toLowerCase())\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/**\n\t * Converts a Unicode string representing a domain name or an email address to\n\t * Punycode. Only the non-ASCII parts of the domain name will be converted,\n\t * i.e. it doesn't matter if you call it with a domain that's already in\n\t * ASCII.\n\t * @memberOf punycode\n\t * @param {String} input The domain name or email address to convert, as a\n\t * Unicode string.\n\t * @returns {String} The Punycode representation of the given domain name or\n\t * email address.\n\t */\n\tfunction toASCII(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexNonASCII.test(string)\n\t\t\t\t? 'xn--' + encode(string)\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/** Define the public API */\n\tpunycode = {\n\t\t/**\n\t\t * A string representing the current Punycode.js version number.\n\t\t * @memberOf punycode\n\t\t * @type String\n\t\t */\n\t\t'version': '1.4.1',\n\t\t/**\n\t\t * An object of methods to convert from JavaScript's internal character\n\t\t * representation (UCS-2) to Unicode code points, and back.\n\t\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t\t * @memberOf punycode\n\t\t * @type Object\n\t\t */\n\t\t'ucs2': {\n\t\t\t'decode': ucs2decode,\n\t\t\t'encode': ucs2encode\n\t\t},\n\t\t'decode': decode,\n\t\t'encode': encode,\n\t\t'toASCII': toASCII,\n\t\t'toUnicode': toUnicode\n\t};\n\n\t/** Expose `punycode` */\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine('punycode', function() {\n\t\t\treturn punycode;\n\t\t});\n\t} else if (freeExports && freeModule) {\n\t\tif (module.exports == freeExports) {\n\t\t\t// in Node.js, io.js, or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = punycode;\n\t\t} else {\n\t\t\t// in Narwhal or RingoJS v0.7.0-\n\t\t\tfor (key in punycode) {\n\t\t\t\tpunycode.hasOwnProperty(key) && (freeExports[key] = punycode[key]);\n\t\t\t}\n\t\t}\n\t} else {\n\t\t// in Rhino or a web browser\n\t\troot.punycode = punycode;\n\t}\n\n}(this));\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (text, options) {\n  var entities = (0, _extractCashtagsWithIndices2.default)(text);\n  return (0, _autoLinkEntities2.default)(text, entities, options);\n};\n\nvar _autoLinkEntities = require('./autoLinkEntities');\n\nvar _autoLinkEntities2 = _interopRequireDefault(_autoLinkEntities);\n\nvar _extractCashtagsWithIndices = require('./extractCashtagsWithIndices');\n\nvar _extractCashtagsWithIndices2 = _interopRequireDefault(_extractCashtagsWithIndices);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nmodule.exports = exports['default']; // Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (text, options) {\n  var entities = (0, _extractHashtagsWithIndices2.default)(text);\n  return (0, _autoLinkEntities2.default)(text, entities, options);\n};\n\nvar _extractHashtagsWithIndices = require('./extractHashtagsWithIndices');\n\nvar _extractHashtagsWithIndices2 = _interopRequireDefault(_extractHashtagsWithIndices);\n\nvar _autoLinkEntities = require('./autoLinkEntities');\n\nvar _autoLinkEntities2 = _interopRequireDefault(_autoLinkEntities);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nmodule.exports = exports['default']; // Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (text, options) {\n  var entities = (0, _extractUrlsWithIndices2.default)(text, {\n    extractUrlsWithoutProtocol: false\n  });\n  return (0, _autoLinkEntities2.default)(text, entities, options);\n};\n\nvar _autoLinkEntities = require('./autoLinkEntities');\n\nvar _autoLinkEntities2 = _interopRequireDefault(_autoLinkEntities);\n\nvar _extractUrlsWithIndices = require('./extractUrlsWithIndices');\n\nvar _extractUrlsWithIndices2 = _interopRequireDefault(_extractUrlsWithIndices);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nmodule.exports = exports['default']; // Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (text, options) {\n  var entities = (0, _extractMentionsOrListsWithIndices2.default)(text);\n  return (0, _autoLinkEntities2.default)(text, entities, options);\n};\n\nvar _extractMentionsOrListsWithIndices = require('./extractMentionsOrListsWithIndices');\n\nvar _extractMentionsOrListsWithIndices2 = _interopRequireDefault(_extractMentionsOrListsWithIndices);\n\nvar _autoLinkEntities = require('./autoLinkEntities');\n\nvar _autoLinkEntities2 = _interopRequireDefault(_autoLinkEntities);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nmodule.exports = exports['default']; // Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (text, json, options) {\n  // map JSON entity to twitter-text entity\n  if (json.user_mentions) {\n    for (var i = 0; i < json.user_mentions.length; i++) {\n      // this is a @mention\n      json.user_mentions[i].screenName = json.user_mentions[i].screen_name;\n    }\n  }\n\n  if (json.hashtags) {\n    for (var i = 0; i < json.hashtags.length; i++) {\n      // this is a #hashtag\n      json.hashtags[i].hashtag = json.hashtags[i].text;\n    }\n  }\n\n  if (json.symbols) {\n    for (var i = 0; i < json.symbols.length; i++) {\n      // this is a $CASH tag\n      json.symbols[i].cashtag = json.symbols[i].text;\n    }\n  }\n\n  // concatenate all entities\n  var entities = [];\n  for (var key in json) {\n    entities = entities.concat(json[key]);\n  }\n\n  // modify indices to UTF-16\n  (0, _modifyIndicesFromUnicodeToUTF2.default)(text, entities);\n\n  return (0, _autoLinkEntities2.default)(text, entities, options);\n};\n\nvar _autoLinkEntities = require('./autoLinkEntities');\n\nvar _autoLinkEntities2 = _interopRequireDefault(_autoLinkEntities);\n\nvar _modifyIndicesFromUnicodeToUTF = require('./modifyIndicesFromUnicodeToUTF16');\n\nvar _modifyIndicesFromUnicodeToUTF2 = _interopRequireDefault(_modifyIndicesFromUnicodeToUTF);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nmodule.exports = exports['default']; // Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (text, entities, indicesInUTF16) {\n  if (entities.length == 0) {\n    return;\n  }\n\n  var charIndex = 0;\n  var codePointIndex = 0;\n\n  // sort entities by start index\n  entities.sort(function (a, b) {\n    return a.indices[0] - b.indices[0];\n  });\n  var entityIndex = 0;\n  var entity = entities[0];\n\n  while (charIndex < text.length) {\n    if (entity.indices[0] == (indicesInUTF16 ? charIndex : codePointIndex)) {\n      var len = entity.indices[1] - entity.indices[0];\n      entity.indices[0] = indicesInUTF16 ? codePointIndex : charIndex;\n      entity.indices[1] = entity.indices[0] + len;\n\n      entityIndex++;\n      if (entityIndex == entities.length) {\n        // no more entity\n        break;\n      }\n      entity = entities[entityIndex];\n    }\n\n    var c = text.charCodeAt(charIndex);\n    if (c >= 0xd800 && c <= 0xdbff && charIndex < text.length - 1) {\n      // Found high surrogate char\n      c = text.charCodeAt(charIndex + 1);\n      if (c >= 0xdc00 && c <= 0xdfff) {\n        // Found surrogate pair\n        charIndex++;\n      }\n    }\n    codePointIndex++;\n    charIndex++;\n  }\n};\n\nmodule.exports = exports[\"default\"]; // Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (text) {\n  var cashtagsOnly = [],\n      cashtagsWithIndices = (0, _extractCashtagsWithIndices2.default)(text);\n\n  for (var i = 0; i < cashtagsWithIndices.length; i++) {\n    cashtagsOnly.push(cashtagsWithIndices[i].cashtag);\n  }\n\n  return cashtagsOnly;\n};\n\nvar _extractCashtagsWithIndices = require('./extractCashtagsWithIndices');\n\nvar _extractCashtagsWithIndices2 = _interopRequireDefault(_extractCashtagsWithIndices);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (text) {\n  if (!text) {\n    return null;\n  }\n\n  var possibleScreenName = text.match(_validReply2.default);\n  if (!possibleScreenName || RegExp.rightContext.match(_endMentionMatch2.default)) {\n    return null;\n  }\n\n  return possibleScreenName[1];\n};\n\nvar _endMentionMatch = require('./regexp/endMentionMatch');\n\nvar _endMentionMatch2 = _interopRequireDefault(_endMentionMatch);\n\nvar _validReply = require('./regexp/validReply');\n\nvar _validReply2 = _interopRequireDefault(_validReply);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nmodule.exports = exports['default']; // Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (text, options) {\n  var urlsOnly = [];\n  var urlsWithIndices = (0, _extractUrlsWithIndices2.default)(text, options);\n\n  for (var i = 0; i < urlsWithIndices.length; i++) {\n    urlsOnly.push(urlsWithIndices[i].url);\n  }\n\n  return urlsOnly;\n};\n\nvar _extractUrlsWithIndices = require('./extractUrlsWithIndices');\n\nvar _extractUrlsWithIndices2 = _interopRequireDefault(_extractUrlsWithIndices);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.TypeName = undefined;\nexports.parse = parse;\nexports.toCodePoints = toCodePoints;\n\nvar _regex = require('./lib/regex');\n\nvar _regex2 = _interopRequireDefault(_regex);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar TypeName = exports.TypeName = 'emoji';\n// Copyright Twitter Inc. Licensed under MIT\n// https://github.com/twitter/twemoji-parser/blob/master/LICENSE.md\nfunction parse(text, options) {\n  var assetType = options && options.assetType ? options.assetType : 'svg';\n  var getTwemojiUrl = options && options.buildUrl ? options.buildUrl : function (codepoints, assetType) {\n    return assetType === 'png' ? 'https://twemoji.maxcdn.com/2/72x72/' + codepoints + '.png' : 'https://twemoji.maxcdn.com/2/svg/' + codepoints + '.svg';\n  };\n\n  var entities = [];\n\n  _regex2.default.lastIndex = 0;\n  while (true) {\n    var result = _regex2.default.exec(text);\n    if (!result) {\n      break;\n    }\n\n    var emojiText = result[0];\n    var codepoints = toCodePoints(removeVS16s(emojiText)).join('-');\n\n    entities.push({\n      url: codepoints ? getTwemojiUrl(codepoints, assetType) : '',\n      indices: [result.index, _regex2.default.lastIndex],\n      text: emojiText,\n      type: TypeName\n    });\n  }\n  return entities;\n}\n\nvar vs16RegExp = /\\uFE0F/g;\n// avoid using a string literal like '\\u200D' here because minifiers expand it inline\nvar zeroWidthJoiner = String.fromCharCode(0x200d);\n\nvar removeVS16s = function removeVS16s(rawEmoji) {\n  return rawEmoji.indexOf(zeroWidthJoiner) < 0 ? rawEmoji.replace(vs16RegExp, '') : rawEmoji;\n};\n\nfunction toCodePoints(unicodeSurrogates) {\n  var points = [];\n  var char = 0;\n  var previous = 0;\n  var i = 0;\n  while (i < unicodeSurrogates.length) {\n    char = unicodeSurrogates.charCodeAt(i++);\n    if (previous) {\n      points.push((0x10000 + (previous - 0xd800 << 10) + (char - 0xdc00)).toString(16));\n      previous = 0;\n    } else if (char > 0xd800 && char <= 0xdbff) {\n      previous = char;\n    } else {\n      points.push(char.toString(16));\n    }\n  }\n  return points;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n// Copyright Twitter Inc. Licensed under MIT\n// https://github.com/twitter/twemoji-parser/blob/master/LICENSE.md\n\n// This file is auto-generated\nexports.default = /(?:\\ud83d[\\udc68\\udc69])(?:\\ud83c[\\udffb-\\udfff])?\\u200d(?:\\u2695\\ufe0f|\\u2696\\ufe0f|\\u2708\\ufe0f|\\ud83c[\\udf3e\\udf73\\udf93\\udfa4\\udfa8\\udfeb\\udfed]|\\ud83d[\\udcbb\\udcbc\\udd27\\udd2c\\ude80\\ude92]|\\ud83e[\\uddb0-\\uddb3])|(?:\\ud83c[\\udfcb\\udfcc]|\\ud83d[\\udd74\\udd75]|\\u26f9)((?:\\ud83c[\\udffb-\\udfff]|\\ufe0f)\\u200d[\\u2640\\u2642]\\ufe0f)|(?:\\ud83c[\\udfc3\\udfc4\\udfca]|\\ud83d[\\udc6e\\udc71\\udc73\\udc77\\udc81\\udc82\\udc86\\udc87\\ude45-\\ude47\\ude4b\\ude4d\\ude4e\\udea3\\udeb4-\\udeb6]|\\ud83e[\\udd26\\udd35\\udd37-\\udd39\\udd3d\\udd3e\\uddb8\\uddb9\\uddd6-\\udddd])(?:\\ud83c[\\udffb-\\udfff])?\\u200d[\\u2640\\u2642]\\ufe0f|(?:\\ud83d\\udc68\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc8b\\u200d\\ud83d\\udc68|\\ud83d\\udc68\\u200d\\ud83d\\udc68\\u200d\\ud83d\\udc66\\u200d\\ud83d\\udc66|\\ud83d\\udc68\\u200d\\ud83d\\udc68\\u200d\\ud83d\\udc67\\u200d\\ud83d[\\udc66\\udc67]|\\ud83d\\udc68\\u200d\\ud83d\\udc69\\u200d\\ud83d\\udc66\\u200d\\ud83d\\udc66|\\ud83d\\udc68\\u200d\\ud83d\\udc69\\u200d\\ud83d\\udc67\\u200d\\ud83d[\\udc66\\udc67]|\\ud83d\\udc69\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc8b\\u200d\\ud83d[\\udc68\\udc69]|\\ud83d\\udc69\\u200d\\ud83d\\udc69\\u200d\\ud83d\\udc66\\u200d\\ud83d\\udc66|\\ud83d\\udc69\\u200d\\ud83d\\udc69\\u200d\\ud83d\\udc67\\u200d\\ud83d[\\udc66\\udc67]|\\ud83d\\udc68\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc68|\\ud83d\\udc68\\u200d\\ud83d\\udc66\\u200d\\ud83d\\udc66|\\ud83d\\udc68\\u200d\\ud83d\\udc67\\u200d\\ud83d[\\udc66\\udc67]|\\ud83d\\udc68\\u200d\\ud83d\\udc68\\u200d\\ud83d[\\udc66\\udc67]|\\ud83d\\udc68\\u200d\\ud83d\\udc69\\u200d\\ud83d[\\udc66\\udc67]|\\ud83d\\udc69\\u200d\\u2764\\ufe0f\\u200d\\ud83d[\\udc68\\udc69]|\\ud83d\\udc69\\u200d\\ud83d\\udc66\\u200d\\ud83d\\udc66|\\ud83d\\udc69\\u200d\\ud83d\\udc67\\u200d\\ud83d[\\udc66\\udc67]|\\ud83d\\udc69\\u200d\\ud83d\\udc69\\u200d\\ud83d[\\udc66\\udc67]|\\ud83c\\udff3\\ufe0f\\u200d\\ud83c\\udf08|\\ud83c\\udff4\\u200d\\u2620\\ufe0f|\\ud83d\\udc41\\u200d\\ud83d\\udde8|\\ud83d\\udc68\\u200d\\ud83d[\\udc66\\udc67]|\\ud83d\\udc69\\u200d\\ud83d[\\udc66\\udc67]|\\ud83d\\udc6f\\u200d\\u2640\\ufe0f|\\ud83d\\udc6f\\u200d\\u2642\\ufe0f|\\ud83e\\udd3c\\u200d\\u2640\\ufe0f|\\ud83e\\udd3c\\u200d\\u2642\\ufe0f|\\ud83e\\uddde\\u200d\\u2640\\ufe0f|\\ud83e\\uddde\\u200d\\u2642\\ufe0f|\\ud83e\\udddf\\u200d\\u2640\\ufe0f|\\ud83e\\udddf\\u200d\\u2642\\ufe0f)|[#*0-9]\\ufe0f?\\u20e3|(?:[©®\\u2122\\u265f]\\ufe0f)|(?:\\ud83c[\\udc04\\udd70\\udd71\\udd7e\\udd7f\\ude02\\ude1a\\ude2f\\ude37\\udf21\\udf24-\\udf2c\\udf36\\udf7d\\udf96\\udf97\\udf99-\\udf9b\\udf9e\\udf9f\\udfcd\\udfce\\udfd4-\\udfdf\\udff3\\udff5\\udff7]|\\ud83d[\\udc3f\\udc41\\udcfd\\udd49\\udd4a\\udd6f\\udd70\\udd73\\udd76-\\udd79\\udd87\\udd8a-\\udd8d\\udda5\\udda8\\uddb1\\uddb2\\uddbc\\uddc2-\\uddc4\\uddd1-\\uddd3\\udddc-\\uddde\\udde1\\udde3\\udde8\\uddef\\uddf3\\uddfa\\udecb\\udecd-\\udecf\\udee0-\\udee5\\udee9\\udef0\\udef3]|[\\u203c\\u2049\\u2139\\u2194-\\u2199\\u21a9\\u21aa\\u231a\\u231b\\u2328\\u23cf\\u23ed-\\u23ef\\u23f1\\u23f2\\u23f8-\\u23fa\\u24c2\\u25aa\\u25ab\\u25b6\\u25c0\\u25fb-\\u25fe\\u2600-\\u2604\\u260e\\u2611\\u2614\\u2615\\u2618\\u2620\\u2622\\u2623\\u2626\\u262a\\u262e\\u262f\\u2638-\\u263a\\u2640\\u2642\\u2648-\\u2653\\u2660\\u2663\\u2665\\u2666\\u2668\\u267b\\u267f\\u2692-\\u2697\\u2699\\u269b\\u269c\\u26a0\\u26a1\\u26aa\\u26ab\\u26b0\\u26b1\\u26bd\\u26be\\u26c4\\u26c5\\u26c8\\u26cf\\u26d1\\u26d3\\u26d4\\u26e9\\u26ea\\u26f0-\\u26f5\\u26f8\\u26fa\\u26fd\\u2702\\u2708\\u2709\\u270f\\u2712\\u2714\\u2716\\u271d\\u2721\\u2733\\u2734\\u2744\\u2747\\u2757\\u2763\\u2764\\u27a1\\u2934\\u2935\\u2b05-\\u2b07\\u2b1b\\u2b1c\\u2b50\\u2b55\\u3030\\u303d\\u3297\\u3299])(?:\\ufe0f|(?!\\ufe0e))|(?:(?:\\ud83c[\\udfcb\\udfcc]|\\ud83d[\\udd74\\udd75\\udd90]|[\\u261d\\u26f7\\u26f9\\u270c\\u270d])(?:\\ufe0f|(?!\\ufe0e))|(?:\\ud83c[\\udf85\\udfc2-\\udfc4\\udfc7\\udfca]|\\ud83d[\\udc42\\udc43\\udc46-\\udc50\\udc66-\\udc69\\udc6e\\udc70-\\udc78\\udc7c\\udc81-\\udc83\\udc85-\\udc87\\udcaa\\udd7a\\udd95\\udd96\\ude45-\\ude47\\ude4b-\\ude4f\\udea3\\udeb4-\\udeb6\\udec0\\udecc]|\\ud83e[\\udd18-\\udd1c\\udd1e\\udd1f\\udd26\\udd30-\\udd39\\udd3d\\udd3e\\uddb5\\uddb6\\uddb8\\uddb9\\uddd1-\\udddd]|[\\u270a\\u270b]))(?:\\ud83c[\\udffb-\\udfff])?|(?:\\ud83c\\udff4\\udb40\\udc67\\udb40\\udc62\\udb40\\udc65\\udb40\\udc6e\\udb40\\udc67\\udb40\\udc7f|\\ud83c\\udff4\\udb40\\udc67\\udb40\\udc62\\udb40\\udc73\\udb40\\udc63\\udb40\\udc74\\udb40\\udc7f|\\ud83c\\udff4\\udb40\\udc67\\udb40\\udc62\\udb40\\udc77\\udb40\\udc6c\\udb40\\udc73\\udb40\\udc7f|\\ud83c\\udde6\\ud83c[\\udde8-\\uddec\\uddee\\uddf1\\uddf2\\uddf4\\uddf6-\\uddfa\\uddfc\\uddfd\\uddff]|\\ud83c\\udde7\\ud83c[\\udde6\\udde7\\udde9-\\uddef\\uddf1-\\uddf4\\uddf6-\\uddf9\\uddfb\\uddfc\\uddfe\\uddff]|\\ud83c\\udde8\\ud83c[\\udde6\\udde8\\udde9\\uddeb-\\uddee\\uddf0-\\uddf5\\uddf7\\uddfa-\\uddff]|\\ud83c\\udde9\\ud83c[\\uddea\\uddec\\uddef\\uddf0\\uddf2\\uddf4\\uddff]|\\ud83c\\uddea\\ud83c[\\udde6\\udde8\\uddea\\uddec\\udded\\uddf7-\\uddfa]|\\ud83c\\uddeb\\ud83c[\\uddee-\\uddf0\\uddf2\\uddf4\\uddf7]|\\ud83c\\uddec\\ud83c[\\udde6\\udde7\\udde9-\\uddee\\uddf1-\\uddf3\\uddf5-\\uddfa\\uddfc\\uddfe]|\\ud83c\\udded\\ud83c[\\uddf0\\uddf2\\uddf3\\uddf7\\uddf9\\uddfa]|\\ud83c\\uddee\\ud83c[\\udde8-\\uddea\\uddf1-\\uddf4\\uddf6-\\uddf9]|\\ud83c\\uddef\\ud83c[\\uddea\\uddf2\\uddf4\\uddf5]|\\ud83c\\uddf0\\ud83c[\\uddea\\uddec-\\uddee\\uddf2\\uddf3\\uddf5\\uddf7\\uddfc\\uddfe\\uddff]|\\ud83c\\uddf1\\ud83c[\\udde6-\\udde8\\uddee\\uddf0\\uddf7-\\uddfb\\uddfe]|\\ud83c\\uddf2\\ud83c[\\udde6\\udde8-\\udded\\uddf0-\\uddff]|\\ud83c\\uddf3\\ud83c[\\udde6\\udde8\\uddea-\\uddec\\uddee\\uddf1\\uddf4\\uddf5\\uddf7\\uddfa\\uddff]|\\ud83c\\uddf4\\ud83c\\uddf2|\\ud83c\\uddf5\\ud83c[\\udde6\\uddea-\\udded\\uddf0-\\uddf3\\uddf7-\\uddf9\\uddfc\\uddfe]|\\ud83c\\uddf6\\ud83c\\udde6|\\ud83c\\uddf7\\ud83c[\\uddea\\uddf4\\uddf8\\uddfa\\uddfc]|\\ud83c\\uddf8\\ud83c[\\udde6-\\uddea\\uddec-\\uddf4\\uddf7-\\uddf9\\uddfb\\uddfd-\\uddff]|\\ud83c\\uddf9\\ud83c[\\udde6\\udde8\\udde9\\uddeb-\\udded\\uddef-\\uddf4\\uddf7\\uddf9\\uddfb\\uddfc\\uddff]|\\ud83c\\uddfa\\ud83c[\\udde6\\uddec\\uddf2\\uddf3\\uddf8\\uddfe\\uddff]|\\ud83c\\uddfb\\ud83c[\\udde6\\udde8\\uddea\\uddec\\uddee\\uddf3\\uddfa]|\\ud83c\\uddfc\\ud83c[\\uddeb\\uddf8]|\\ud83c\\uddfd\\ud83c\\uddf0|\\ud83c\\uddfe\\ud83c[\\uddea\\uddf9]|\\ud83c\\uddff\\ud83c[\\udde6\\uddf2\\uddfc]|\\ud83c[\\udccf\\udd8e\\udd91-\\udd9a\\udde6-\\uddff\\ude01\\ude32-\\ude36\\ude38-\\ude3a\\ude50\\ude51\\udf00-\\udf20\\udf2d-\\udf35\\udf37-\\udf7c\\udf7e-\\udf84\\udf86-\\udf93\\udfa0-\\udfc1\\udfc5\\udfc6\\udfc8\\udfc9\\udfcf-\\udfd3\\udfe0-\\udff0\\udff4\\udff8-\\udfff]|\\ud83d[\\udc00-\\udc3e\\udc40\\udc44\\udc45\\udc51-\\udc65\\udc6a-\\udc6d\\udc6f\\udc79-\\udc7b\\udc7d-\\udc80\\udc84\\udc88-\\udca9\\udcab-\\udcfc\\udcff-\\udd3d\\udd4b-\\udd4e\\udd50-\\udd67\\udda4\\uddfb-\\ude44\\ude48-\\ude4a\\ude80-\\udea2\\udea4-\\udeb3\\udeb7-\\udebf\\udec1-\\udec5\\uded0-\\uded2\\udeeb\\udeec\\udef4-\\udef9]|\\ud83e[\\udd10-\\udd17\\udd1d\\udd20-\\udd25\\udd27-\\udd2f\\udd3a\\udd3c\\udd40-\\udd45\\udd47-\\udd70\\udd73-\\udd76\\udd7a\\udd7c-\\udda2\\uddb4\\uddb7\\uddc0-\\uddc2\\uddd0\\uddde-\\uddff]|[\\u23e9-\\u23ec\\u23f0\\u23f3\\u267e\\u26ce\\u2705\\u2728\\u274c\\u274e\\u2753-\\u2755\\u2795-\\u2797\\u27b0\\u27bf\\ue50a])|\\ufe0f/g;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (text) {\n  return text.replace(_nonBmpCodePairs2.default, ' ').length;\n};\n\nvar _nonBmpCodePairs = require('./regexp/nonBmpCodePairs');\n\nvar _nonBmpCodePairs2 = _interopRequireDefault(_nonBmpCodePairs);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\n/**\n * Copied from https://github.com/twitter/twitter-text/blob/master/js/twitter-text.js\n */\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (text, hits, options) {\n  var defaultHighlightTag = 'em';\n\n  hits = hits || [];\n  options = options || {};\n\n  if (hits.length === 0) {\n    return text;\n  }\n\n  var tagName = options.tag || defaultHighlightTag,\n      tags = ['<' + tagName + '>', '</' + tagName + '>'],\n      chunks = (0, _splitTags2.default)(text),\n      i = void 0,\n      j = void 0,\n      result = '',\n      chunkIndex = 0,\n      chunk = chunks[0],\n      prevChunksLen = 0,\n      chunkCursor = 0,\n      startInChunk = false,\n      chunkChars = chunk,\n      flatHits = [],\n      index = void 0,\n      hit = void 0,\n      tag = void 0,\n      placed = void 0,\n      hitSpot = void 0;\n\n  for (i = 0; i < hits.length; i += 1) {\n    for (j = 0; j < hits[i].length; j += 1) {\n      flatHits.push(hits[i][j]);\n    }\n  }\n\n  for (index = 0; index < flatHits.length; index += 1) {\n    hit = flatHits[index];\n    tag = tags[index % 2];\n    placed = false;\n\n    while (chunk != null && hit >= prevChunksLen + chunk.length) {\n      result += chunkChars.slice(chunkCursor);\n      if (startInChunk && hit === prevChunksLen + chunkChars.length) {\n        result += tag;\n        placed = true;\n      }\n\n      if (chunks[chunkIndex + 1]) {\n        result += '<' + chunks[chunkIndex + 1] + '>';\n      }\n\n      prevChunksLen += chunkChars.length;\n      chunkCursor = 0;\n      chunkIndex += 2;\n      chunk = chunks[chunkIndex];\n      chunkChars = chunk;\n      startInChunk = false;\n    }\n\n    if (!placed && chunk != null) {\n      hitSpot = hit - prevChunksLen;\n      result += chunkChars.slice(chunkCursor, hitSpot) + tag;\n      chunkCursor = hitSpot;\n      if (index % 2 === 0) {\n        startInChunk = true;\n      } else {\n        startInChunk = false;\n      }\n    } else if (!placed) {\n      placed = true;\n      result += tag;\n    }\n  }\n\n  if (chunk != null) {\n    if (chunkCursor < chunkChars.length) {\n      result += chunkChars.slice(chunkCursor);\n    }\n    for (index = chunkIndex + 1; index < chunks.length; index += 1) {\n      result += index % 2 === 0 ? chunks[index] : '<' + chunks[index] + '>';\n    }\n  }\n\n  return result;\n};\n\nvar _splitTags = require('./splitTags');\n\nvar _splitTags2 = _interopRequireDefault(_splitTags);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (hashtag) {\n  if (!hashtag) {\n    return false;\n  }\n\n  var extracted = (0, _extractHashtags2.default)(hashtag);\n\n  // Should extract the hashtag minus the # sign, hence the .slice(1)\n  return extracted.length === 1 && extracted[0] === hashtag.slice(1);\n};\n\nvar _extractHashtags = require('./extractHashtags');\n\nvar _extractHashtags2 = _interopRequireDefault(_extractHashtags);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (usernameList) {\n  var match = usernameList.match(VALID_LIST_RE);\n\n  // Must have matched and had nothing before or after\n  return !!(match && match[1] == '' && match[4]);\n};\n\nvar _regexSupplant = require('./lib/regexSupplant');\n\nvar _regexSupplant2 = _interopRequireDefault(_regexSupplant);\n\nvar _validMentionOrList = require('./regexp/validMentionOrList');\n\nvar _validMentionOrList2 = _interopRequireDefault(_validMentionOrList);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nvar VALID_LIST_RE = (0, _regexSupplant2.default)(/^#{validMentionOrList}$/, {\n  validMentionOrList: _validMentionOrList2.default\n});\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (text, options) {\n  return !(0, _isInvalidTweet2.default)(text, options);\n};\n\nvar _isInvalidTweet = require('./isInvalidTweet');\n\nvar _isInvalidTweet2 = _interopRequireDefault(_isInvalidTweet);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (url, unicodeDomains, requireProtocol) {\n  if (unicodeDomains == null) {\n    unicodeDomains = true;\n  }\n\n  if (requireProtocol == null) {\n    requireProtocol = true;\n  }\n\n  if (!url) {\n    return false;\n  }\n\n  var urlParts = url.match(_validateUrlUnencoded2.default);\n\n  if (!urlParts || urlParts[0] !== url) {\n    return false;\n  }\n\n  var scheme = urlParts[1],\n      authority = urlParts[2],\n      path = urlParts[3],\n      query = urlParts[4],\n      fragment = urlParts[5];\n\n  if (!((!requireProtocol || isValidMatch(scheme, _validateUrlScheme2.default) && scheme.match(/^https?$/i)) && isValidMatch(path, _validateUrlPath2.default) && isValidMatch(query, _validateUrlQuery2.default, true) && isValidMatch(fragment, _validateUrlFragment2.default, true))) {\n    return false;\n  }\n\n  return unicodeDomains && isValidMatch(authority, _validateUrlUnicodeAuthority2.default) || !unicodeDomains && isValidMatch(authority, _validateUrlAuthority2.default);\n};\n\nvar _validateUrlAuthority = require('./regexp/validateUrlAuthority');\n\nvar _validateUrlAuthority2 = _interopRequireDefault(_validateUrlAuthority);\n\nvar _validateUrlFragment = require('./regexp/validateUrlFragment');\n\nvar _validateUrlFragment2 = _interopRequireDefault(_validateUrlFragment);\n\nvar _validateUrlPath = require('./regexp/validateUrlPath');\n\nvar _validateUrlPath2 = _interopRequireDefault(_validateUrlPath);\n\nvar _validateUrlQuery = require('./regexp/validateUrlQuery');\n\nvar _validateUrlQuery2 = _interopRequireDefault(_validateUrlQuery);\n\nvar _validateUrlScheme = require('./regexp/validateUrlScheme');\n\nvar _validateUrlScheme2 = _interopRequireDefault(_validateUrlScheme);\n\nvar _validateUrlUnencoded = require('./regexp/validateUrlUnencoded');\n\nvar _validateUrlUnencoded2 = _interopRequireDefault(_validateUrlUnencoded);\n\nvar _validateUrlUnicodeAuthority = require('./regexp/validateUrlUnicodeAuthority');\n\nvar _validateUrlUnicodeAuthority2 = _interopRequireDefault(_validateUrlUnicodeAuthority);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction isValidMatch(string, regex, optional) {\n  if (!optional) {\n    // RegExp[\"$&\"] is the text of the last match\n    // blank strings are ok, but are falsy, so we check stringiness instead of truthiness\n    return typeof string === 'string' && string.match(regex) && RegExp['$&'] === string;\n  }\n\n  // RegExp[\"$&\"] is the text of the last match\n  return !string || string.match(regex) && RegExp['$&'] === string;\n} // Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (username) {\n  if (!username) {\n    return false;\n  }\n\n  var extracted = (0, _extractMentions2.default)(username);\n\n  // Should extract the username minus the @ sign, hence the .slice(1)\n  return extracted.length === 1 && extracted[0] === username.slice(1);\n};\n\nvar _extractMentions = require('./extractMentions');\n\nvar _extractMentions2 = _interopRequireDefault(_extractMentions);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _astralLetterAndMarks = require('./astralLetterAndMarks');\n\nvar _astralLetterAndMarks2 = _interopRequireDefault(_astralLetterAndMarks);\n\nvar _astralNumerals = require('./astralNumerals');\n\nvar _astralNumerals2 = _interopRequireDefault(_astralNumerals);\n\nvar _atSigns = require('./atSigns');\n\nvar _atSigns2 = _interopRequireDefault(_atSigns);\n\nvar _bmpLetterAndMarks = require('./bmpLetterAndMarks');\n\nvar _bmpLetterAndMarks2 = _interopRequireDefault(_bmpLetterAndMarks);\n\nvar _bmpNumerals = require('./bmpNumerals');\n\nvar _bmpNumerals2 = _interopRequireDefault(_bmpNumerals);\n\nvar _cashtag = require('./cashtag');\n\nvar _cashtag2 = _interopRequireDefault(_cashtag);\n\nvar _codePoint = require('./codePoint');\n\nvar _codePoint2 = _interopRequireDefault(_codePoint);\n\nvar _cyrillicLettersAndMarks = require('./cyrillicLettersAndMarks');\n\nvar _cyrillicLettersAndMarks2 = _interopRequireDefault(_cyrillicLettersAndMarks);\n\nvar _endHashtagMatch = require('./endHashtagMatch');\n\nvar _endHashtagMatch2 = _interopRequireDefault(_endHashtagMatch);\n\nvar _endMentionMatch = require('./endMentionMatch');\n\nvar _endMentionMatch2 = _interopRequireDefault(_endMentionMatch);\n\nvar _extractUrl = require('./extractUrl');\n\nvar _extractUrl2 = _interopRequireDefault(_extractUrl);\n\nvar _hashSigns = require('./hashSigns');\n\nvar _hashSigns2 = _interopRequireDefault(_hashSigns);\n\nvar _hashtagAlpha = require('./hashtagAlpha');\n\nvar _hashtagAlpha2 = _interopRequireDefault(_hashtagAlpha);\n\nvar _hashtagAlphaNumeric = require('./hashtagAlphaNumeric');\n\nvar _hashtagAlphaNumeric2 = _interopRequireDefault(_hashtagAlphaNumeric);\n\nvar _hashtagBoundary = require('./hashtagBoundary');\n\nvar _hashtagBoundary2 = _interopRequireDefault(_hashtagBoundary);\n\nvar _hashtagSpecialChars = require('./hashtagSpecialChars');\n\nvar _hashtagSpecialChars2 = _interopRequireDefault(_hashtagSpecialChars);\n\nvar _invalidChars = require('./invalidChars');\n\nvar _invalidChars2 = _interopRequireDefault(_invalidChars);\n\nvar _invalidCharsGroup = require('./invalidCharsGroup');\n\nvar _invalidCharsGroup2 = _interopRequireDefault(_invalidCharsGroup);\n\nvar _invalidDomainChars = require('./invalidDomainChars');\n\nvar _invalidDomainChars2 = _interopRequireDefault(_invalidDomainChars);\n\nvar _invalidUrlWithoutProtocolPrecedingChars = require('./invalidUrlWithoutProtocolPrecedingChars');\n\nvar _invalidUrlWithoutProtocolPrecedingChars2 = _interopRequireDefault(_invalidUrlWithoutProtocolPrecedingChars);\n\nvar _latinAccentChars = require('./latinAccentChars');\n\nvar _latinAccentChars2 = _interopRequireDefault(_latinAccentChars);\n\nvar _nonBmpCodePairs = require('./nonBmpCodePairs');\n\nvar _nonBmpCodePairs2 = _interopRequireDefault(_nonBmpCodePairs);\n\nvar _punct = require('./punct');\n\nvar _punct2 = _interopRequireDefault(_punct);\n\nvar _rtlChars = require('./rtlChars');\n\nvar _rtlChars2 = _interopRequireDefault(_rtlChars);\n\nvar _spaces = require('./spaces');\n\nvar _spaces2 = _interopRequireDefault(_spaces);\n\nvar _spacesGroup = require('./spacesGroup');\n\nvar _spacesGroup2 = _interopRequireDefault(_spacesGroup);\n\nvar _urlHasHttps = require('./urlHasHttps');\n\nvar _urlHasHttps2 = _interopRequireDefault(_urlHasHttps);\n\nvar _urlHasProtocol = require('./urlHasProtocol');\n\nvar _urlHasProtocol2 = _interopRequireDefault(_urlHasProtocol);\n\nvar _validAsciiDomain = require('./validAsciiDomain');\n\nvar _validAsciiDomain2 = _interopRequireDefault(_validAsciiDomain);\n\nvar _validateUrlAuthority = require('./validateUrlAuthority');\n\nvar _validateUrlAuthority2 = _interopRequireDefault(_validateUrlAuthority);\n\nvar _validateUrlDecOctet = require('./validateUrlDecOctet');\n\nvar _validateUrlDecOctet2 = _interopRequireDefault(_validateUrlDecOctet);\n\nvar _validateUrlDomain = require('./validateUrlDomain');\n\nvar _validateUrlDomain2 = _interopRequireDefault(_validateUrlDomain);\n\nvar _validateUrlDomainSegment = require('./validateUrlDomainSegment');\n\nvar _validateUrlDomainSegment2 = _interopRequireDefault(_validateUrlDomainSegment);\n\nvar _validateUrlDomainTld = require('./validateUrlDomainTld');\n\nvar _validateUrlDomainTld2 = _interopRequireDefault(_validateUrlDomainTld);\n\nvar _validateUrlFragment = require('./validateUrlFragment');\n\nvar _validateUrlFragment2 = _interopRequireDefault(_validateUrlFragment);\n\nvar _validateUrlHost = require('./validateUrlHost');\n\nvar _validateUrlHost2 = _interopRequireDefault(_validateUrlHost);\n\nvar _validateUrlIp = require('./validateUrlIp');\n\nvar _validateUrlIp2 = _interopRequireDefault(_validateUrlIp);\n\nvar _validateUrlIpv = require('./validateUrlIpv4');\n\nvar _validateUrlIpv2 = _interopRequireDefault(_validateUrlIpv);\n\nvar _validateUrlIpv3 = require('./validateUrlIpv6');\n\nvar _validateUrlIpv4 = _interopRequireDefault(_validateUrlIpv3);\n\nvar _validateUrlPath = require('./validateUrlPath');\n\nvar _validateUrlPath2 = _interopRequireDefault(_validateUrlPath);\n\nvar _validateUrlPchar = require('./validateUrlPchar');\n\nvar _validateUrlPchar2 = _interopRequireDefault(_validateUrlPchar);\n\nvar _validateUrlPctEncoded = require('./validateUrlPctEncoded');\n\nvar _validateUrlPctEncoded2 = _interopRequireDefault(_validateUrlPctEncoded);\n\nvar _validateUrlPort = require('./validateUrlPort');\n\nvar _validateUrlPort2 = _interopRequireDefault(_validateUrlPort);\n\nvar _validateUrlQuery = require('./validateUrlQuery');\n\nvar _validateUrlQuery2 = _interopRequireDefault(_validateUrlQuery);\n\nvar _validateUrlScheme = require('./validateUrlScheme');\n\nvar _validateUrlScheme2 = _interopRequireDefault(_validateUrlScheme);\n\nvar _validateUrlSubDelims = require('./validateUrlSubDelims');\n\nvar _validateUrlSubDelims2 = _interopRequireDefault(_validateUrlSubDelims);\n\nvar _validateUrlSubDomainSegment = require('./validateUrlSubDomainSegment');\n\nvar _validateUrlSubDomainSegment2 = _interopRequireDefault(_validateUrlSubDomainSegment);\n\nvar _validateUrlUnencoded = require('./validateUrlUnencoded');\n\nvar _validateUrlUnencoded2 = _interopRequireDefault(_validateUrlUnencoded);\n\nvar _validateUrlUnicodeAuthority = require('./validateUrlUnicodeAuthority');\n\nvar _validateUrlUnicodeAuthority2 = _interopRequireDefault(_validateUrlUnicodeAuthority);\n\nvar _validateUrlUnicodeDomain = require('./validateUrlUnicodeDomain');\n\nvar _validateUrlUnicodeDomain2 = _interopRequireDefault(_validateUrlUnicodeDomain);\n\nvar _validateUrlUnicodeDomainSegment = require('./validateUrlUnicodeDomainSegment');\n\nvar _validateUrlUnicodeDomainSegment2 = _interopRequireDefault(_validateUrlUnicodeDomainSegment);\n\nvar _validateUrlUnicodeDomainTld = require('./validateUrlUnicodeDomainTld');\n\nvar _validateUrlUnicodeDomainTld2 = _interopRequireDefault(_validateUrlUnicodeDomainTld);\n\nvar _validateUrlUnicodeHost = require('./validateUrlUnicodeHost');\n\nvar _validateUrlUnicodeHost2 = _interopRequireDefault(_validateUrlUnicodeHost);\n\nvar _validateUrlUnicodeSubDomainSegment = require('./validateUrlUnicodeSubDomainSegment');\n\nvar _validateUrlUnicodeSubDomainSegment2 = _interopRequireDefault(_validateUrlUnicodeSubDomainSegment);\n\nvar _validateUrlUnreserved = require('./validateUrlUnreserved');\n\nvar _validateUrlUnreserved2 = _interopRequireDefault(_validateUrlUnreserved);\n\nvar _validateUrlUserinfo = require('./validateUrlUserinfo');\n\nvar _validateUrlUserinfo2 = _interopRequireDefault(_validateUrlUserinfo);\n\nvar _validCashtag = require('./validCashtag');\n\nvar _validCashtag2 = _interopRequireDefault(_validCashtag);\n\nvar _validCCTLD = require('./validCCTLD');\n\nvar _validCCTLD2 = _interopRequireDefault(_validCCTLD);\n\nvar _validDomain = require('./validDomain');\n\nvar _validDomain2 = _interopRequireDefault(_validDomain);\n\nvar _validDomainChars = require('./validDomainChars');\n\nvar _validDomainChars2 = _interopRequireDefault(_validDomainChars);\n\nvar _validDomainName = require('./validDomainName');\n\nvar _validDomainName2 = _interopRequireDefault(_validDomainName);\n\nvar _validGeneralUrlPathChars = require('./validGeneralUrlPathChars');\n\nvar _validGeneralUrlPathChars2 = _interopRequireDefault(_validGeneralUrlPathChars);\n\nvar _validGTLD = require('./validGTLD');\n\nvar _validGTLD2 = _interopRequireDefault(_validGTLD);\n\nvar _validHashtag = require('./validHashtag');\n\nvar _validHashtag2 = _interopRequireDefault(_validHashtag);\n\nvar _validMentionOrList = require('./validMentionOrList');\n\nvar _validMentionOrList2 = _interopRequireDefault(_validMentionOrList);\n\nvar _validMentionPrecedingChars = require('./validMentionPrecedingChars');\n\nvar _validMentionPrecedingChars2 = _interopRequireDefault(_validMentionPrecedingChars);\n\nvar _validPortNumber = require('./validPortNumber');\n\nvar _validPortNumber2 = _interopRequireDefault(_validPortNumber);\n\nvar _validPunycode = require('./validPunycode');\n\nvar _validPunycode2 = _interopRequireDefault(_validPunycode);\n\nvar _validReply = require('./validReply');\n\nvar _validReply2 = _interopRequireDefault(_validReply);\n\nvar _validSubdomain = require('./validSubdomain');\n\nvar _validSubdomain2 = _interopRequireDefault(_validSubdomain);\n\nvar _validTcoUrl = require('./validTcoUrl');\n\nvar _validTcoUrl2 = _interopRequireDefault(_validTcoUrl);\n\nvar _validUrlBalancedParens = require('./validUrlBalancedParens');\n\nvar _validUrlBalancedParens2 = _interopRequireDefault(_validUrlBalancedParens);\n\nvar _validUrlPath = require('./validUrlPath');\n\nvar _validUrlPath2 = _interopRequireDefault(_validUrlPath);\n\nvar _validUrlPathEndingChars = require('./validUrlPathEndingChars');\n\nvar _validUrlPathEndingChars2 = _interopRequireDefault(_validUrlPathEndingChars);\n\nvar _validUrlPrecedingChars = require('./validUrlPrecedingChars');\n\nvar _validUrlPrecedingChars2 = _interopRequireDefault(_validUrlPrecedingChars);\n\nvar _validUrlQueryChars = require('./validUrlQueryChars');\n\nvar _validUrlQueryChars2 = _interopRequireDefault(_validUrlQueryChars);\n\nvar _validUrlQueryEndingChars = require('./validUrlQueryEndingChars');\n\nvar _validUrlQueryEndingChars2 = _interopRequireDefault(_validUrlQueryEndingChars);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  astralLetterAndMarks: _astralLetterAndMarks2.default,\n  astralNumerals: _astralNumerals2.default,\n  atSigns: _atSigns2.default,\n  bmpLetterAndMarks: _bmpLetterAndMarks2.default,\n  bmpNumerals: _bmpNumerals2.default,\n  cashtag: _cashtag2.default,\n  codePoint: _codePoint2.default,\n  cyrillicLettersAndMarks: _cyrillicLettersAndMarks2.default,\n  endHashtagMatch: _endHashtagMatch2.default,\n  endMentionMatch: _endMentionMatch2.default,\n  extractUrl: _extractUrl2.default,\n  hashSigns: _hashSigns2.default,\n  hashtagAlpha: _hashtagAlpha2.default,\n  hashtagAlphaNumeric: _hashtagAlphaNumeric2.default,\n  hashtagBoundary: _hashtagBoundary2.default,\n  hashtagSpecialChars: _hashtagSpecialChars2.default,\n  invalidChars: _invalidChars2.default,\n  invalidCharsGroup: _invalidCharsGroup2.default,\n  invalidDomainChars: _invalidDomainChars2.default,\n  invalidUrlWithoutProtocolPrecedingChars: _invalidUrlWithoutProtocolPrecedingChars2.default,\n  latinAccentChars: _latinAccentChars2.default,\n  nonBmpCodePairs: _nonBmpCodePairs2.default,\n  punct: _punct2.default,\n  rtlChars: _rtlChars2.default,\n  spaces: _spaces2.default,\n  spacesGroup: _spacesGroup2.default,\n  urlHasHttps: _urlHasHttps2.default,\n  urlHasProtocol: _urlHasProtocol2.default,\n  validAsciiDomain: _validAsciiDomain2.default,\n  validateUrlAuthority: _validateUrlAuthority2.default,\n  validateUrlDecOctet: _validateUrlDecOctet2.default,\n  validateUrlDomain: _validateUrlDomain2.default,\n  validateUrlDomainSegment: _validateUrlDomainSegment2.default,\n  validateUrlDomainTld: _validateUrlDomainTld2.default,\n  validateUrlFragment: _validateUrlFragment2.default,\n  validateUrlHost: _validateUrlHost2.default,\n  validateUrlIp: _validateUrlIp2.default,\n  validateUrlIpv4: _validateUrlIpv2.default,\n  validateUrlIpv6: _validateUrlIpv4.default,\n  validateUrlPath: _validateUrlPath2.default,\n  validateUrlPchar: _validateUrlPchar2.default,\n  validateUrlPctEncoded: _validateUrlPctEncoded2.default,\n  validateUrlPort: _validateUrlPort2.default,\n  validateUrlQuery: _validateUrlQuery2.default,\n  validateUrlScheme: _validateUrlScheme2.default,\n  validateUrlSubDelims: _validateUrlSubDelims2.default,\n  validateUrlSubDomainSegment: _validateUrlSubDomainSegment2.default,\n  validateUrlUnencoded: _validateUrlUnencoded2.default,\n  validateUrlUnicodeAuthority: _validateUrlUnicodeAuthority2.default,\n  validateUrlUnicodeDomain: _validateUrlUnicodeDomain2.default,\n  validateUrlUnicodeDomainSegment: _validateUrlUnicodeDomainSegment2.default,\n  validateUrlUnicodeDomainTld: _validateUrlUnicodeDomainTld2.default,\n  validateUrlUnicodeHost: _validateUrlUnicodeHost2.default,\n  validateUrlUnicodeSubDomainSegment: _validateUrlUnicodeSubDomainSegment2.default,\n  validateUrlUnreserved: _validateUrlUnreserved2.default,\n  validateUrlUserinfo: _validateUrlUserinfo2.default,\n  validCashtag: _validCashtag2.default,\n  validCCTLD: _validCCTLD2.default,\n  validDomain: _validDomain2.default,\n  validDomainChars: _validDomainChars2.default,\n  validDomainName: _validDomainName2.default,\n  validGeneralUrlPathChars: _validGeneralUrlPathChars2.default,\n  validGTLD: _validGTLD2.default,\n  validHashtag: _validHashtag2.default,\n  validMentionOrList: _validMentionOrList2.default,\n  validMentionPrecedingChars: _validMentionPrecedingChars2.default,\n  validPortNumber: _validPortNumber2.default,\n  validPunycode: _validPunycode2.default,\n  validReply: _validReply2.default,\n  validSubdomain: _validSubdomain2.default,\n  validTcoUrl: _validTcoUrl2.default,\n  validUrlBalancedParens: _validUrlBalancedParens2.default,\n  validUrlPath: _validUrlPath2.default,\n  validUrlPathEndingChars: _validUrlPathEndingChars2.default,\n  validUrlPrecedingChars: _validUrlPrecedingChars2.default,\n  validUrlQueryChars: _validUrlQueryChars2.default,\n  validUrlQueryEndingChars: _validUrlQueryEndingChars2.default\n}; // Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nmodule.exports = exports['default'];","/**\n * Throw an Error for an abstract function that hasn't been implemented.\n *\n * @param {String} name The name of the abstract function\n */\nexport default function abstractFunction(name) {\n  throw new Error(name + ' is not implemented');\n}\n","import createStyleSheet from 'create-stylesheet';\n\nexport const BORDER_COLOR = '#00BFFF';\n\nconst userSelectStyleSheet = createStyleSheet({\n  body: {\n    '-webkit-user-select': 'none',\n       '-moz-user-select': 'none',\n        '-ms-user-select': 'none',\n            'user-select': 'none'\n  }\n});\nuserSelectStyleSheet.setAttribute('data-pdf-annotate-user-select', 'true');\n\n/**\n * Find the SVGElement that contains all the annotations for a page\n *\n * @param {Element} node An annotation within that container\n * @return {SVGElement} The container SVG or null if it can't be found\n */\nexport function findSVGContainer(node) {\n  let parentNode = node;\n\n  while ((parentNode = parentNode.parentNode) &&\n          parentNode !== document) {\n    if (parentNode.nodeName.toUpperCase() === 'SVG' &&\n        parentNode.getAttribute('data-pdf-annotate-container') === 'true') {\n      return parentNode;\n    }\n  }\n\n  return null;\n}\n\n/**\n * Find an SVGElement container at a given point\n *\n * @param {Number} x The x coordinate of the point\n * @param {Number} y The y coordinate of the point\n * @return {SVGElement} The container SVG or null if one can't be found\n */\nexport function findSVGAtPoint(x, y) {\n  let elements = document.querySelectorAll('svg[data-pdf-annotate-container=\"true\"]');\n\n  for (let i=0, l=elements.length; i<l; i++) {\n    let el = elements[i];\n    let rect = el.getBoundingClientRect();\n\n    if (pointIntersectsRect(x, y, rect)) {\n\n      return el;\n    }\n  }\n\n  return null;\n}\n\n/**\n * Find an Element that represents an annotation at a given point\n *\n * @param {Number} x The x coordinate of the point\n * @param {Number} y The y coordinate of the point\n * @return {Element} The annotation element or null if one can't be found\n */\nexport function findAnnotationAtPoint(x, y) {\n  let svg = findSVGAtPoint(x, y);\n  if (!svg) { return; }\n  let elements = svg.querySelectorAll('[data-pdf-annotate-type]');\n\n  // Find a target element within SVG\n  for (let i=0, l=elements.length; i<l; i++) {\n    let el = elements[i];\n    if (pointIntersectsRect(x, y, getOffsetAnnotationRect(el))) {   \n      return el;\n    }\n  }\n\n  return null;\n}\n\n/**\n * Determine if a point intersects a rect\n *\n * @param {Number} x The x coordinate of the point\n * @param {Number} y The y coordinate of the point\n * @param {Object} rect The points of a rect (likely from getBoundingClientRect)\n * @return {Boolean} True if a collision occurs, otherwise false\n */\nexport function pointIntersectsRect(x, y, rect) {\n  return y >= rect.top && y <= rect.bottom && x >= rect.left && x <= rect.right;\n}\n\n/**\n * Get the rect of an annotation element accounting for offset.\n *\n * @param {Element} el The element to get the rect of\n * @return {Object} The dimensions of the element\n */\nexport function getOffsetAnnotationRect(el) {\n  let rect = getAnnotationRect(el);\n  let { offsetLeft, offsetTop } = getOffset(el);\n  return {\n    top: rect.top + offsetTop,\n    left: rect.left + offsetLeft,\n    right: rect.right + offsetLeft,\n    bottom: rect.bottom + offsetTop\n  };\n}\n\n/**\n * Get the rect of an annotation element.\n *\n * @param {Element} el The element to get the rect of\n * @return {Object} The dimensions of the element\n */\nexport function getAnnotationRect(el) {\n  let h = 0, w = 0, x = 0, y = 0;\n  let rect = el.getBoundingClientRect();\n  // TODO this should be calculated somehow\n  const LINE_OFFSET = 16;\n\n  switch (el.nodeName.toLowerCase()) {\n    case 'path':\n    let minX, maxX, minY, maxY;\n\n    el.getAttribute('d').replace(/Z/, '').split('M').splice(1).forEach((p) => {\n      var s = p.split(' ').map(i => parseInt(i, 10));\n\n      if (typeof minX === 'undefined' || s[0] < minX) { minX = s[0]; }\n      if (typeof maxX === 'undefined' || s[2] > maxX) { maxX = s[2]; }\n      if (typeof minY === 'undefined' || s[1] < minY) { minY = s[1]; }\n      if (typeof maxY === 'undefined' || s[3] > maxY) { maxY = s[3]; }\n    });\n\n    h = maxY - minY;\n    w = maxX - minX;\n    x = minX;\n    y = minY;\n    break;\n\n    case 'line':\n    h = parseInt(el.getAttribute('y2'), 10) - parseInt(el.getAttribute('y1'), 10);\n    w = parseInt(el.getAttribute('x2'), 10) - parseInt(el.getAttribute('x1'), 10);\n    x = parseInt(el.getAttribute('x1'), 10);\n    y = parseInt(el.getAttribute('y1'), 10);\n\n    if (h === 0) {\n      h += LINE_OFFSET;\n      y -= (LINE_OFFSET / 2);\n    }\n    break;\n\n    case 'text':\n    h = rect.height;\n    w = rect.width;\n    x = parseInt(el.getAttribute('x'), 10);\n    y = parseInt(el.getAttribute('y'), 10) - h;\n    break;\n\n    case 'g':\n    let { offsetLeft, offsetTop } = getOffset(el);\n    h = rect.height;\n    w = rect.width;\n    x = rect.left - offsetLeft;\n    y = rect.top - offsetTop;\n\n    if (el.getAttribute('data-pdf-annotate-type') === 'strikeout') {\n      h += LINE_OFFSET;\n      y -= (LINE_OFFSET / 2);\n    }\n    break;\n\n    case 'rect':\n    case 'svg':\n    h = parseInt(el.getAttribute('height'), 10);\n    w = parseInt(el.getAttribute('width'), 10);\n    x = parseInt(el.getAttribute('x'), 10);\n    y = parseInt(el.getAttribute('y'), 10);\n    break;\n  }\n\n  // Result provides same properties as getBoundingClientRect\n  let result = {\n    top: y,\n    left: x,\n    width: w,\n    height: h,\n    right: x + w,\n    bottom: y + h\n  };\n\n  // For the case of nested SVG (point annotations) and grouped\n  // lines or rects no adjustment needs to be made for scale.\n  // I assume that the scale is already being handled\n  // natively by virtue of the `transform` attribute.\n  if (!['svg', 'g'].includes(el.nodeName.toLowerCase())) {\n    result = scaleUp(findSVGAtPoint(rect.left, rect.top), result);\n  }\n\n  return result;\n}\n\n/**\n * Adjust scale from normalized scale (100%) to rendered scale.\n *\n * @param {SVGElement} svg The SVG to gather metadata from\n * @param {Object} rect A map of numeric values to scale\n * @return {Object} A copy of `rect` with values scaled up\n */\nexport function scaleUp(svg, rect) {\n  let result = {};\n  let { viewport } = getMetadata(svg);\n\n  Object.keys(rect).forEach((key) => {\n    result[key] = rect[key] * viewport.scale;\n  });\n\n  return result;\n}\n\n/**\n * Adjust scale from rendered scale to a normalized scale (100%).\n *\n * @param {SVGElement} svg The SVG to gather metadata from\n * @param {Object} rect A map of numeric values to scale\n * @return {Object} A copy of `rect` with values scaled down\n */\nexport function scaleDown(svg, rect) {\n  let result = {};\n  let { viewport } = getMetadata(svg);\n\n  Object.keys(rect).forEach((key) => {\n    result[key] = rect[key] / viewport.scale;\n  });\n\n  return result;\n}\n\n/**\n * Get the scroll position of an element, accounting for parent elements\n *\n * @param {Element} el The element to get the scroll position for\n * @return {Object} The scrollTop and scrollLeft position\n */\nexport function getScroll(el) {\n  let scrollTop = 0;\n  let scrollLeft = 0;\n  let parentNode = el;\n\n  while ((parentNode = parentNode.parentNode) &&\n          parentNode !== document) {\n    scrollTop += parentNode.scrollTop;\n    scrollLeft += parentNode.scrollLeft;\n  }\n\n  return { scrollTop, scrollLeft };\n}\n\n/**\n * Get the offset position of an element, accounting for parent elements\n *\n * @param {Element} el The element to get the offset position for\n * @return {Object} The offsetTop and offsetLeft position\n */\nexport function getOffset(el) {\n  let parentNode = el;\n\n  while ((parentNode = parentNode.parentNode) &&\n          parentNode !== document) {\n    if (parentNode.nodeName.toUpperCase() === 'SVG') {\n      break;\n    }\n  }\n\n  let rect = parentNode.getBoundingClientRect();\n\n  return { offsetLeft: rect.left, offsetTop: rect.top };\n}\n\n/**\n * Disable user ability to select text on page\n */\nexport function disableUserSelect() {\n  if (!userSelectStyleSheet.parentNode) {\n    document.head.appendChild(userSelectStyleSheet);\n  }\n}\n\n\n/**\n * Enable user ability to select text on page\n */\nexport function enableUserSelect() {\n  if (userSelectStyleSheet.parentNode) {\n    userSelectStyleSheet.parentNode.removeChild(userSelectStyleSheet);\n  }\n}\n\n/**\n * Get the metadata for a SVG container\n *\n * @param {SVGElement} svg The SVG container to get metadata for\n */\nexport function getMetadata(svg) {\n  return {\n    documentId: svg.getAttribute('data-pdf-annotate-document'),\n    pageNumber: parseInt(svg.getAttribute('data-pdf-annotate-page'), 10),\n    viewport: JSON.parse(svg.getAttribute('data-pdf-annotate-viewport'))\n  };\n}\n","import EventEmitter from 'events';\nimport {\n  findAnnotationAtPoint,\n  findSVGAtPoint\n} from './utils';\n\nconst emitter = new EventEmitter;\n\nlet clickNode;\n\n/**\n * Handle document.click event\n *\n * @param {Event} e The DOM event to be handled\n */\ndocument.addEventListener('click', function handleDocumentClick(e) {\n  if (!findSVGAtPoint(e.clientX, e.clientY)) { return; }\n\n  let target = findAnnotationAtPoint(e.clientX, e.clientY);\n\n  // Emit annotation:blur if clickNode is no longer clicked\n  if (clickNode && clickNode !== target) {\n    emitter.emit('annotation:blur', clickNode);\n  }\n\n  // Emit annotation:click if target was clicked\n  if (target) {\n    emitter.emit('annotation:click', target);\n  }\n\n  clickNode = target;\n});\n\n// let mouseOverNode;\n// document.addEventListener('mousemove', function handleDocumentMousemove(e) {\n//   let target = findAnnotationAtPoint(e.clientX, e.clientY);\n//\n//   // Emit annotation:mouseout if target was mouseout'd\n//   if (mouseOverNode && !target) {\n//     emitter.emit('annotation:mouseout', mouseOverNode);\n//   }\n//\n//   // Emit annotation:mouseover if target was mouseover'd\n//   if (target && mouseOverNode !== target) {\n//     emitter.emit('annotation:mouseover', target);\n//   }\n//\n//   mouseOverNode = target;\n// });\n\nexport function fireEvent() { emitter.emit(...arguments); };\nexport function addEventListener() { emitter.on(...arguments); };\nexport function removeEventListener() { emitter.removeListener(...arguments); };\n","import abstractFunction from '../utils/abstractFunction';\nimport { fireEvent } from '../UI/event';\n\n// Adapter should never be invoked publicly\nexport default class StoreAdapter {\n  /**\n   * Create a new StoreAdapter instance\n   *\n   * @param {Object} [definition] The definition to use for overriding abstract methods\n   */\n  constructor(definition = {}) {\n    // Copy each function from definition if it is a function we know about\n    Object.keys(definition).forEach((key) => {\n      if (typeof definition[key] === 'function' &&\n          typeof this[key] === 'function') {\n        this[key] = definition[key];\n      }\n    });\n  }\n\n  /**\n   * Get all the annotations for a given document and page number.\n   *\n   * @param {String} documentId The ID for the document the annotations belong to\n   * @param {Number} pageNumber The number of the page the annotations belong to\n   * @return {Promise}\n   */\n  __getAnnotations(documentId, pageNumber) { abstractFunction('getAnnotations'); }\n  get getAnnotations() { return this.__getAnnotations; }\n  set getAnnotations(fn) {\n    this.__getAnnotations = function getAnnotations(documentId, pageNumber) {\n      return fn(...arguments).then((annotations) => {\n        // TODO may be best to have this happen on the server\n        if (annotations.annotations) {\n          annotations.annotations.forEach((a) => {\n            a.documentId = documentId;\n          });\n        }\n        return annotations;\n      });\n    };\n  }\n\n  /**\n   * Get the definition for a specific annotation.\n   *\n   * @param {String} documentId The ID for the document the annotation belongs to\n   * @param {String} annotationId The ID for the annotation\n   * @return {Promise}\n   */\n  getAnnotation(documentId, annotationId) { abstractFunction('getAnnotation'); }\n\n  /**\n   * Add an annotation\n   *\n   * @param {String} documentId The ID for the document to add the annotation to\n   * @param {String} pageNumber The page number to add the annotation to\n   * @param {Object} annotation The definition for the new annotation\n   * @return {Promise}\n   */\n  __addAnnotation(documentId, pageNumber, annotation) { abstractFunction('addAnnotation'); }\n  get addAnnotation() { return this.__addAnnotation; }\n  set addAnnotation(fn) {\n    this.__addAnnotation = function addAnnotation(documentId, pageNumber, annotation) {\n      return fn(...arguments).then((annotation) => {\n        fireEvent('annotation:add', documentId, pageNumber, annotation);\n        return annotation;\n      });\n    };\n  }\n\n  /**\n   * Edit an annotation\n   *\n   * @param {String} documentId The ID for the document\n   * @param {String} pageNumber the page number of the annotation\n   * @param {Object} annotation The definition of the modified annotation\n   * @return {Promise}\n   */\n  __editAnnotation(documentId, pageNumber, annotation) { abstractFunction('editAnnotation'); }\n  get editAnnotation() { return this.__editAnnotation; }\n  set editAnnotation(fn) {\n    this.__editAnnotation = function editAnnotation(documentId, annotationId, annotation) {\n      return fn(...arguments).then((annotation) => {\n        fireEvent('annotation:edit', documentId, annotationId, annotation);\n        return annotation;\n      });\n    };\n  }\n\n  /**\n   * Delete an annotation\n   *\n   * @param {String} documentId The ID for the document\n   * @param {String} annotationId The ID for the annotation\n   * @return {Promise}\n   */\n  __deleteAnnotation(documentId, annotationId) { abstractFunction('deleteAnnotation'); }\n  get deleteAnnotation() { return this.__deleteAnnotation; }\n  set deleteAnnotation(fn) {\n    this.__deleteAnnotation = function deleteAnnotation(documentId, annotationId) {\n      return fn(...arguments).then((success) => {\n        if (success) {\n          fireEvent('annotation:delete', documentId, annotationId);\n        }\n        return success;\n      });\n    };\n  }\n\n  /**\n   * Get all the comments for an annotation\n   *\n   * @param {String} documentId The ID for the document\n   * @param {String} annotationId The ID for the annotation\n   * @return {Promise}\n   */\n  getComments(documentId, annotationId) { abstractFunction('getComments'); }\n\n  /**\n   * Add a new comment\n   *\n   * @param {String} documentId The ID for the document\n   * @param {String} annotationId The ID for the annotation\n   * @param {Object} content The definition of the comment\n   * @return {Promise}\n   */\n  __addComment(documentId, annotationId, content) { abstractFunction('addComment'); }\n  get addComment() { return this.__addComment; }\n  set addComment(fn) {\n    this.__addComment = function addComment(documentId, annotationId, content) {\n      return fn(...arguments).then((comment) => {\n        fireEvent('comment:add', documentId, annotationId, comment);\n        return comment;\n      });\n    };\n  }\n\n  /**\n   * Delete a comment\n   *\n   * @param {String} documentId The ID for the document\n   * @param {String} commentId The ID for the comment\n   * @return {Promise}\n   */\n  __deleteComment(documentId, commentId) { abstractFunction('deleteComment'); }\n  get deleteComment() { return this.__deleteComment; }\n  set deleteComment(fn) {\n    this.__deleteComment = function deleteComment(documentId, commentId) {\n      return fn(...arguments).then((success) => {\n        if (success) {\n          fireEvent('comment:delete', documentId, commentId);\n        }\n        return success;\n      });\n    };\n  }\n}\n","const REGEXP = /[xy]/g\nconst PATTERN = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx';\n\nfunction replacement(c) {\n  let r = Math.random()*16|0;\n  let v = c == 'x' ? r : (r&0x3|0x8);\n  return v.toString(16);\n}\n\n/**\n * Generate a univierally unique identifier\n *\n * @return {String}\n */\nexport default function uuid() {\n  return PATTERN.replace(REGEXP, replacement);\n}\n","import uuid from '../utils/uuid';\nimport StoreAdapter from './StoreAdapter';\n\n// StoreAdapter for working with localStorage\n// This is ideal for testing, examples, and prototyping\nexport default class LocalStoreAdapter extends StoreAdapter {\n  constructor() {\n    super({\n      getAnnotations(documentId, pageNumber) {\n        return new Promise((resolve, reject) => {\n          let annotations = getAnnotations(documentId).filter((i) => {\n            return i.page === pageNumber && i.class === 'Annotation';\n          });\n\n          resolve({\n            documentId,\n            pageNumber,\n            annotations\n          });\n        });\n      },\n\n      getAnnotation(documentId, annotationId) {\n        return Promise.resolve(getAnnotations(documentId)[findAnnotation(documentId, annotationId)]);\n      },\n\n      addAnnotation(documentId, pageNumber, annotation) {\n        return new Promise((resolve, reject) => {\n          annotation.class = 'Annotation';\n          annotation.uuid = uuid();\n          annotation.page = pageNumber;\n\n          let annotations = getAnnotations(documentId);\n          annotations.push(annotation);\n          updateAnnotations(documentId, annotations);\n\n          resolve(annotation);\n        });\n      },\n\n      editAnnotation(documentId, annotationId, annotation) {\n        return new Promise((resolve, reject) => {\n          let annotations = getAnnotations(documentId);\n          annotations[findAnnotation(documentId, annotationId)] = annotation;\n          updateAnnotations(documentId, annotations);\n\n          resolve(annotation);\n        });\n      },\n\n      deleteAnnotation(documentId, annotationId) {\n        return new Promise((resolve, reject) => {\n          let index = findAnnotation(documentId, annotationId);\n          if (index > -1) {\n            let annotations = getAnnotations(documentId);\n            annotations.splice(index, 1);\n            updateAnnotations(documentId, annotations);\n          }\n\n          resolve(true);\n        });\n      },\n\n      getComments(documentId, annotationId) {\n        return new Promise((resolve, reject) => {\n          resolve(getAnnotations(documentId).filter((i) => {\n            return i.class === 'Comment' && i.annotation === annotationId;\n          }));\n        });\n      },\n\n      addComment(documentId, annotationId, content) {\n        return new Promise((resolve, reject) => {\n          let comment = {\n            class: 'Comment',\n            uuid: uuid(),\n            annotation: annotationId,\n            content: content\n          };\n\n          let annotations = getAnnotations(documentId);\n          annotations.push(comment);\n          updateAnnotations(documentId, annotations);\n\n          resolve(comment);\n        });\n      },\n\n      deleteComment(documentId, commentId) {\n        return new Promise((resolve, reject) => {\n          getAnnotations(documentId);\n          let index = -1;\n          let annotations = getAnnotations(documentId);\n          for (let i=0, l=annotations.length; i<l; i++) {\n            if (annotations[i].uuid === commentId) {\n              index = i;\n              break;\n            }\n          }\n\n          if (index > -1) {\n            annotations.splice(index, 1);\n            updateAnnotations(documentId, annotations);\n          }\n\n          resolve(true);\n        });\n      }\n    });\n  }\n}\n\nfunction getAnnotations(documentId) {\n  return JSON.parse(localStorage.getItem(`${documentId}/annotations`)) || [];\n}\n\nfunction updateAnnotations(documentId, annotations) {\n  localStorage.setItem(`${documentId}/annotations`, JSON.stringify(annotations));\n}\n\nfunction findAnnotation(documentId, annotationId) {\n  let index = -1;\n  let annotations = getAnnotations(documentId);\n  for (let i=0, l=annotations.length; i<l; i++) {\n    if (annotations[i].uuid === annotationId) {\n      index = i;\n      break;\n    }\n  }\n  return index;\n}\n","const UPPER_REGEX = /[A-Z]/g;\n\n// Don't convert these attributes from camelCase to hyphenated-attributes\nconst BLACKLIST = [\n  'viewBox'\n];\n\nlet keyCase = (key) => {\n  if (BLACKLIST.indexOf(key) === -1) {\n    key = key.replace(UPPER_REGEX, match => '-' + match.toLowerCase());\n  }\n  return key;\n}\n\n/**\n * Set attributes for a node from a map\n *\n * @param {Node} node The node to set attributes on\n * @param {Object} attributes The map of key/value pairs to use for attributes\n */\nexport default function setAttributes(node, attributes) {\n  Object.keys(attributes).forEach((key) => {\n    node.setAttribute(keyCase(key), attributes[key]);\n  });\n}\n","const REGEX_HASHLESS_HEX = /^([a-f0-9]{6}|[a-f0-9]{3})$/i;\n\n/**\n * Normalize a color value\n *\n * @param {String} color The color to normalize\n * @return {String}\n */\nexport default function normalizeColor(color) {\n  if (REGEX_HASHLESS_HEX.test(color)) {\n    color = `#${color}`;\n  }\n  return color;\n}\n","import setAttributes from '../utils/setAttributes';\n\nconst SIZE = 25;\nconst D = 'M499.968 214.336q-113.832 0 -212.877 38.781t-157.356 104.625 -58.311 142.29q0 62.496 39.897 119.133t112.437 97.929l48.546 27.9 -15.066 53.568q-13.392 50.778 -39.06 95.976 84.816 -35.154 153.45 -95.418l23.994 -21.204 31.806 3.348q38.502 4.464 72.54 4.464 113.832 0 212.877 -38.781t157.356 -104.625 58.311 -142.29 -58.311 -142.29 -157.356 -104.625 -212.877 -38.781z';\n\n/**\n * Create SVGElement from an annotation definition.\n * This is used for anntations of type `comment`.\n *\n * @param {Object} a The annotation definition\n * @return {SVGElement} A svg to be rendered\n */\nexport default function renderPoint(a) {\n  let outerSVG = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n  let innerSVG = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n  let rect = document.createElementNS('http://www.w3.org/2000/svg', 'rect');\n  let path = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n\n  setAttributes(outerSVG,  {\n    width: SIZE,\n    height: SIZE,\n    x: a.x,\n    y: a.y\n  });\n\n  setAttributes(innerSVG, {\n    width: SIZE,\n    height: SIZE,\n    x: 0,\n    y: (SIZE * 0.05) * -1,\n    viewBox: '0 0 1000 1000'\n  });\n\n  setAttributes(rect, {\n    width: SIZE,\n    height: SIZE,\n    stroke: '#000',\n    fill: '#ff0'\n  });\n\n  setAttributes(path, {\n    d: D,\n    strokeWidth: 50,\n    stroke: '#000',\n    fill: '#fff'\n  });\n\n  innerSVG.appendChild(path);\n  outerSVG.appendChild(rect);\n  outerSVG.appendChild(innerSVG);\n\n  return outerSVG;\n}\n","import setAttributes from '../utils/setAttributes';\nimport normalizeColor from '../utils/normalizeColor';\n\n/**\n * Create SVGRectElements from an annotation definition.\n * This is used for anntations of type `area` and `highlight`.\n *\n * @param {Object} a The annotation definition\n * @return {SVGGElement|SVGRectElement} A group of all rects to be rendered\n */\nexport default function renderRect(a) {\n  if (a.type === 'highlight') {\n    let group = document.createElementNS('http://www.w3.org/2000/svg', 'g');\n    setAttributes(group, {\n      fill: normalizeColor(a.color || '#ff0'),\n      fillOpacity: 0.2\n    });\n    \n    a.rectangles.forEach((r) => {\n      group.appendChild(createRect(r));\n    });\n\n    return group;\n  } else {\n    let rect = createRect(a);\n    setAttributes(rect, {\n      stroke: normalizeColor(a.color || '#f00'),\n      fill: 'none'\n    });\n\n    return rect;\n  }\n}\n\nfunction createRect(r) {\n  let rect = document.createElementNS('http://www.w3.org/2000/svg', 'rect');\n\n  setAttributes(rect, {\n    x: r.x,\n    y: r.y,\n    width: r.width,\n    height: r.height\n  });\n\n  return rect;\n}\n","import objectAssign from 'object-assign';\nimport renderLine from './renderLine';\nimport renderPath from './renderPath';\nimport renderPoint from './renderPoint';\nimport renderRect from './renderRect';\nimport renderText from './renderText';\n\nconst isFirefox = /firefox/i.test(navigator.userAgent);\n\n/**\n * Get the x/y translation to be used for transforming the annotations\n * based on the rotation of the viewport.\n *\n * @param {Object} viewport The viewport data from the page\n * @return {Object}\n */\nfunction getTranslation(viewport) {\n  let x;\n  let y;\n\n  // Modulus 360 on the rotation so that we only\n  // have to worry about four possible values.\n  switch(viewport.rotation % 360) {\n    case 0:\n      x = y = 0;\n      break;\n    case 90:\n      x = 0;\n      y = (viewport.width / viewport.scale) * -1;\n      break;\n    case 180:\n      x = (viewport.width / viewport.scale) * -1;\n      y = (viewport.height / viewport.scale) * -1;\n      break;\n    case 270:\n      x = (viewport.height / viewport.scale) * -1;\n      y = 0;\n      break;\n  }\n\n  return { x, y };\n}\n\n/**\n * Transform the rotation and scale of a node using SVG's native transform attribute.\n *\n * @param {Node} node The node to be transformed\n * @param {Object} viewport The page's viewport data\n * @return {Node}\n */\nfunction transform(node, viewport) {\n  let trans = getTranslation(viewport);\n\n  // Let SVG natively transform the element\n  node.setAttribute('transform', `scale(${viewport.scale}) rotate(${viewport.rotation}) translate(${trans.x}, ${trans.y})`);\n  \n  // Manually adjust x/y for nested SVG nodes\n  if (!isFirefox && node.nodeName.toLowerCase() === 'svg') {\n    node.setAttribute('x', parseInt(node.getAttribute('x'), 10) * viewport.scale);\n    node.setAttribute('y', parseInt(node.getAttribute('y'), 10) * viewport.scale);\n\n    let x = parseInt(node.getAttribute('x', 10));\n    let y = parseInt(node.getAttribute('y', 10));\n    let width = parseInt(node.getAttribute('width'), 10);\n    let height = parseInt(node.getAttribute('height'), 10);\n    let path = node.querySelector('path');\n    let svg = path.parentNode;\n   \n    // Scale width/height\n    [node, svg, path, node.querySelector('rect')].forEach((n) => {\n      n.setAttribute('width', parseInt(n.getAttribute('width'), 10) * viewport.scale);\n      n.setAttribute('height', parseInt(n.getAttribute('height'), 10) * viewport.scale);\n    });\n\n    // Transform path but keep scale at 100% since it will be handled natively\n    transform(path, objectAssign({}, viewport, { scale: 1 }));\n    \n    switch(viewport.rotation % 360) {\n      case 90:\n        node.setAttribute('x', viewport.width - y - width);\n        node.setAttribute('y', x);\n        svg.setAttribute('x', 1);\n        svg.setAttribute('y', 0);\n        break;\n      case 180:\n        node.setAttribute('x', viewport.width - x - width);\n        node.setAttribute('y', viewport.height - y - height);\n        svg.setAttribute('y', 2);\n        break;\n      case 270:\n        node.setAttribute('x', y);\n        node.setAttribute('y', viewport.height - x - height);\n        svg.setAttribute('x', -1);\n        svg.setAttribute('y', 0);\n        break;\n    }\n  }\n\n  return node;\n}\n\n/**\n * Append an annotation as a child of an SVG.\n *\n * @param {SVGElement} svg The SVG element to append the annotation to\n * @param {Object} annotation The annotation definition to render and append\n * @param {Object} viewport The page's viewport data\n * @return {SVGElement} A node that was created and appended by this function\n */\nexport default function appendChild(svg, annotation, viewport) {\n  if (!viewport) {\n    viewport = JSON.parse(svg.getAttribute('data-pdf-annotate-viewport'));\n  }\n  \n  let child;\n  switch (annotation.type) {\n    case 'area':\n    case 'highlight':\n      child = renderRect(annotation);\n      break;\n    case 'strikeout':\n      child = renderLine(annotation);\n      break;\n    case 'point':\n      child = renderPoint(annotation);\n      break;\n    case 'textbox':\n      child = renderText(annotation);\n      break;\n    case 'drawing':\n      child = renderPath(annotation);\n      break;\n  }\n\n  // If no type was provided for an annotation it will result in node being null.\n  // Skip appending/transforming if node doesn't exist.\n  if (child) {\n    // Set attributes\n    child.setAttribute('data-pdf-annotate-id', annotation.uuid);\n    child.setAttribute('data-pdf-annotate-type', annotation.type);\n    child.setAttribute('aria-hidden', true);\n\n    svg.appendChild(transform(child, viewport));\n  }\n\n  return child;\n}\n","import setAttributes from '../utils/setAttributes';\nimport normalizeColor from '../utils/normalizeColor';\n\n/**\n * Create SVGLineElements from an annotation definition.\n * This is used for anntations of type `strikeout`.\n *\n * @param {Object} a The annotation definition\n * @return {SVGGElement} A group of all lines to be rendered\n */\nexport default function renderLine(a) {\n  let group = document.createElementNS('http://www.w3.org/2000/svg', 'g');\n  setAttributes(group, {\n    stroke: normalizeColor(a.color || '#f00'),\n    strokeWidth: 1\n  });\n\n  a.rectangles.forEach((r) => {\n    let line = document.createElementNS('http://www.w3.org/2000/svg', 'line');\n\n    setAttributes(line, {\n      x1: r.x,\n      y1: r.y,\n      x2: r.x + r.width,\n      y2: r.y,\n    });\n\n    group.appendChild(line);\n  });\n\n  return group;\n}\n","import setAttributes from '../utils/setAttributes';\nimport normalizeColor from '../utils/normalizeColor';\n\n/**\n * Create SVGTextElement from an annotation definition.\n * This is used for anntations of type `textbox`.\n *\n * @param {Object} a The annotation definition\n * @return {SVGTextElement} A text to be rendered\n */\nexport default function renderText(a) {\n  var text = document.createElementNS('http://www.w3.org/2000/svg', 'text');\n\n  setAttributes(text, {\n    x: a.x,\n    y: a.y + parseInt(a.size, 10),\n    fill: normalizeColor(a.color || '#000'),\n    fontSize: a.size\n  });\n  text.innerHTML = a.content;\n\n  return text;\n}\n","import setAttributes from '../utils/setAttributes';\nimport normalizeColor from '../utils/normalizeColor';\n\n/**\n * Create SVGPathElement from an annotation definition.\n * This is used for anntations of type `drawing`.\n *\n * @param {Object} a The annotation definition\n * @return {SVGPathElement} The path to be rendered\n */\nexport default function renderPath(a) {\n  let d = [];\n  let path = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n  \n  for (let i=0, l=a.lines.length; i<l; i++) {\n    var p1 = a.lines[i];\n    var p2 = a.lines[i+1];\n    if (p2) {\n      d.push(`M${p1[0]} ${p1[1]} ${p2[0]} ${p2[1]}`);\n    }\n  }\n  \n  setAttributes(path, {\n    d: `${d.join(' ')}Z`,\n    stroke: normalizeColor(a.color || '#000'),\n    strokeWidth: a.width || 1,\n    fill: 'none'\n  });\n\n  return path;\n}\n","/**\n * Create a node that is only visible to screen readers\n *\n * @param {String} content The text content that should be read by screen reader\n * @param {String} [annotationId] The ID of the annotation assocaited\n * @return {Element} An Element that is only visible to screen readers\n */\nexport default function createScreenReaderOnly(content, annotationId) {\n  let node = document.createElement('div');\n  let text = document.createTextNode(content);\n  node.appendChild(text);\n  node.setAttribute('id', `pdf-annotate-screenreader-${annotationId}`);\n  node.style.position = 'absolute';\n  node.style.left = '-10000px';\n  node.style.top = 'auto';\n  node.style.width = '1px';\n  node.style.height = '1px';\n  node.style.overflow = 'hidden';\n  return node;\n}\n","import {\n  pointIntersectsRect,\n  scaleUp,\n  scaleDown\n} from '../UI/utils'; \n\n/**\n * Insert an element at a point within the document.\n * This algorithm will only insert within an element amidst it's text content.\n *\n * @param {Element} el The element to be inserted\n * @param {Number} x The x coordinate of the point\n * @param {Number} y The y coordinate of the point\n * @param {Number} pageNumber The page number to limit elements to\n * @param {Boolean} insertBefore Whether the element is to be inserted before or after x\n * @return {Boolean} True if element was able to be inserted, otherwise false\n */\nexport default function insertElementWithinElement(el, x, y, pageNumber, insertBefore) {\n  const OFFSET_ADJUST = 2;\n\n  // If inserting before adjust `x` by looking for element a few px to the right\n  // Otherwise adjust a few px to the left\n  // This is to allow a little tolerance by searching within the box, instead\n  // of getting a false negative by testing right on the border.\n  x = Math.max(x + (OFFSET_ADJUST * (insertBefore ? 1 : -1)), 0);\n\n  let node = textLayerElementFromPoint(x, y + OFFSET_ADJUST, pageNumber);\n  if (!node) {\n    return false;\n  }\n  \n  // Now that node has been found inverse the adjustment for `x`.\n  // This is done to accomodate tolerance by cutting off on the outside of the\n  // text boundary, instead of missing a character by cutting off within.\n  x = x + (OFFSET_ADJUST * (insertBefore ? -1 : 1));\n\n  let svg = document.querySelector(`svg[data-pdf-annotate-page=\"${pageNumber}\"]`);\n  let left = scaleDown(svg, {left: node.getBoundingClientRect().left}).left - svg.getBoundingClientRect().left;\n  let temp = node.cloneNode(true);\n  let head = temp.innerHTML.split('');\n  let tail = [];\n\n  // Insert temp off screen\n  temp.style.position = 'absolute';\n  temp.style.top = '-10000px';\n  temp.style.left = '-10000px';\n  document.body.appendChild(temp);\n\n  while (head.length) {\n    // Don't insert within HTML tags\n    if (head[head.length - 1] === '>') {\n      while(head.length) {\n        tail.unshift(head.pop());\n        if (tail[0] === '<') {\n          break;\n        }\n      }\n    }\n    \n    // Check if width of temp based on current head value satisfies x\n    temp.innerHTML = head.join('');\n    let width = scaleDown(svg, {width: temp.getBoundingClientRect().width}).width;\n    if (left + width <= x) {\n      break;\n    }\n    tail.unshift(head.pop());\n  }\n  \n  // Update original node with new markup, including element to be inserted\n  node.innerHTML = head.join('') + el.outerHTML + tail.join('');\n  temp.parentNode.removeChild(temp);\n\n  return true;\n}\n\n/**\n * Get a text layer element at a given point on a page\n *\n * @param {Number} x The x coordinate of the point\n * @param {Number} y The y coordinate of the point\n * @param {Number} pageNumber The page to limit elements to\n * @return {Element} First text layer element found at the point\n */\nfunction textLayerElementFromPoint(x, y, pageNumber) {\n  let svg = document.querySelector(`svg[data-pdf-annotate-page=\"${pageNumber}\"]`);\n  let rect = svg.getBoundingClientRect();\n  y = scaleUp(svg, {y}).y + rect.top;\n  x = scaleUp(svg, {x}).x + rect.left;\n  return [...svg.parentNode.querySelectorAll('.textLayer [data-canvas-width]')].filter((el) => {\n    return pointIntersectsRect(x, y, el.getBoundingClientRect());\n  })[0];\n}\n","import insertElementWithinElement from './insertElementWithinElement';\nimport { pointIntersectsRect } from '../UI/utils';\nimport { scaleUp } from '../UI/utils'; \n\n/**\n * Insert an element at a point within the document.\n * This algorithm will try to insert between elements if possible.\n * It will however use `insertElementWithinElement` if it is more accurate.\n *\n * @param {Element} el The element to be inserted\n * @param {Number} x The x coordinate of the point\n * @param {Number} y The y coordinate of the point\n * @param {Number} pageNumber The page number to limit elements to\n * @return {Boolean} True if element was able to be inserted, otherwise false\n */\nexport default function insertElementWithinChildren(el, x, y, pageNumber) {\n  // Try and use most accurate method of inserting within an element\n  if (insertElementWithinElement(el, x, y, pageNumber, true)) {\n    return true;\n  }\n\n  // Fall back to inserting between elements\n  let svg = document.querySelector(`svg[data-pdf-annotate-page=\"${pageNumber}\"]`);\n  let rect = svg.getBoundingClientRect();\n  let nodes = [...svg.parentNode.querySelectorAll('.textLayer > div')];\n\n  y = scaleUp(svg, {y}).y + rect.top;\n  x = scaleUp(svg, {x}).x + rect.left;\n\n  // Find the best node to insert before\n  for (let i=0, l=nodes.length; i<l; i++) {\n    let n = nodes[i];\n    let r = n.getBoundingClientRect();\n    if (y <= r.top) {\n      n.parentNode.insertBefore(el, n);\n      return true;\n    }\n  }\n\n  // If all else fails try to append to the bottom\n  let textLayer = svg.parentNode.querySelector('.textLayer');\n  if (textLayer) {\n    let textRect = textLayer.getBoundingClientRect();\n    if (pointIntersectsRect(x, y, textRect)) {\n      textLayer.appendChild(el);\n      return true;\n    }\n  }\n\n  return false;\n}\n","/**\n * Insert a comment into the DOM to be available by screen reader\n *\n * @param {Object} comment The comment to be inserted\n */\nexport default function insertScreenReaderComment(comment) {\n  if (!comment) {\n    return;\n  }\n\n  let list = document.querySelector(`#pdf-annotate-screenreader-${comment.annotation} ol`);\n  if (list) {\n    let item = document.createElement('li');\n    item.setAttribute('id', `pdf-annotate-screenreader-comment-${comment.uuid}`);\n    item.appendChild(document.createTextNode(`${comment.content}`));\n    list.appendChild(item);\n  }\n}\n","import PDFJSAnnotate from '../PDFJSAnnotate';\nimport insertScreenReaderComment from './insertScreenReaderComment';\n\n/**\n * Insert the comments into the DOM to be available by screen reader\n *\n * Example output:\n *   <div class=\"screenReaderOnly\">\n *    <div>Begin highlight 1</div>\n *    <ol aria-label=\"Comments\">\n *      <li>Foo</li>\n *      <li>Bar</li>\n *      <li>Baz</li>\n *      <li>Qux</li>\n *    </ol>\n *  </div>\n *  <div>Some highlighted text goes here...</div>\n *  <div class=\"screenReaderOnly\">End highlight 1</div>\n *\n * NOTE: `screenReaderOnly` is not a real class, just used for brevity\n *\n * @param {String} documentId The ID of the document\n * @param {String} annotationId The ID of the annotation\n * @param {Array} [comments] Optionally preloaded comments to be rendered\n * @return {Promise}\n */\nexport default function renderScreenReaderComments(documentId, annotationId, comments) {\n  let promise;\n\n  if (Array.isArray(comments)) {\n    promise = Promise.resolve(comments);\n  } else {\n    promise = PDFJSAnnotate.getStoreAdapter().getComments(documentId, annotationId);\n  }\n\n  return promise.then((comments) => {\n    // Node needs to be found by querying DOM as it may have been inserted as innerHTML\n    // leaving `screenReaderNode` as an invalid reference (see `insertElementWithinElement`).\n    let node = document.getElementById(`pdf-annotate-screenreader-${annotationId}`);\n    if (node) { \n      let list = document.createElement('ol');\n      list.setAttribute('id', `pdf-annotate-screenreader-comment-list-${annotationId}`);\n      list.setAttribute('aria-label', 'Comments');\n      node.appendChild(list);\n      comments.forEach(insertScreenReaderComment);\n    }\n  });\n}\n","import createScreenReaderOnly from './createScreenReaderOnly';\nimport insertElementWithinChildren from './insertElementWithinChildren';\nimport insertElementWithinElement from './insertElementWithinElement';\nimport renderScreenReaderComments from './renderScreenReaderComments';\n\n// Annotation types that support comments\nconst COMMENT_TYPES = ['highlight', 'point', 'area'];\n\n/**\n * Insert a hint into the DOM for screen readers for a specific annotation.\n *\n * @param {Object} annotation The annotation to insert a hint for\n * @param {Number} num The number of the annotation out of all annotations of the same type\n */\nexport default function insertScreenReaderHint(annotation, num = 0) {\n  switch (annotation.type) {\n    case 'highlight':\n    case 'strikeout':\n      let rects = annotation.rectangles;\n      let first = rects[0];\n      let last = rects[rects.length - 1];\n\n      insertElementWithinElement(\n        createScreenReaderOnly(`Begin ${annotation.type} annotation ${num}`, annotation.uuid),\n        first.x, first.y, annotation.page, true\n      );\n\n      insertElementWithinElement(\n        createScreenReaderOnly(`End ${annotation.type} annotation ${num}`, `${annotation.uuid}-end`),\n        last.x + last.width, last.y, annotation.page, false\n      );\n      break;\n\n    case 'textbox':\n    case 'point':\n      let text = annotation.type === 'textbox' ? ` (content: ${annotation.content})` : '';\n\n      insertElementWithinChildren(\n        createScreenReaderOnly(`${annotation.type} annotation ${num}${text}`, annotation.uuid),\n        annotation.x, annotation.y, annotation.page\n      );\n      break;\n\n    case 'drawing':\n    case 'area':\n      let x = typeof annotation.x !== 'undefined' ? annotation.x : annotation.lines[0][0];\n      let y = typeof annotation.y !== 'undefined' ? annotation.y : annotation.lines[0][1];\n\n      insertElementWithinChildren(\n        createScreenReaderOnly(`Unlabeled drawing`, annotation.uuid),\n        x, y, annotation.page\n      );\n      break;\n  }\n\n  // Include comments in screen reader hint\n  if (COMMENT_TYPES.includes(annotation.type)) {\n    renderScreenReaderComments(annotation.documentId, annotation.uuid);\n  }\n}\n","import insertScreenReaderHint from './insertScreenReaderHint';\nimport renderScreenReaderHints from './renderScreenReaderHints';\nimport insertScreenReaderComment from './insertScreenReaderComment';\nimport renderScreenReaderComments from './renderScreenReaderComments';\nimport { addEventListener } from '../UI/event';\nimport PDFJSAnnotate from '../PDFJSAnnotate';\n\n/**\n * Initialize the event handlers for keeping screen reader hints synced with data\n */\nexport default function initEventHandlers() {\n  addEventListener('annotation:add', (documentId, pageNumber, annotation) => {\n    reorderAnnotationsByType(documentId, pageNumber, annotation.type);\n  });\n  addEventListener('annotation:edit', (documentId, annotationId, annotation) => {\n    reorderAnnotationsByType(documentId, annotation.page, annotation.type);\n  });\n  addEventListener('annotation:delete', removeAnnotation);\n  addEventListener('comment:add', insertComment);\n  addEventListener('comment:delete', removeComment);\n}\n\n/**\n * Reorder the annotation numbers by annotation type\n *\n * @param {String} documentId The ID of the document\n * @param {Number} pageNumber The page number of the annotations\n * @param {Strig} type The annotation type\n */\nfunction reorderAnnotationsByType(documentId, pageNumber, type) {\n  PDFJSAnnotate.getStoreAdapter().getAnnotations(documentId, pageNumber)\n    .then((annotations) => {\n      return annotations.annotations.filter((a) => {\n        return a.type === type;\n      });\n    })\n    .then((annotations) => {\n      annotations.forEach((a) => {\n        removeAnnotation(documentId, a.uuid);\n      });\n\n      return annotations;\n    })\n    .then(renderScreenReaderHints);\n}\n\n/**\n * Remove the screen reader hint for an annotation\n *\n * @param {String} documentId The ID of the document\n * @param {String} annotationId The Id of the annotation\n */\nfunction removeAnnotation(documentId, annotationId) {\n  removeElementById(`pdf-annotate-screenreader-${annotationId}`);\n  removeElementById(`pdf-annotate-screenreader-${annotationId}-end`);\n}\n\n/**\n * Insert a screen reader hint for a comment\n *\n * @param {String} documentId The ID of the document\n * @param {String} annotationId The ID of tha assocated annotation\n * @param {Object} comment The comment to insert a hint for\n */\nfunction insertComment(documentId, annotationId, comment) {\n  let list = document.querySelector(`pdf-annotate-screenreader-comment-list-${annotationId}`);\n  let promise;\n\n  if (!list) {\n    promise = renderScreenReaderComments(documentId, annotationId, []).then(() => {\n      list = document.querySelector(`pdf-annotate-screenreader-comment-list-${annotationId}`);\n      return true;\n    });\n  } else {\n    promise = Promise.resolve(true);\n  }\n\n  promise.then(() => {\n    insertScreenReaderComment(comment);\n  });\n}\n\n/**\n * Remove a screen reader hint for a comment\n *\n * @param {String} documentId The ID of the document\n * @param {String} commentId The ID of the comment\n */\nfunction removeComment(documentId, commentId) {\n  removeElementById(`pdf-annotate-screenreader-comment-${commentId}`);\n}\n\n/**\n * Remove an element from the DOM by it's ID if it exists\n *\n * @param {String} elementID The ID of the element to be removed\n */\nfunction removeElementById(elementId) {\n  let el = document.getElementById(elementId);\n  if (el) {\n    el.parentNode.removeChild(el);\n  }\n}\n","import insertScreenReaderHint from './insertScreenReaderHint';\nimport initEventHandlers from './initEventHandlers';\n\n// TODO This is not the right place for this to live\ninitEventHandlers();\n\n/**\n * Insert hints into the DOM for screen readers.\n *\n * @param {Array} annotations The annotations that hints are inserted for\n */\nexport default function renderScreenReaderHints(annotations) {\n  annotations = Array.isArray(annotations) ? annotations : [];\n\n  // Insert hints for each type\n  Object.keys(SORT_TYPES).forEach((type) => {\n    let sortBy = SORT_TYPES[type];\n    annotations\n      .filter((a) => a.type === type)\n      .sort(sortBy)\n      .forEach((a, i) => insertScreenReaderHint(a, i + 1));\n  });\n}\n\n// Sort annotations first by y, then by x.\n// This allows hints to be injected in the order they appear,\n// which makes numbering them easier.\nfunction sortByPoint(a, b) {\n  if (a.y < b.y) {\n    return a.x - b.x;\n  } else {\n    return 1;\n  }\n}\n\n// Sort annotation by it's first rectangle\nfunction sortByRectPoint(a, b) {\n  return sortByPoint(a.rectangles[0], b.rectangles[0]);\n}\n\n// Sort annotation by it's first line\nfunction sortByLinePoint(a, b) {\n  let lineA = a.lines[0];\n  let lineB = b.lines[0];\n  return sortByPoint(\n    {x: lineA[0], y: lineA[1]},\n    {x: lineB[0], y: lineB[1]}\n  );\n}\n\n// Arrange supported types and associated sort methods\nconst SORT_TYPES = {\n  'highlight': sortByRectPoint,\n  'strikeout': sortByRectPoint,\n  'drawing': sortByLinePoint,\n  'textbox': sortByPoint,\n  'point': sortByPoint,\n  'area': sortByPoint\n};\n\n","import PDFJSAnnotate from '../PDFJSAnnotate';\n\nimport appendChild from '../render/appendChild';\nimport {\n  addEventListener,\n  removeEventListener\n} from './event';\nimport {\n  BORDER_COLOR,\n  disableUserSelect,\n  enableUserSelect,\n  findSVGContainer,\n  findSVGAtPoint,\n  getAnnotationRect,\n  getMetadata,\n  scaleDown,\n  scaleUp\n} from './utils';\n\nlet _enabled = false;\nlet isDragging = false, overlay;\nlet dragOffsetX, dragOffsetY, dragStartX, dragStartY;\nconst OVERLAY_BORDER_SIZE = 3;\n\n/**\n * Create an overlay for editing an annotation.\n *\n * @param {Element} target The annotation element to apply overlay for\n */\nfunction createEditOverlay(target) {\n  destroyEditOverlay();\n\n  overlay = document.createElement('div');\n  let anchor = document.createElement('a');\n  let parentNode = findSVGContainer(target).parentNode;\n  let id = target.getAttribute('data-pdf-annotate-id');\n  let rect = getAnnotationRect(target);\n  let styleLeft = rect.left - OVERLAY_BORDER_SIZE;\n  let styleTop = rect.top - OVERLAY_BORDER_SIZE;\n  \n  overlay.setAttribute('id', 'pdf-annotate-edit-overlay');\n  overlay.setAttribute('data-target-id', id);\n  overlay.style.boxSizing = 'content-box';\n  overlay.style.position = 'absolute';\n  overlay.style.top = `${styleTop}px`;\n  overlay.style.left = `${styleLeft}px`;\n  overlay.style.width = `${rect.width}px`;\n  overlay.style.height = `${rect.height}px`;\n  overlay.style.border = `${OVERLAY_BORDER_SIZE}px solid ${BORDER_COLOR}`;\n  overlay.style.borderRadius = `${OVERLAY_BORDER_SIZE}px`;\n\n  anchor.innerHTML = '×';\n  anchor.setAttribute('href', 'javascript://');\n  anchor.style.background = '#fff';\n  anchor.style.borderRadius = '20px';\n  anchor.style.border = '1px solid #bbb';\n  anchor.style.color = '#bbb';\n  anchor.style.fontSize = '16px';\n  anchor.style.padding = '2px';\n  anchor.style.textAlign = 'center';\n  anchor.style.textDecoration = 'none';\n  anchor.style.position = 'absolute';\n  anchor.style.top = '-13px';\n  anchor.style.right = '-13px';\n  anchor.style.width = '25px';\n  anchor.style.height = '25px';\n  \n  overlay.appendChild(anchor);\n  parentNode.appendChild(overlay);\n  document.addEventListener('click', handleDocumentClick);\n  document.addEventListener('keyup', handleDocumentKeyup);\n  document.addEventListener('mousedown', handleDocumentMousedown);\n  anchor.addEventListener('click', deleteAnnotation);\n  anchor.addEventListener('mouseover', () => {\n    anchor.style.color = '#35A4DC';\n    anchor.style.borderColor = '#999';\n    anchor.style.boxShadow = '0 1px 1px #ccc';\n  });\n  anchor.addEventListener('mouseout', () => {\n    anchor.style.color = '#bbb';\n    anchor.style.borderColor = '#bbb';\n    anchor.style.boxShadow = '';\n  });\n  overlay.addEventListener('mouseover', () => {\n    if (!isDragging) { anchor.style.display = ''; }\n  });\n  overlay.addEventListener('mouseout', () => {\n    anchor.style.display = 'none';\n  });\n}\n\n/**\n * Destroy the edit overlay if it exists.\n */\nfunction destroyEditOverlay() {\n  if (overlay) {\n    overlay.parentNode.removeChild(overlay);\n    overlay = null;\n  }\n\n  document.removeEventListener('click', handleDocumentClick);\n  document.removeEventListener('keyup', handleDocumentKeyup);\n  document.removeEventListener('mousedown', handleDocumentMousedown);\n  document.removeEventListener('mousemove', handleDocumentMousemove);\n  document.removeEventListener('mouseup', handleDocumentMouseup);\n  enableUserSelect();\n}\n\n/**\n * Delete currently selected annotation\n */\nfunction deleteAnnotation() {\n  if (!overlay) { return; }\n\n  let annotationId = overlay.getAttribute('data-target-id');\n  let nodes = document.querySelectorAll(`[data-pdf-annotate-id=\"${annotationId}\"]`);\n  let svg = overlay.parentNode.querySelector('svg.annotationLayer');\n  let { documentId } = getMetadata(svg);\n\n  [...nodes].forEach((n) => {\n    n.parentNode.removeChild(n);\n  });\n  \n  PDFJSAnnotate.getStoreAdapter().deleteAnnotation(documentId, annotationId);\n\n  destroyEditOverlay();\n}\n\n/**\n * Handle document.click event\n *\n * @param {Event} e The DOM event that needs to be handled\n */\nfunction handleDocumentClick(e) {\n  if (!findSVGAtPoint(e.clientX, e.clientY)) { return; }\n\n  // Remove current overlay\n  let overlay = document.getElementById('pdf-annotate-edit-overlay');\n  if (overlay) {\n    if (isDragging || e.target === overlay) {\n      return;\n    }\n\n    destroyEditOverlay();\n  }\n}\n\n/**\n * Handle document.keyup event\n *\n * @param {Event} e The DOM event that needs to be handled\n */\nfunction handleDocumentKeyup(e) {\n  if (overlay && e.keyCode === 46 &&\n      e.target.nodeName.toLowerCase() !== 'textarea' &&\n      e.target.nodeName.toLowerCase() !== 'input') {\n    deleteAnnotation();\n  }\n}\n\n/**\n * Handle document.mousedown event\n *\n * @param {Event} e The DOM event that needs to be handled\n */\nfunction handleDocumentMousedown(e) {\n  if (e.target !== overlay) { return; }\n\n  // Highlight and strikeout annotations are bound to text within the document.\n  // It doesn't make sense to allow repositioning these types of annotations.\n  let annotationId = overlay.getAttribute('data-target-id');\n  let target = document.querySelector(`[data-pdf-annotate-id=\"${annotationId}\"]`);\n  let type = target.getAttribute('data-pdf-annotate-type');\n\n  if (type === 'highlight' || type === 'strikeout') { return; }\n\n  isDragging = true;\n  dragOffsetX = e.clientX;\n  dragOffsetY = e.clientY;\n  dragStartX = overlay.offsetLeft;\n  dragStartY = overlay.offsetTop;\n\n  overlay.style.background = 'rgba(255, 255, 255, 0.7)';\n  overlay.style.cursor = 'move';\n  overlay.querySelector('a').style.display = 'none';\n\n  document.addEventListener('mousemove', handleDocumentMousemove);\n  document.addEventListener('mouseup', handleDocumentMouseup);\n  disableUserSelect();\n}\n\n/**\n * Handle document.mousemove event\n *\n * @param {Event} e The DOM event that needs to be handled\n */\nfunction handleDocumentMousemove(e) {\n  let annotationId = overlay.getAttribute('data-target-id');\n  let parentNode = overlay.parentNode;\n  let rect = parentNode.getBoundingClientRect();\n  let y = (dragStartY + (e.clientY - dragOffsetY));\n  let x = (dragStartX + (e.clientX - dragOffsetX));\n  let minY = 0;\n  let maxY = rect.height;\n  let minX = 0;\n  let maxX = rect.width;\n\n  if (y > minY && y + overlay.offsetHeight < maxY) {\n    overlay.style.top = `${y}px`;\n  }\n\n  if (x > minX && x + overlay.offsetWidth < maxX) {\n    overlay.style.left = `${x}px`;\n  }\n}\n\n/**\n * Handle document.mouseup event\n *\n * @param {Event} e The DOM event that needs to be handled\n */\nfunction handleDocumentMouseup(e) {\n  let annotationId = overlay.getAttribute('data-target-id');\n  let target = document.querySelectorAll(`[data-pdf-annotate-id=\"${annotationId}\"]`);\n  let type = target[0].getAttribute('data-pdf-annotate-type');\n  let svg = overlay.parentNode.querySelector('svg.annotationLayer');\n  let { documentId } = getMetadata(svg);\n  \n  overlay.querySelector('a').style.display = '';\n\n  function getDelta(propX, propY) {\n    return calcDelta(parseInt(target[0].getAttribute(propX), 10), parseInt(target[0].getAttribute(propY), 10));\n  }\n\n  function calcDelta(x, y) {\n    return {\n      deltaX: OVERLAY_BORDER_SIZE + scaleDown(svg, {x: overlay.offsetLeft}).x - x,\n      deltaY: OVERLAY_BORDER_SIZE + scaleDown(svg, {y: overlay.offsetTop}).y - y\n    };\n  }\n\n  PDFJSAnnotate.getStoreAdapter().getAnnotation(documentId, annotationId).then((annotation) => {\n    if (['area', 'highlight', 'point', 'textbox'].indexOf(type) > -1) {\n      let { deltaX, deltaY } = getDelta('x', 'y');\n      [...target].forEach((t, i) => {\n        if (deltaY !== 0) {\n          let modelY = parseInt(t.getAttribute('y'), 10) + deltaY;\n          let viewY = modelY;\n\n          if (type === 'textbox') {\n            viewY += annotation.size;\n          }\n\n          if (type === 'point') {\n            viewY = scaleUp(svg, { viewY }).viewY;\n          }\n\n          t.setAttribute('y', viewY);\n          if (annotation.rectangles) {\n            annotation.rectangles[i].y = modelY;\n          } else if (annotation.y) {\n            annotation.y = modelY;\n          }\n        }\n        if (deltaX !== 0) {\n          let modelX = parseInt(t.getAttribute('x'), 10) + deltaX;\n          let viewX = modelX;\n\n          if (type === 'point') {\n            viewX = scaleUp(svg, { viewX }).viewX;\n          }\n\n          t.setAttribute('x', viewX);\n          if (annotation.rectangles) {\n            annotation.rectangles[i].x = modelX;\n          } else if (annotation.x) {\n            annotation.x = modelX;\n          }\n        }\n      });\n    // } else if (type === 'strikeout') {\n    //   let { deltaX, deltaY } = getDelta('x1', 'y1');\n    //   [...target].forEach(target, (t, i) => {\n    //     if (deltaY !== 0) {\n    //       t.setAttribute('y1', parseInt(t.getAttribute('y1'), 10) + deltaY);\n    //       t.setAttribute('y2', parseInt(t.getAttribute('y2'), 10) + deltaY);\n    //       annotation.rectangles[i].y = parseInt(t.getAttribute('y1'), 10);\n    //     }\n    //     if (deltaX !== 0) {\n    //       t.setAttribute('x1', parseInt(t.getAttribute('x1'), 10) + deltaX);\n    //       t.setAttribute('x2', parseInt(t.getAttribute('x2'), 10) + deltaX);\n    //       annotation.rectangles[i].x = parseInt(t.getAttribute('x1'), 10);\n    //     }\n    //   });\n    } else if (type === 'drawing') {\n      let rect = scaleDown(svg, getAnnotationRect(target[0]));\n      let [originX, originY] = annotation.lines[0];\n      let { deltaX, deltaY } = calcDelta(originX, originY);\n\n      // origin isn't necessarily at 0/0 in relation to overlay x/y\n      // adjust the difference between overlay and drawing coords\n      deltaY += (originY - rect.top);\n      deltaX += (originX - rect.left);\n\n      annotation.lines.forEach((line, i) => {\n        let [x, y] = annotation.lines[i];\n        annotation.lines[i][0] = x + deltaX;\n        annotation.lines[i][1] = y + deltaY;\n      });\n\n      target[0].parentNode.removeChild(target[0]);\n      appendChild(svg, annotation);\n    }\n\n    PDFJSAnnotate.getStoreAdapter().editAnnotation(documentId, annotationId, annotation);\n  });\n\n  setTimeout(() => {\n    isDragging = false;\n  }, 0);\n\n  overlay.style.background = '';\n  overlay.style.cursor = '';\n\n  document.removeEventListener('mousemove', handleDocumentMousemove);\n  document.removeEventListener('mouseup', handleDocumentMouseup);\n  enableUserSelect();\n}\n\n/**\n * Handle annotation.click event\n *\n * @param {Element} e The annotation element that was clicked\n */\nfunction handleAnnotationClick(target) {\n  createEditOverlay(target);\n}\n\n/**\n * Enable edit mode behavior.\n */\nexport function enableEdit () {\n  if (_enabled) { return; }\n\n  _enabled = true;\n  addEventListener('annotation:click', handleAnnotationClick);\n};\n\n/**\n * Disable edit mode behavior.\n */\nexport function disableEdit () {\n  destroyEditOverlay();\n\n  if (!_enabled) { return; }\n\n  _enabled = false;\n  removeEventListener('annotation:click', handleAnnotationClick);\n};\n\n","import PDFJSAnnotate from '../PDFJSAnnotate';\nimport appendChild from '../render/appendChild';\nimport {\n  disableUserSelect,\n  enableUserSelect,\n  findSVGAtPoint,\n  getMetadata,\n  scaleDown\n} from './utils';\n\nlet _enabled = false;\nlet _penSize;\nlet _penColor;\nlet path;\nlet lines;\n\n/**\n * Handle document.mousedown event\n */\nfunction handleDocumentMousedown() {\n  path = null;\n  lines = [];\n\n  document.addEventListener('mousemove', handleDocumentMousemove);\n  document.addEventListener('mouseup', handleDocumentMouseup);\n}\n\n/**\n * Handle document.mouseup event\n *\n * @param {Event} e The DOM event to be handled\n */\nfunction handleDocumentMouseup(e) {\n  let svg;\n  if (lines.length > 1 && (svg = findSVGAtPoint(e.clientX, e.clientY))) {\n    let { documentId, pageNumber } = getMetadata(svg);\n\n    PDFJSAnnotate.getStoreAdapter().addAnnotation(documentId, pageNumber, {\n        type: 'drawing',\n        width: _penSize,\n        color: _penColor,\n        lines\n      }\n    ).then((annotation) => {\n      if (path) {\n        svg.removeChild(path);\n      }\n\n      appendChild(svg, annotation);\n    });\n  }\n\n  document.removeEventListener('mousemove', handleDocumentMousemove);\n  document.removeEventListener('mouseup', handleDocumentMouseup);\n}\n\n/**\n * Handle document.mousemove event\n *\n * @param {Event} e The DOM event to be handled\n */\nfunction handleDocumentMousemove(e) {\n  savePoint(e.clientX, e.clientY);\n}\n\n/**\n * Handle document.keyup event\n *\n * @param {Event} e The DOM event to be handled\n */\nfunction handleDocumentKeyup(e) {\n  // Cancel rect if Esc is pressed\n  if (e.keyCode === 27) {\n    lines = null;\n    path.parentNode.removeChild(path);\n    document.removeEventListener('mousemove', handleDocumentMousemove);\n    document.removeEventListener('mouseup', handleDocumentMouseup);\n  }\n}\n\n/**\n * Save a point to the line being drawn.\n *\n * @param {Number} x The x coordinate of the point\n * @param {Number} y The y coordinate of the point\n */\nfunction savePoint(x, y) {\n  let svg = findSVGAtPoint(x, y);\n  if (!svg) {\n    return;\n  }\n\n  let rect = svg.getBoundingClientRect();\n  let point = scaleDown(svg, {\n    x: x - rect.left,\n    y: y - rect.top\n  });\n\n  lines.push([point.x, point.y]);\n\n  if (lines.length <= 1) {\n    return;\n  }\n\n  if (path) {\n    svg.removeChild(path);\n  }\n\n  path = appendChild(svg, {\n    type: 'drawing',\n    color: _penColor,\n    width: _penSize,\n    lines\n  });\n}\n\n/**\n * Set the attributes of the pen.\n *\n * @param {Number} penSize The size of the lines drawn by the pen\n * @param {String} penColor The color of the lines drawn by the pen\n */\nexport function setPen(penSize = 1, penColor = '000000') {\n  _penSize = parseInt(penSize, 10);\n  _penColor = penColor;\n}\n\n/**\n * Enable the pen behavior\n */\nexport function enablePen() {\n  if (_enabled) { return; }\n\n  _enabled = true;\n  document.addEventListener('mousedown', handleDocumentMousedown);\n  document.addEventListener('keyup', handleDocumentKeyup);\n  disableUserSelect();\n}\n\n/**\n * Disable the pen behavior\n */\nexport function disablePen() {\n  if (!_enabled) { return; }\n\n  _enabled = false;\n  document.removeEventListener('mousedown', handleDocumentMousedown);\n  document.removeEventListener('keyup', handleDocumentKeyup);\n  enableUserSelect();\n}\n\n","import PDFJSAnnotate from '../PDFJSAnnotate';\nimport appendChild from '../render/appendChild';\nimport {\n  BORDER_COLOR,\n  findSVGAtPoint,\n  getMetadata,\n  scaleDown\n} from './utils';\n\nlet _enabled = false;\nlet input;\n\n/**\n * Handle document.mouseup event\n *\n * @param {Event} The DOM event to be handled\n */\nfunction handleDocumentMouseup(e) {\n  if (input || !findSVGAtPoint(e.clientX, e.clientY)) {\n    return\n  }\n  \n  input = document.createElement('input');\n  input.setAttribute('id', 'pdf-annotate-point-input');\n  input.setAttribute('placeholder', 'Enter comment');\n  input.style.border = `3px solid ${BORDER_COLOR}`;\n  input.style.borderRadius = '3px';\n  input.style.position = 'absolute';\n  input.style.top = `${e.clientY}px`;\n  input.style.left = `${e.clientX}px`;\n\n  input.addEventListener('blur', handleInputBlur);\n  input.addEventListener('keyup', handleInputKeyup);\n\n  document.body.appendChild(input);\n  input.focus();\n}\n\n/**\n * Handle input.blur event\n */\nfunction handleInputBlur() {\n  savePoint();\n}\n\n/**\n * Handle input.keyup event\n *\n * @param {Event} e The DOM event to handle\n */\nfunction handleInputKeyup(e) {\n  if (e.keyCode === 27) {\n    closeInput();\n  } else if (e.keyCode === 13) {\n    savePoint();\n  }\n}\n\n/**\n * Save a new point annotation from input\n */\nfunction savePoint() {\n  if (input.value.trim().length > 0) {\n    let clientX = parseInt(input.style.left, 10);\n    let clientY = parseInt(input.style.top, 10);\n    let content = input.value.trim();\n    let svg = findSVGAtPoint(clientX, clientY);\n    if (!svg) {\n      return;\n    }\n\n    let rect = svg.getBoundingClientRect();\n    let { documentId, pageNumber } = getMetadata(svg);\n    let annotation = Object.assign({\n        type: 'point'\n      }, scaleDown(svg, {\n        x: clientX - rect.left,\n        y: clientY - rect.top\n      })\n    );\n\n    PDFJSAnnotate.getStoreAdapter().addAnnotation(documentId, pageNumber, annotation)\n      .then((annotation) => {\n        PDFJSAnnotate.getStoreAdapter().addComment(\n          documentId,\n          annotation.uuid,\n          content\n        );\n\n        appendChild(svg, annotation);\n      });\n  }\n\n  closeInput();\n}\n\n/**\n * Close the input element\n */\nfunction closeInput() {\n  input.removeEventListener('blur', handleInputBlur);\n  input.removeEventListener('keyup', handleInputKeyup);\n  document.body.removeChild(input);\n  input = null;\n}\n\n/**\n * Enable point annotation behavior\n */\nexport function enablePoint() {\n  if (_enabled) { return; }\n\n  _enabled = true;\n  document.addEventListener('mouseup', handleDocumentMouseup);\n}\n\n/**\n * Disable point annotation behavior\n */\nexport function disablePoint() {\n  if (!_enabled) { return; }\n\n  _enabled = false;\n  document.removeEventListener('mouseup', handleDocumentMouseup);\n}\n\n","import PDFJSAnnotate from '../PDFJSAnnotate';\nimport appendChild from '../render/appendChild';\nimport {\n  BORDER_COLOR,\n  disableUserSelect,\n  enableUserSelect,\n  findSVGAtPoint,\n  getMetadata,\n  getOffset,\n  scaleDown,\n  scaleUp\n} from './utils';\n\nlet _enabled = false;\nlet _type;\nlet overlay;\nlet originY;\nlet originX;\n\n/**\n * Get the current window selection as rects\n *\n * @return {Array} An Array of rects\n */\nfunction getSelectionRects() {\n  try {\n    let selection = window.getSelection();\n    let range = selection.getRangeAt(0);\n    let rects = range.getClientRects();\n\n    if (rects.length > 0 &&\n        rects[0].width > 0 &&\n        rects[0].height > 0) {\n      return rects;\n    }\n  } catch (e) {}\n  \n  return null;\n}\n\n/**\n * Handle document.mousedown event\n *\n * @param {Event} e The DOM event to handle\n */\nfunction handleDocumentMousedown(e) {\n  let svg;\n  if (_type !== 'area' || !(svg = findSVGAtPoint(e.clientX, e.clientY))) {\n    return;\n  }\n\n  let rect = svg.getBoundingClientRect();\n  originY = e.clientY;\n  originX = e.clientX;\n\n  overlay = document.createElement('div');\n  overlay.style.position = 'absolute';\n  overlay.style.top = `${originY - rect.top}px`;\n  overlay.style.left = `${originX - rect.left}px`;\n  overlay.style.border = `3px solid ${BORDER_COLOR}`;\n  overlay.style.borderRadius = '3px';\n  svg.parentNode.appendChild(overlay);\n  \n  document.addEventListener('mousemove', handleDocumentMousemove);\n  disableUserSelect();\n}\n\n/**\n * Handle document.mousemove event\n *\n * @param {Event} e The DOM event to handle\n */\nfunction handleDocumentMousemove(e) {\n  let svg = overlay.parentNode.querySelector('svg.annotationLayer');\n  let rect = svg.getBoundingClientRect();\n\n  if (originX + (e.clientX - originX) < rect.right) {\n    overlay.style.width = `${e.clientX - originX}px`;\n  }\n\n  if (originY + (e.clientY - originY) < rect.bottom) {\n    overlay.style.height = `${e.clientY - originY}px`;\n  }\n}\n\n/**\n * Handle document.mouseup event\n *\n * @param {Event} e The DOM event to handle\n */\nfunction handleDocumentMouseup(e) {\n  let rects;\n  if (_type !== 'area' && (rects = getSelectionRects())) {\n    let svg = findSVGAtPoint(rects[0].left, rects[0].top);\n    saveRect(_type, [...rects].map((r) => {\n      return {\n        top: r.top,\n        left: r.left,\n        width: r.width,\n        height: r.height\n      };\n    }));\n  } else if (_type === 'area' && overlay) {\n    let svg = overlay.parentNode.querySelector('svg.annotationLayer');\n    let rect = svg.getBoundingClientRect();\n    saveRect(_type, [{\n      top: parseInt(overlay.style.top, 10) + rect.top,\n      left: parseInt(overlay.style.left, 10) + rect.left,\n      width: parseInt(overlay.style.width, 10),\n      height: parseInt(overlay.style.height, 10)\n    }]);\n\n    overlay.parentNode.removeChild(overlay);\n    overlay = null;\n\n    document.removeEventListener('mousemove', handleDocumentMousemove);\n    enableUserSelect();\n  }\n}\n\n/**\n * Handle document.keyup event\n *\n * @param {Event} e The DOM event to handle\n */\nfunction handleDocumentKeyup(e) {\n  // Cancel rect if Esc is pressed\n  if (e.keyCode === 27) {\n    let selection = window.getSelection();\n    selection.removeAllRanges();\n    if (overlay && overlay.parentNode) {\n      overlay.parentNode.removeChild(overlay);\n      overlay = null;\n      document.removeEventListener('mousemove', handleDocumentMousemove);\n    }\n  }\n}\n\n/**\n * Save a rect annotation\n *\n * @param {String} type The type of rect (area, highlight, strikeout)\n * @param {Array} rects The rects to use for annotation\n * @param {String} color The color of the rects\n */\nfunction saveRect(type, rects, color) {\n  let svg = findSVGAtPoint(rects[0].left, rects[0].top);\n  let node;\n  let annotation;\n\n  if (!svg) {\n    return;\n  }\n\n  let boundingRect = svg.getBoundingClientRect();\n\n  if (!color) {\n    if (type === 'highlight') {\n      color = 'FFFF00';\n    } else if (type === 'strikeout') {\n      color = 'FF0000';\n    }\n  }\n\n  // Initialize the annotation\n  annotation = {\n    type,\n    color,\n    rectangles: [...rects].map((r) => {\n      let offset = 0;\n\n      if (type === 'strikeout') {\n        offset = r.height / 2;\n      }\n\n      return scaleDown(svg, {\n        y: (r.top + offset) - boundingRect.top,\n        x: r.left - boundingRect.left,\n        width: r.width,\n        height: r.height\n      });\n    }).filter((r) => r.width > 0 && r.height > 0 && r.x > -1 && r.y > -1)\n  };\n  \n  // Short circuit if no rectangles exist\n  if (annotation.rectangles.length === 0) {\n    return;\n  }\n\n  // Special treatment for area as it only supports a single rect\n  if (type === 'area') {\n    let rect = annotation.rectangles[0];\n    delete annotation.rectangles;\n    annotation.x = rect.x;\n    annotation.y = rect.y;\n    annotation.width = rect.width;\n    annotation.height = rect.height;\n  }\n\n  let { documentId, pageNumber } = getMetadata(svg);\n\n  // Add the annotation\n  PDFJSAnnotate.getStoreAdapter().addAnnotation(documentId, pageNumber, annotation)\n    .then((annotation) => {\n      appendChild(svg, annotation);\n    });\n}\n\n/**\n * Enable rect behavior\n */\nexport function enableRect(type) {\n  _type = type;\n  \n  if (_enabled) { return; }\n\n  _enabled = true;\n  document.addEventListener('mouseup', handleDocumentMouseup);\n  document.addEventListener('mousedown', handleDocumentMousedown);\n  document.addEventListener('keyup', handleDocumentKeyup);\n}\n\n/**\n * Disable rect behavior\n */\nexport function disableRect() {\n  if (!_enabled) { return; }\n\n  _enabled = false;\n  document.removeEventListener('mouseup', handleDocumentMouseup);\n  document.removeEventListener('mousedown', handleDocumentMousedown);\n  document.removeEventListener('keyup', handleDocumentKeyup);\n}\n\n","import PDFJSAnnotate from '../PDFJSAnnotate';\nimport appendChild from '../render/appendChild';\nimport {\n  BORDER_COLOR,\n  findSVGAtPoint,\n  getMetadata,\n  scaleDown\n} from './utils';\n\nlet _enabled = false;\nlet input;\nlet _textSize;\nlet _textColor;\n\n/**\n * Handle document.mouseup event\n *\n * @param {Event} e The DOM event to handle\n */\nfunction handleDocumentMouseup(e) {\n  if (input || !findSVGAtPoint(e.clientX, e.clientY)) {\n    return;\n  }\n\n  input = document.createElement('input');\n  input.setAttribute('id', 'pdf-annotate-text-input');\n  input.setAttribute('placeholder', 'Enter text');\n  input.style.border = `3px solid ${BORDER_COLOR}`;\n  input.style.borderRadius = '3px';\n  input.style.position = 'absolute';\n  input.style.top = `${e.clientY}px`;\n  input.style.left = `${e.clientX}px`;\n  input.style.fontSize = `${_textSize}px`;\n\n  input.addEventListener('blur', handleInputBlur);\n  input.addEventListener('keyup', handleInputKeyup);\n\n  document.body.appendChild(input);\n  input.focus();\n}\n\n/**\n * Handle input.blur event\n */\nfunction handleInputBlur() {\n  saveText();\n}\n\n/**\n * Handle input.keyup event\n *\n * @param {Event} e The DOM event to handle\n */\nfunction handleInputKeyup(e) {\n  if (e.keyCode === 27) {\n    closeInput();\n  } else if (e.keyCode === 13) {\n    saveText();\n  }\n}\n\n/**\n * Save a text annotation from input\n */\nfunction saveText() {\n  if (input.value.trim().length > 0) {\n    let clientX = parseInt(input.style.left, 10);\n    let clientY = parseInt(input.style.top, 10);\n    let svg = findSVGAtPoint(clientX, clientY);\n    if (!svg) {\n      return;\n    }\n\n    let { documentId, pageNumber } = getMetadata(svg);\n    let rect = svg.getBoundingClientRect();\n    let annotation = Object.assign({\n        type: 'textbox',\n        size: _textSize,\n        color: _textColor,\n        content: input.value.trim()\n      }, scaleDown(svg, {\n        x: clientX - rect.left,\n        y: clientY -  rect.top,\n        width: input.offsetWidth,\n        height: input.offsetHeight\n      })\n    );\n\n    PDFJSAnnotate.getStoreAdapter().addAnnotation(documentId, pageNumber, annotation)\n      .then((annotation) => {\n        appendChild(svg, annotation);\n      });\n  }\n  \n  closeInput();\n}\n\n/**\n * Close the input\n */\nfunction closeInput() {\n  if (input) {\n    input.removeEventListener('blur', handleInputBlur);\n    input.removeEventListener('keyup', handleInputKeyup);\n    document.body.removeChild(input);\n    input = null;\n  }\n}\n\n/**\n * Set the text attributes\n *\n * @param {Number} textSize The size of the text\n * @param {String} textColor The color of the text\n */\nexport function setText(textSize = 12, textColor = '000000') {\n  _textSize = parseInt(textSize, 10);\n  _textColor = textColor;\n}\n\n\n/**\n * Enable text behavior\n */\nexport function enableText() {\n  if (_enabled) { return; }\n\n  _enabled = true;\n  document.addEventListener('mouseup', handleDocumentMouseup);\n}\n\n\n/**\n * Disable text behavior\n */\nexport function disableText() {\n  if (!_enabled) { return; }\n\n  _enabled = false;\n  document.removeEventListener('mouseup', handleDocumentMouseup);\n}\n\n","import PDFJSAnnotate from '../PDFJSAnnotate';\nimport renderScreenReaderHints from '../a11y/renderScreenReaderHints';\n\n// Template for creating a new page\nconst PAGE_TEMPLATE = `\n  <div style=\"visibility: hidden;\" class=\"page\" data-loaded=\"false\">\n    <div class=\"canvasWrapper\">\n      <canvas></canvas>\n    </div>\n    <svg class=\"annotationLayer\"></svg>\n    <div class=\"textLayer\"></div>\n  </div>\n`;\n\n/**\n * Create a new page to be appended to the DOM.\n *\n * @param {Number} pageNumber The page number that is being created\n * @return {HTMLElement}\n */\nexport function createPage(pageNumber) {\n  let temp = document.createElement('div');\n  temp.innerHTML = PAGE_TEMPLATE;\n\n  let page = temp.children[0];\n  let canvas = page.querySelector('canvas');\n\n  page.setAttribute('id', `pageContainer${pageNumber}`);\n  page.setAttribute('data-page-number', pageNumber);\n\n  canvas.mozOpaque = true;\n  canvas.setAttribute('id', `page${pageNumber}`);\n\n  return page;\n}\n\n/**\n * Render a page that has already been created.\n *\n * @param {Number} pageNumber The page number to be rendered\n * @param {Object} renderOptions The options for rendering\n * @return {Promise} Settled once rendering has completed\n *  A settled Promise will be either:\n *    - fulfilled: [pdfPage, annotations]\n *    - rejected: Error\n */\nexport function renderPage(pageNumber, renderOptions) {\n  let {\n    documentId,\n    pdfDocument,\n    scale,\n    rotate\n  } = renderOptions;\n\n  // Load the page and annotations\n  return Promise.all([\n    pdfDocument.getPage(pageNumber),\n    PDFJSAnnotate.getAnnotations(documentId, pageNumber)\n  ]).then(([pdfPage, annotations]) => {\n    let page = document.getElementById(`pageContainer${pageNumber}`);\n    let svg = page.querySelector('.annotationLayer');\n    let canvas = page.querySelector('.canvasWrapper canvas');\n    let canvasContext = canvas.getContext('2d', {alpha: false});\n    let viewport = pdfPage.getViewport(scale, rotate);\n    let transform = scalePage(pageNumber, viewport, canvasContext);\n\n    // Render the page\n    return Promise.all([\n      pdfPage.render({ canvasContext, viewport, transform }),\n      PDFJSAnnotate.render(svg, viewport, annotations)\n    ]).then(() => {\n      // Text content is needed for a11y, but is also necessary for creating\n      // highlight and strikeout annotations which require selecting text.\n      return pdfPage.getTextContent({normalizeWhitespace: true}).then((textContent) => {\n        return new Promise((resolve, reject) => {\n          // Render text layer for a11y of text content\n          let textLayer = page.querySelector(`.textLayer`);\n          let textLayerFactory = new PDFJS.DefaultTextLayerFactory();\n          let textLayerBuilder = textLayerFactory.createTextLayerBuilder(textLayer, pageNumber -1, viewport);\n          textLayerBuilder.setTextContent(textContent);\n          textLayerBuilder.render();\n\n          // Enable a11y for annotations\n          // Timeout is needed to wait for `textLayerBuilder.render`\n          setTimeout(() => {\n            try {\n              renderScreenReaderHints(annotations.annotations);\n              resolve();\n            } catch (e) {\n              reject(e);\n            }\n          });\n        });\n      });\n    }).then(() => {\n      // Indicate that the page was loaded\n      page.setAttribute('data-loaded', 'true');\n\n      return [pdfPage, annotations];\n    });\n  });\n}\n\n/**\n * Scale the elements of a page.\n *\n * @param {Number} pageNumber The page number to be scaled\n * @param {Object} viewport The viewport of the PDF page (see pdfPage.getViewport(scale, rotate))\n * @param {Object} context The canvas context that the PDF page is rendered to\n * @return {Array} The transform data for rendering the PDF page\n */\nfunction scalePage(pageNumber, viewport, context) {\n  let page = document.getElementById(`pageContainer${pageNumber}`);\n  let canvas = page.querySelector('.canvasWrapper canvas');\n  let svg = page.querySelector('.annotationLayer');\n  let wrapper = page.querySelector('.canvasWrapper');\n  let textLayer = page.querySelector('.textLayer');\n  let outputScale = getOutputScale(context);\n  let transform = !outputScale.scaled ? null : [outputScale.sx, 0, 0, outputScale.sy, 0, 0];\n  let sfx = approximateFraction(outputScale.sx);\n  let sfy = approximateFraction(outputScale.sy);\n\n  // Adjust width/height for scale\n  page.style.visibility = '';\n  canvas.width = roundToDivide(viewport.width * outputScale.sx, sfx[0]);\n  canvas.height = roundToDivide(viewport.height * outputScale.sy, sfy[0]);\n  canvas.style.width = roundToDivide(viewport.width, sfx[1]) + 'px';\n  canvas.style.height = roundToDivide(viewport.height, sfx[1]) + 'px';\n  svg.setAttribute('width', viewport.width);\n  svg.setAttribute('height', viewport.height);\n  svg.style.width = `${viewport.width}px`;\n  svg.style.height = `${viewport.height}px`;\n  page.style.width = `${viewport.width}px`;\n  page.style.height = `${viewport.height}px`;\n  wrapper.style.width = `${viewport.width}px`;\n  wrapper.style.height = `${viewport.height}px`;\n  textLayer.style.width = `${viewport.width}px`;\n  textLayer.style.height = `${viewport.height}px`;\n\n  return transform;\n}\n\n/**\n * The following methods are taken from mozilla/pdf.js and as such fall under\n * the Apache License (http://www.apache.org/licenses/).\n *\n * Original source can be found at mozilla/pdf.js:\n * https://github.com/mozilla/pdf.js/blob/master/web/ui_utils.js\n */\n\n/**\n * Approximates a float number as a fraction using Farey sequence (max order\n * of 8).\n *\n * @param {Number} x Positive float number\n * @return {Array} Estimated fraction: the first array item is a numerator,\n *                 the second one is a denominator.\n */\nfunction approximateFraction(x) {\n  // Fast path for int numbers or their inversions.\n  if (Math.floor(x) === x) {\n    return [x, 1];\n  }\n\n  const xinv = 1 / x;\n  const limit = 8;\n  if (xinv > limit) {\n    return [1, limit];\n  } else if (Math.floor(xinv) === xinv) {\n    return [1, xinv];\n  }\n\n  const x_ = x > 1 ? xinv : x;\n  \n  // a/b and c/d are neighbours in Farey sequence.\n  let a = 0, b = 1, c = 1, d = 1;\n  \n  // Limit search to order 8.\n  while (true) {\n    // Generating next term in sequence (order of q).\n    let p = a + c, q = b + d;\n    if (q > limit) {\n      break;\n    }\n    if (x_ <= p / q) {\n      c = p; d = q;\n    } else {\n      a = p; b = q;\n    }\n  }\n\n  // Select closest of neighbours to x.\n  if (x_ - a / b < c / d - x_) {\n    return x_ === x ? [a, b] : [b, a];\n  } else {\n    return x_ === x ? [c, d] : [d, c];\n  }\n}\n\nfunction getOutputScale(ctx) {\n  let devicePixelRatio = window.devicePixelRatio || 1;\n  let backingStoreRatio = ctx.webkitBackingStorePixelRatio ||\n                          ctx.mozBackingStorePixelRatio ||\n                          ctx.msBackingStorePixelRatio ||\n                          ctx.oBackingStorePixelRatio ||\n                          ctx.backingStorePixelRatio || 1;\n  let pixelRatio = devicePixelRatio / backingStoreRatio;\n  return {\n    sx: pixelRatio,\n    sy: pixelRatio,\n    scaled: pixelRatio !== 1\n  };\n}\n\nfunction roundToDivide(x, div) {\n  let r = x % div;\n  return r === 0 ? x : Math.round(x - r + div);\n}\n","import { addEventListener, removeEventListener, fireEvent } from './event';\nimport { disableEdit, enableEdit } from './edit';\nimport { disablePen, enablePen, setPen } from './pen';\nimport { disablePoint, enablePoint } from './point';\nimport { disableRect, enableRect } from './rect';\nimport { disableText, enableText, setText } from './text';\nimport { createPage, renderPage } from './page';\n\nexport default {\n  addEventListener, removeEventListener, fireEvent,\n  disableEdit, enableEdit,\n  disablePen, enablePen, setPen,\n  disablePoint, enablePoint,\n  disableRect, enableRect,\n  disableText, enableText, setText,\n  createPage, renderPage\n};\n","import StoreAdapter from './adapter/StoreAdapter';\nimport LocalStoreAdapter from './adapter/LocalStoreAdapter';\nimport render from './render';\nimport UI from './UI';\n\nexport default {\n  /**\n   * Abstract class that needs to be defined so PDFJSAnnotate\n   * knows how to communicate with your server.\n   */\n  StoreAdapter,\n\n  /**\n   * Implementation of StoreAdapter that stores annotation data to localStorage.\n   */\n  LocalStoreAdapter,\n\n  /**\n   * Abstract instance of StoreAdapter\n   */\n  __storeAdapter: new StoreAdapter(),\n\n  /**\n   * Getter for the underlying StoreAdapter property\n   *\n   * @return {StoreAdapter}\n   */\n  getStoreAdapter() {\n    return this.__storeAdapter;\n  },\n\n  /**\n   * Setter for the underlying StoreAdapter property\n   *\n   * @param {StoreAdapter} adapter The StoreAdapter implementation to be used.\n   */\n  setStoreAdapter(adapter) {\n    // TODO this throws an error when bundled\n    // if (!(adapter instanceof StoreAdapter)) {\n    //   throw new Error('adapter must be an instance of StoreAdapter');\n    // }\n\n    this.__storeAdapter = adapter;\n  },\n\n  /**\n   * UI is a helper for instrumenting UI interactions for creating,\n   * editing, and deleting annotations in the browser.\n   */\n  UI,\n\n  /**\n   * Render the annotations for a page in the PDF Document\n   *\n   * @param {SVGElement} svg The SVG element that annotations should be rendered to\n   * @param {PageViewport} viewport The PDFPage.getViewport data\n   * @param {Object} data The StoreAdapter.getAnnotations data\n   * @return {Promise}\n   */\n  render,\n\n  /**\n   * Convenience method for getting annotation data\n   *\n   * @alias StoreAdapter.getAnnotations\n   * @param {String} documentId The ID of the document\n   * @param {String} pageNumber The page number\n   * @return {Promise}\n   */\n  getAnnotations(documentId, pageNumber) {\n    return this.getStoreAdapter().getAnnotations(...arguments);\n  }\n}\n","import PDFJSAnnotate from '../PDFJSAnnotate';\nimport appendChild from './appendChild';\nimport renderScreenReaderHints from '../a11y/renderScreenReaderHints';\n\n/**\n * Render the response from PDFJSAnnotate.getStoreAdapter().getAnnotations to SVG\n *\n * @param {SVGElement} svg The SVG element to render the annotations to\n * @param {Object} viewport The page viewport data\n * @param {Object} data The response from PDFJSAnnotate.getStoreAdapter().getAnnotations\n * @return {Promise} Settled once rendering has completed\n *  A settled Promise will be either:\n *    - fulfilled: SVGElement\n *    - rejected: Error\n */\nexport default function render(svg, viewport, data) {\n  return new Promise((resolve, reject) => {\n    // Reset the content of the SVG\n    svg.innerHTML = ''; \n    svg.setAttribute('data-pdf-annotate-container', true);\n    svg.setAttribute('data-pdf-annotate-viewport', JSON.stringify(viewport));\n    svg.removeAttribute('data-pdf-annotate-document');\n    svg.removeAttribute('data-pdf-annotate-page');\n\n    // If there's no data nothing can be done\n    if (!data) {\n      return resolve(svg);\n    }\n\n    svg.setAttribute('data-pdf-annotate-document', data.documentId);\n    svg.setAttribute('data-pdf-annotate-page', data.pageNumber);\n  \n    // Make sure annotations is an array\n    if (!Array.isArray(data.annotations) || data.annotations.length === 0) {\n      return resolve(svg);\n    }\n\n    // Append annotation to svg\n    data.annotations.forEach((a) => {\n      appendChild(svg, a, viewport);\n    });\n\n    resolve(svg);\n  });\n}\n","import PDFJSAnnotate from './src/PDFJSAnnotate';\n\nexport default PDFJSAnnotate;\n","// Color picker component\nconst COLORS = [\n  {hex: '#000000', name: 'Black'},\n  {hex: '#EF4437', name: 'Red'},\n  {hex: '#E71F63', name: 'Pink'},\n  {hex: '#8F3E97', name: 'Purple'},\n  {hex: '#65499D', name: 'Deep Purple'},\n  {hex: '#4554A4', name: 'Indigo'},\n  {hex: '#2083C5', name: 'Blue'},\n  {hex: '#35A4DC', name: 'Light Blue'},\n  {hex: '#09BCD3', name: 'Cyan'},\n  {hex: '#009688', name: 'Teal'},\n  {hex: '#43A047', name: 'Green'},\n  {hex: '#8BC34A', name: 'Light Green'},\n  {hex: '#FDC010', name: 'Yellow'},\n  {hex: '#F8971C', name: 'Orange'},\n  {hex: '#F0592B', name: 'Deep Orange'},\n  {hex: '#F06291', name: 'Light Pink'}\n];\n\nexport default function initColorPicker(el, value, onChange) {\n  function setColor(value, fireOnChange = true) {\n    currentValue = value;\n    a.setAttribute('data-color', value);\n    a.style.background = value;\n    if (fireOnChange && typeof onChange === 'function') {\n      onChange(value);\n    }\n    closePicker();\n  }\n\n  function togglePicker() {\n    if (isPickerOpen) {\n      closePicker();\n    } else {\n      openPicker();\n    }\n  }\n\n  function closePicker() {\n    document.removeEventListener('keyup', handleDocumentKeyup);\n    if (picker && picker.parentNode) {\n      picker.parentNode.removeChild(picker);\n    }\n    isPickerOpen = false;\n    a.focus();\n  }\n\n  function openPicker() {\n    if (!picker) {\n      picker = document.createElement('div');\n      picker.style.background = '#fff';\n      picker.style.border = '1px solid #ccc';\n      picker.style.padding = '2px';\n      picker.style.position = 'absolute';\n      picker.style.width = '122px';\n      el.style.position = 'relative';\n\n      COLORS.map(createColorOption).forEach((c) => {\n        c.style.margin = '2px';\n        c.onclick = function () { setColor(c.getAttribute('data-color')); };\n        picker.appendChild(c);\n      });\n    }\n\n    document.addEventListener('keyup', handleDocumentKeyup);\n    el.appendChild(picker);\n    isPickerOpen = true;\n  }\n\n  function createColorOption(color) {\n    let e = document.createElement('a');\n    e.className = 'color';\n    e.setAttribute('href', 'javascript://');\n    e.setAttribute('title', color.name);\n    e.setAttribute('data-color', color.hex);\n    e.style.background = color.hex;\n    return e;\n  }\n\n  function handleDocumentKeyup(e) {\n    if (e.keyCode === 27) {\n      closePicker();\n    }\n  }\n\n  let picker;\n  let isPickerOpen = false;\n  let currentValue;\n  let a = createColorOption({hex: value});\n  a.onclick = togglePicker;\n  el.appendChild(a);\n  setColor(value, false);\n}\n","import twitter from 'twitter-text';\nimport PDFJSAnnotate from '../';\nimport initColorPicker from './shared/initColorPicker';\n\nconst { UI } = PDFJSAnnotate;\nconst documentId = 'example.pdf';\nlet PAGE_HEIGHT;\nlet RENDER_OPTIONS = {\n  documentId,\n  pdfDocument: null,\n  scale: parseFloat(localStorage.getItem(`${documentId}/scale`), 10) || 1.33,\n  rotate: parseInt(localStorage.getItem(`${documentId}/rotate`), 10) || 0\n};\n\nPDFJSAnnotate.setStoreAdapter(new PDFJSAnnotate.LocalStoreAdapter());\nPDFJS.workerSrc = './shared/pdf.worker.js';\n\n// Render stuff\nlet NUM_PAGES = 0;\ndocument.getElementById('content-wrapper').addEventListener('scroll', function (e) {\n  let visiblePageNum = Math.round(e.target.scrollTop / PAGE_HEIGHT) + 1;\n  let visiblePage = document.querySelector(`.page[data-page-number=\"${visiblePageNum}\"][data-loaded=\"false\"]`);\n  if (visiblePage) {\n    setTimeout(function () {\n      UI.renderPage(visiblePageNum, RENDER_OPTIONS);\n    });\n  }\n});\n\nfunction render() {\n  PDFJS.getDocument(RENDER_OPTIONS.documentId).then((pdf) => {\n    RENDER_OPTIONS.pdfDocument = pdf;\n\n    let viewer = document.getElementById('viewer');\n    viewer.innerHTML = '';\n    NUM_PAGES = pdf.pdfInfo.numPages;\n    for (let i=0; i<NUM_PAGES; i++) {\n      let page = UI.createPage(i+1);\n      viewer.appendChild(page);\n    }\n\n    UI.renderPage(1, RENDER_OPTIONS).then(([pdfPage, annotations]) => {\n      let viewport = pdfPage.getViewport(RENDER_OPTIONS.scale, RENDER_OPTIONS.rotate);\n      PAGE_HEIGHT = viewport.height;\n    });\n  });\n}\nrender();\n\n// Text stuff\n(function () {\n  let textSize;\n  let textColor;\n\n  function initText() {\n    let size = document.querySelector('.toolbar .text-size');\n    [8, 9, 10, 11, 12, 14, 18, 24, 30, 36, 48, 60, 72, 96].forEach((s) => {\n      size.appendChild(new Option (s, s));\n    });\n\n    setText(\n      localStorage.getItem(`${RENDER_OPTIONS.documentId}/text/size`) || 10,\n      localStorage.getItem(`${RENDER_OPTIONS.documentId}/text/color`) || '#000000'\n    );\n\n    initColorPicker(document.querySelector('.text-color'), textColor, function (value) {\n      setText(textSize, value);\n    });\n  }\n\n  function setText(size, color) {\n    let modified = false;\n\n    if (textSize !== size) {\n      modified = true;\n      textSize = size;\n      localStorage.setItem(`${RENDER_OPTIONS.documentId}/text/size`, textSize);\n      document.querySelector('.toolbar .text-size').value = textSize;\n    }\n\n    if (textColor !== color) {\n      modified = true;\n      textColor = color;\n      localStorage.setItem(`${RENDER_OPTIONS.documentId}/text/color`, textColor);\n\n      let selected = document.querySelector('.toolbar .text-color.color-selected');\n      if (selected) {\n        selected.classList.remove('color-selected');\n        selected.removeAttribute('aria-selected');\n      }\n\n      selected = document.querySelector(`.toolbar .text-color[data-color=\"${color}\"]`);\n      if (selected) {\n        selected.classList.add('color-selected');\n        selected.setAttribute('aria-selected', true);\n      }\n\n    }\n\n    if (modified) {\n      UI.setText(textSize, textColor);\n    }\n  }\n\n  function handleTextSizeChange(e) {\n    setText(e.target.value, textColor);\n  }\n\n  document.querySelector('.toolbar .text-size').addEventListener('change', handleTextSizeChange);\n\n  initText();\n})();\n\n// Pen stuff\n(function () {\n  let penSize;\n  let penColor;\n\n  function initPen() {\n    let size = document.querySelector('.toolbar .pen-size');\n    for (let i=0; i<20; i++) {\n      size.appendChild(new Option(i+1, i+1));\n    }\n\n    setPen(\n      localStorage.getItem(`${RENDER_OPTIONS.documentId}/pen/size`) || 1,\n      localStorage.getItem(`${RENDER_OPTIONS.documentId}/pen/color`) || '#000000'\n    );\n\n    initColorPicker(document.querySelector('.pen-color'), penColor, function (value) {\n      setPen(penSize, value);\n    });\n  }\n\n  function setPen(size, color) {\n    let modified = false;\n\n    if (penSize !== size) {\n      modified = true;\n      penSize = size;\n      localStorage.setItem(`${RENDER_OPTIONS.documentId}/pen/size`, penSize);\n      document.querySelector('.toolbar .pen-size').value = penSize;\n    }\n\n    if (penColor !== color) {\n      modified = true;\n      penColor = color;\n      localStorage.setItem(`${RENDER_OPTIONS.documentId}/pen/color`, penColor);\n\n      let selected = document.querySelector('.toolbar .pen-color.color-selected');\n      if (selected) {\n        selected.classList.remove('color-selected');\n        selected.removeAttribute('aria-selected');\n      }\n\n      selected = document.querySelector(`.toolbar .pen-color[data-color=\"${color}\"]`);\n      if (selected) {\n        selected.classList.add('color-selected');\n        selected.setAttribute('aria-selected', true);\n      }\n    }\n\n    if (modified) {\n      UI.setPen(penSize, penColor);\n    }\n  }\n\n  function handlePenSizeChange(e) {\n    setPen(e.target.value, penColor);\n  }\n\n  document.querySelector('.toolbar .pen-size').addEventListener('change', handlePenSizeChange);\n\n  initPen();\n})();\n\n// Toolbar buttons\n(function () {\n  let tooltype = localStorage.getItem(`${RENDER_OPTIONS.documentId}/tooltype`) || 'cursor';\n  if (tooltype) {\n    setActiveToolbarItem(tooltype, document.querySelector(`.toolbar button[data-tooltype=${tooltype}]`));\n  }\n\n  function setActiveToolbarItem(type, button) {\n    let active = document.querySelector('.toolbar button.active');\n    if (active) {\n      active.classList.remove('active');\n\n      switch (tooltype) {\n        case 'cursor':\n          UI.disableEdit();\n          break;\n        case 'draw':\n          UI.disablePen();\n          break;\n        case 'text':\n          UI.disableText();\n          break;\n        case 'point':\n          UI.disablePoint();\n          break;\n        case 'area':\n        case 'highlight':\n        case 'strikeout':\n          UI.disableRect();\n          break;\n      }\n    }\n\n    if (button) {\n      button.classList.add('active');\n    }\n    if (tooltype !== type) {\n      localStorage.setItem(`${RENDER_OPTIONS.documentId}/tooltype`, type);\n    }\n    tooltype = type;\n\n    switch (type) {\n      case 'cursor':\n        UI.enableEdit();\n        break;\n      case 'draw':\n        UI.enablePen();\n        break;\n      case 'text':\n        UI.enableText();\n        break;\n      case 'point':\n        UI.enablePoint();\n        break;\n      case 'area':\n      case 'highlight':\n      case 'strikeout':\n        UI.enableRect(type);\n        break;\n    }\n  }\n\n  function handleToolbarClick(e) {\n    if (e.target.nodeName === 'BUTTON') {\n      setActiveToolbarItem(e.target.getAttribute('data-tooltype'), e.target);\n    }\n  }\n\n  document.querySelector('.toolbar').addEventListener('click', handleToolbarClick);\n})();\n\n// Scale/rotate\n(function () {\n  function setScaleRotate(scale, rotate) {\n    scale = parseFloat(scale, 10);\n    rotate = parseInt(rotate, 10);\n\n    if (RENDER_OPTIONS.scale !== scale || RENDER_OPTIONS.rotate !== rotate) {\n      RENDER_OPTIONS.scale = scale;\n      RENDER_OPTIONS.rotate = rotate;\n\n      localStorage.setItem(`${RENDER_OPTIONS.documentId}/scale`, RENDER_OPTIONS.scale);\n      localStorage.setItem(`${RENDER_OPTIONS.documentId}/rotate`, RENDER_OPTIONS.rotate % 360);\n\n      render();\n    }\n  }\n\n  function handleScaleChange(e) {\n    setScaleRotate(e.target.value, RENDER_OPTIONS.rotate);\n  }\n\n  function handleRotateCWClick() {\n    setScaleRotate(RENDER_OPTIONS.scale, RENDER_OPTIONS.rotate + 90);\n  }\n\n  function handleRotateCCWClick() {\n    setScaleRotate(RENDER_OPTIONS.scale, RENDER_OPTIONS.rotate - 90);\n  }\n\n  document.querySelector('.toolbar select.scale').value = RENDER_OPTIONS.scale;\n  document.querySelector('.toolbar select.scale').addEventListener('change', handleScaleChange);\n  document.querySelector('.toolbar .rotate-ccw').addEventListener('click', handleRotateCCWClick);\n  document.querySelector('.toolbar .rotate-cw').addEventListener('click', handleRotateCWClick);\n})();\n\n// Clear toolbar button\n(function () {\n  function handleClearClick(e) {\n    if (confirm('Are you sure you want to clear annotations?')) {\n      for (let i=0; i<NUM_PAGES; i++) {\n        document.querySelector(`div#pageContainer${i+1} svg.annotationLayer`).innerHTML = '';\n      }\n\n      localStorage.removeItem(`${RENDER_OPTIONS.documentId}/annotations`);\n    }\n  }\n  document.querySelector('a.clear').addEventListener('click', handleClearClick);\n})();\n\n// Comment stuff\n(function (window, document) {\n  let commentList = document.querySelector('#comment-wrapper .comment-list-container');\n  let commentForm = document.querySelector('#comment-wrapper .comment-list-form');\n  let commentText = commentForm.querySelector('input[type=\"text\"]');\n\n  function supportsComments(target) {\n    let type = target.getAttribute('data-pdf-annotate-type');\n    return ['point', 'highlight', 'area'].indexOf(type) > -1;\n  }\n\n  function insertComment(comment) {\n    let child = document.createElement('div');\n    child.className = 'comment-list-item';\n    child.innerHTML = twitter.autoLink(twitter.htmlEscape(comment.content));\n\n    commentList.appendChild(child);\n  }\n\n  function handleAnnotationClick(target) {\n    if (supportsComments(target)) {\n      let documentId = target.parentNode.getAttribute('data-pdf-annotate-document');\n      let annotationId = target.getAttribute('data-pdf-annotate-id');\n\n      PDFJSAnnotate.getStoreAdapter().getComments(documentId, annotationId).then((comments) => {\n        commentList.innerHTML = '';\n        commentForm.style.display = '';\n        commentText.focus();\n\n        commentForm.onsubmit = function () {\n          PDFJSAnnotate.getStoreAdapter().addComment(documentId, annotationId, commentText.value.trim())\n            .then(insertComment)\n            .then(() => {\n              commentText.value = '';\n              commentText.focus();\n            });\n\n          return false;\n        };\n\n        comments.forEach(insertComment);\n      });\n    }\n  }\n\n  function handleAnnotationBlur(target) {\n    if (supportsComments(target)) {\n      commentList.innerHTML = '';\n      commentForm.style.display = 'none';\n      commentForm.onsubmit = null;\n\n      insertComment({content: 'No comments'});\n    }\n  }\n\n  UI.addEventListener('annotation:click', handleAnnotationClick);\n  UI.addEventListener('annotation:blur', handleAnnotationBlur);\n})(window, document);\n"],"sourceRoot":""}